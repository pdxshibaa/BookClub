(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Id={exports:{}},gl={};var M_;function TS(){if(M_)return gl;M_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=t,gl.jsx=i,gl.jsxs=i,gl}var U_;function AS(){return U_||(U_=1,Id.exports=TS()),Id.exports}var yt=AS(),Cd={exports:{}},vt={};var L_;function SS(){if(L_)return vt;L_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function G(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,J={};function ct(V,F,$){this.props=V,this.context=F,this.refs=J,this.updater=$||Z}ct.prototype.isReactComponent={},ct.prototype.setState=function(V,F){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,F,"setState")},ct.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function dt(){}dt.prototype=ct.prototype;function ht(V,F,$){this.props=V,this.context=F,this.refs=J,this.updater=$||Z}var qt=ht.prototype=new dt;qt.constructor=ht,et(qt,ct.prototype),qt.isPureReactComponent=!0;var Wt=Array.isArray;function Ut(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(V,F,$){var rt=$.ref;return{$$typeof:s,type:V,key:F,ref:rt!==void 0?rt:null,props:$}}function U(V,F){return C(V.type,F,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function b(V){var F={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function($){return F[$]})}var S=/\/+/g;function Tt(V,F){return typeof V=="object"&&V!==null&&V.key!=null?b(""+V.key):F.toString(36)}function Yt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ut,Ut):(V.status="pending",V.then(function(F){V.status==="pending"&&(V.status="fulfilled",V.value=F)},function(F){V.status==="pending"&&(V.status="rejected",V.reason=F)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function j(V,F,$,rt,pt){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var Pt=!1;if(V===null)Pt=!0;else switch(bt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(V.$$typeof){case s:case t:Pt=!0;break;case A:return Pt=V._init,j(Pt(V._payload),F,$,rt,pt)}}if(Pt)return pt=pt(V),Pt=rt===""?"."+Tt(V,0):rt,Wt(pt)?($="",Pt!=null&&($=Pt.replace(S,"$&/")+"/"),j(pt,F,$,"",function(ns){return ns})):pt!=null&&(N(pt)&&(pt=U(pt,$+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(S,"$&/")+"/")+Pt)),F.push(pt)),1;Pt=0;var De=rt===""?".":rt+":";if(Wt(V))for(var se=0;se<V.length;se++)rt=V[se],bt=De+Tt(rt,se),Pt+=j(rt,F,$,bt,pt);else if(se=G(V),typeof se=="function")for(V=se.call(V),se=0;!(rt=V.next()).done;)rt=rt.value,bt=De+Tt(rt,se++),Pt+=j(rt,F,$,bt,pt);else if(bt==="object"){if(typeof V.then=="function")return j(Yt(V),F,$,rt,pt);throw F=String(V),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function tt(V,F,$){if(V==null)return V;var rt=[],pt=0;return j(V,rt,"","",function(bt){return F.call($,bt,pt++)}),rt}function ot(V){if(V._status===-1){var F=V._result;F=F(),F.then(function($){(V._status===0||V._status===-1)&&(V._status=1,V._result=$)},function($){(V._status===0||V._status===-1)&&(V._status=2,V._result=$)}),V._status===-1&&(V._status=0,V._result=F)}if(V._status===1)return V._result.default;throw V._result}var Ct=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},xt={map:tt,forEach:function(V,F,$){tt(V,function(){F.apply(this,arguments)},$)},count:function(V){var F=0;return tt(V,function(){F++}),F},toArray:function(V){return tt(V,function(F){return F})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return vt.Activity=w,vt.Children=xt,vt.Component=ct,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ht,vt.StrictMode=a,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},vt.cache=function(V){return function(){return V.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(V,F,$){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=et({},V.props),pt=V.key;if(F!=null)for(bt in F.key!==void 0&&(pt=""+F.key),F)!R.call(F,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&F.ref===void 0||(rt[bt]=F[bt]);var bt=arguments.length-2;if(bt===1)rt.children=$;else if(1<bt){for(var Pt=Array(bt),De=0;De<bt;De++)Pt[De]=arguments[De+2];rt.children=Pt}return C(V.type,pt,rt)},vt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},vt.createElement=function(V,F,$){var rt,pt={},bt=null;if(F!=null)for(rt in F.key!==void 0&&(bt=""+F.key),F)R.call(F,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=F[rt]);var Pt=arguments.length-2;if(Pt===1)pt.children=$;else if(1<Pt){for(var De=Array(Pt),se=0;se<Pt;se++)De[se]=arguments[se+2];pt.children=De}if(V&&V.defaultProps)for(rt in Pt=V.defaultProps,Pt)pt[rt]===void 0&&(pt[rt]=Pt[rt]);return C(V,bt,pt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(V){return{$$typeof:g,render:V}},vt.isValidElement=N,vt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:ot}},vt.memo=function(V,F){return{$$typeof:_,type:V,compare:F===void 0?null:F}},vt.startTransition=function(V){var F=D.T,$={};D.T=$;try{var rt=V(),pt=D.S;pt!==null&&pt($,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ut,Ct)}catch(bt){Ct(bt)}finally{F!==null&&$.types!==null&&(F.types=$.types),D.T=F}},vt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vt.use=function(V){return D.H.use(V)},vt.useActionState=function(V,F,$){return D.H.useActionState(V,F,$)},vt.useCallback=function(V,F){return D.H.useCallback(V,F)},vt.useContext=function(V){return D.H.useContext(V)},vt.useDebugValue=function(){},vt.useDeferredValue=function(V,F){return D.H.useDeferredValue(V,F)},vt.useEffect=function(V,F){return D.H.useEffect(V,F)},vt.useEffectEvent=function(V){return D.H.useEffectEvent(V)},vt.useId=function(){return D.H.useId()},vt.useImperativeHandle=function(V,F,$){return D.H.useImperativeHandle(V,F,$)},vt.useInsertionEffect=function(V,F){return D.H.useInsertionEffect(V,F)},vt.useLayoutEffect=function(V,F){return D.H.useLayoutEffect(V,F)},vt.useMemo=function(V,F){return D.H.useMemo(V,F)},vt.useOptimistic=function(V,F){return D.H.useOptimistic(V,F)},vt.useReducer=function(V,F,$){return D.H.useReducer(V,F,$)},vt.useRef=function(V){return D.H.useRef(V)},vt.useState=function(V){return D.H.useState(V)},vt.useSyncExternalStore=function(V,F,$){return D.H.useSyncExternalStore(V,F,$)},vt.useTransition=function(){return D.H.useTransition()},vt.version="19.2.3",vt}var P_;function _m(){return P_||(P_=1,Cd.exports=SS()),Cd.exports}var un=_m(),Dd={exports:{}},pl={},Nd={exports:{}},Od={};var k_;function bS(){return k_||(k_=1,(function(s){function t(j,tt){var ot=j.length;j.push(tt);t:for(;0<ot;){var Ct=ot-1>>>1,xt=j[Ct];if(0<l(xt,tt))j[Ct]=tt,j[ot]=xt,ot=Ct;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var tt=j[0],ot=j.pop();if(ot!==tt){j[0]=ot;t:for(var Ct=0,xt=j.length,V=xt>>>1;Ct<V;){var F=2*(Ct+1)-1,$=j[F],rt=F+1,pt=j[rt];if(0>l($,ot))rt<xt&&0>l(pt,$)?(j[Ct]=pt,j[rt]=ot,Ct=rt):(j[Ct]=$,j[F]=ot,Ct=F);else if(rt<xt&&0>l(pt,ot))j[Ct]=pt,j[rt]=ot,Ct=rt;else break t}}return tt}function l(j,tt){var ot=j.sortIndex-tt.sortIndex;return ot!==0?ot:j.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,w=null,M=3,G=!1,Z=!1,et=!1,J=!1,ct=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function qt(j){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=j)a(_),tt.sortIndex=tt.expirationTime,t(y,tt);else break;tt=i(_)}}function Wt(j){if(et=!1,qt(j),!Z)if(i(y)!==null)Z=!0,Ut||(Ut=!0,b());else{var tt=i(_);tt!==null&&Yt(Wt,tt.startTime-j)}}var Ut=!1,D=-1,R=5,C=-1;function U(){return J?!0:!(s.unstable_now()-C<R)}function N(){if(J=!1,Ut){var j=s.unstable_now();C=j;var tt=!0;try{t:{Z=!1,et&&(et=!1,dt(D),D=-1),G=!0;var ot=M;try{e:{for(qt(j),w=i(y);w!==null&&!(w.expirationTime>j&&U());){var Ct=w.callback;if(typeof Ct=="function"){w.callback=null,M=w.priorityLevel;var xt=Ct(w.expirationTime<=j);if(j=s.unstable_now(),typeof xt=="function"){w.callback=xt,qt(j),tt=!0;break e}w===i(y)&&a(y),qt(j)}else a(y);w=i(y)}if(w!==null)tt=!0;else{var V=i(_);V!==null&&Yt(Wt,V.startTime-j),tt=!1}}break t}finally{w=null,M=ot,G=!1}tt=void 0}}finally{tt?b():Ut=!1}}}var b;if(typeof ht=="function")b=function(){ht(N)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,Tt=S.port2;S.port1.onmessage=N,b=function(){Tt.postMessage(null)}}else b=function(){ct(N,0)};function Yt(j,tt){D=ct(function(){j(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(j){switch(M){case 1:case 2:case 3:var tt=3;break;default:tt=M}var ot=M;M=tt;try{return j()}finally{M=ot}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ot=M;M=j;try{return tt()}finally{M=ot}},s.unstable_scheduleCallback=function(j,tt,ot){var Ct=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ct+ot:Ct):ot=Ct,j){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=ot+xt,j={id:A++,callback:tt,priorityLevel:j,startTime:ot,expirationTime:xt,sortIndex:-1},ot>Ct?(j.sortIndex=ot,t(_,j),i(y)===null&&j===i(_)&&(et?(dt(D),D=-1):et=!0,Yt(Wt,ot-Ct))):(j.sortIndex=xt,t(y,j),Z||G||(Z=!0,Ut||(Ut=!0,b()))),j},s.unstable_shouldYield=U,s.unstable_wrapCallback=function(j){var tt=M;return function(){var ot=M;M=tt;try{return j.apply(this,arguments)}finally{M=ot}}}})(Od)),Od}var x_;function wS(){return x_||(x_=1,Nd.exports=bS()),Nd.exports}var Vd={exports:{}},Ke={};var z_;function RS(){if(z_)return Ke;z_=1;var s=_m();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Ke.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},Ke.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Ke.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ke.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:G}):A==="script"&&a.d.X(y,{crossOrigin:w,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Ke.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Ke.requestFormReset=function(y){a.d.r(y)},Ke.unstable_batchedUpdates=function(y,_){return y(_)},Ke.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var B_;function IS(){if(B_)return Vd.exports;B_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Vd.exports=RS(),Vd.exports}var q_;function CS(){if(q_)return pl;q_=1;var s=wS(),t=_m(),i=IS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function b(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function Tt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ct:return"Profiler";case J:return"StrictMode";case Wt:return"Suspense";case Ut:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ht:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:Tt(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return Tt(e(n))}catch{}}return null}var Yt=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Ct=[],xt=-1;function V(e){return{current:e}}function F(e){0>xt||(e.current=Ct[xt],Ct[xt]=null,xt--)}function $(e,n){xt++,Ct[xt]=e.current,e.current=n}var rt=V(null),pt=V(null),bt=V(null),Pt=V(null);function De(e,n){switch($(bt,n),$(pt,e),$(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?n_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=n_(n),e=i_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(rt),$(rt,e)}function se(){F(rt),F(pt),F(bt)}function ns(e){e.memoizedState!==null&&$(Pt,e);var n=rt.current,r=i_(n,e.type);n!==r&&($(pt,e),$(rt,r))}function Qs(e){pt.current===e&&(F(rt),F(pt)),Pt.current===e&&(F(Pt),hl._currentValue=ot)}var Ks,Ys;function Wn(e){if(Ks===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ks=n&&n[1]||"",Ys=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+e+Ys}var co=!1;function is(e,n){if(!e||co)return"";co=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){z=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),x=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<x.length&&!x[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===x.length)for(o=I.length-1,h=x.length-1;1<=o&&0<=h&&I[o]!==x[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==x[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==x[h]){var H=`
`+I[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{co=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Wn(r):""}function ho(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return is(e.type,!1);case 11:return is(e.type.render,!1);case 1:return is(e.type,!0);case 31:return Wn("Activity");default:return""}}function fo(e){try{var n="",r=null;do n+=ho(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,er=s.unstable_cancelCallback,Ch=s.unstable_shouldYield,Jl=s.unstable_requestPaint,$e=s.unstable_now,rs=s.unstable_getCurrentPriorityLevel,mo=s.unstable_ImmediatePriority,go=s.unstable_UserBlockingPriority,nr=s.unstable_NormalPriority,Dh=s.unstable_LowPriority,$l=s.unstable_IdlePriority,Wl=s.log,tu=s.unstable_setDisableYieldValue,Pn=null,xe=null;function An(e){if(typeof Wl=="function"&&tu(e),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(Pn,e)}catch{}}var he=Math.clz32?Math.clz32:nu,eu=Math.log,Xs=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/Xs|0)|0}var ti=256,ss=262144,ye=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ei(o):(p&=E,p!==0?h=ei(p):r||(r=E&~e,r!==0&&(h=ei(r))))):(E=o&~f,E!==0?h=ei(E):p!==0?h=ei(p):r||(r=o&~e,r!==0&&(h=ei(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ii(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function as(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,x=e.hiddenUpdates;for(r=p&~r;0<r;){var H=31-he(r),K=1<<H;E[H]=0,I[H]=-1;var z=x[H];if(z!==null)for(x[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}r&=~K}o!==0&&os(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function os(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function po(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-he(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function yo(e,n){var r=n&-n;return r=(r&42)!==0?1:ls(r),(r&(e.suspendedLanes|n))!==0?0:r}function ls(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:R_(e.type))}function xn(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var zn=Math.random().toString(36).slice(2),_e="__reactFiber$"+zn,Ue="__reactProps$"+zn,ri="__reactContainer$"+zn,Zs="__reactEvents$"+zn,Vh="__reactListeners$"+zn,su="__reactHandles$"+zn,au="__reactResources$"+zn,si="__reactMarker$"+zn;function Js(e){delete e[_e],delete e[Ue],delete e[Zs],delete e[Vh],delete e[su]}function ai(e){var n=e[_e];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ri]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=c_(e);e!==null;){if(r=e[_e])return r;e=c_(e)}return n}e=r,r=e.parentNode}return null}function Sn(e){if(e=e[_e]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[si]=!0}var _o=new Set,vo={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(vo[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Ao={};function ou(e){return pe.call(Ao,e)?!0:pe.call(To,e)?!1:Eo.test(e)?Ao[e]=!0:(To[e]=!0,!1)}function $s(e,n,r){if(ou(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function dn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ee(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ir(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ir(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function us(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ir(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cs=/[\n"\\]/g;function en(e){return e.replace(cs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ws(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?bo(e,p,Le(n)):r!=null?bo(e,p,Le(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function lu(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}r=r!=null?""+Le(r):"",n=n!=null?""+Le(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Gt(e)}function bo(e,n,r){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function rr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Le(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,r){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Le(r):""}function sr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Yt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Le(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ro(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return ar.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Io=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,hi=null;function hs(e){var n=Sn(e);if(n&&(e=n.stateNode)){var r=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ws(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(a(90));Ws(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&us(o)}break t;case"textarea":uu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&rr(e,!!r.multiple,n,!1)}}}var na=!1;function lr(e,n,r){if(na)return e(n,r);na=!0;try{var o=e(n);return o}finally{if(na=!1,(or!==null||hi!==null)&&(rc(),or&&(n=or,e=hi,hi=or=null,hs(n),e)))for(n=0;n<e.length;n++)hs(e[n])}}function qn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ue]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(wn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){fs=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{fs=!1}var fi=null,Co=null,ds=null;function Do(){if(ds)return ds;var e,n=Co,r=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return ds=h.slice(e,1<o?1-o:void 0)}function ms(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function jn(){return!1}function ze(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:jn,this.isPropagationStopped=jn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ze(Oi),ur=w({},Oi,{view:0,detail:0}),No=ze(ur),cr,ia,mi,ra=w({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(cr=e.screenX-mi.screenX,ia=e.screenY-mi.screenY):ia=cr=0,mi=e),cr)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Oo=ze(ra),gs=w({},ra,{dataTransfer:0}),fu=ze(gs),du=w({},ur,{relatedTarget:0}),ps=ze(du),Vo=w({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=ze(Vo),sa=w({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=ze(sa),pu=w({},Oi,{data:0}),gi=ze(pu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function hr(){return Eu}var We=w({},ur,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=ze(We),Au=w({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=ze(Au),u=w({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),m=ze(u),v=w({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),P=w({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(P),W=w({},Oi,{newState:0,oldState:0}),At=ze(W),fe=[9,13,27,32],jt=wn&&"CompositionEvent"in window,ae=null;wn&&"documentMode"in document&&(ae=document.documentMode);var Rn=wn&&"TextEvent"in window&&!ae,pi=wn&&(!jt||ae&&8<ae&&11>=ae),Hn=" ",Fn=!1;function ys(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function G0(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Fn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Fn?null:e;default:return null}}function Q0(e,n){if(oa)return e==="compositionend"||!jt&&ys(e,n)?(e=Do(),ds=Co=fi=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var K0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!K0[e.type]:n==="textarea"}function mg(e,n,r,o){or?hi?hi.push(o):hi=[o]:or=o,n=hc(n,"onChange"),0<n.length&&(r=new di("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Mo=null,Uo=null;function Y0(e){Zy(e,0)}function Su(e){var n=fn(e);if(us(n))return e}function gg(e,n){if(e==="change")return n}var pg=!1;if(wn){var Mh;if(wn){var Uh="oninput"in document;if(!Uh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Uh=typeof yg.oninput=="function"}Mh=Uh}else Mh=!1;pg=Mh&&(!document.documentMode||9<document.documentMode)}function _g(){Mo&&(Mo.detachEvent("onpropertychange",vg),Uo=Mo=null)}function vg(e){if(e.propertyName==="value"&&Su(Uo)){var n=[];mg(n,Uo,e,bn(e)),lr(Y0,n)}}function X0(e,n,r){e==="focusin"?(_g(),Mo=n,Uo=r,Mo.attachEvent("onpropertychange",vg)):e==="focusout"&&_g()}function Z0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Uo)}function J0(e,n){if(e==="click")return Su(n)}function $0(e,n){if(e==="input"||e==="change")return Su(n)}function W0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:W0;function Lo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!pe.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function Eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tg(e,n){var r=Eg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Eg(r)}}function Ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ci(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var tA=wn&&"documentMode"in document&&11>=document.documentMode,la=null,Ph=null,Po=null,kh=!1;function bg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kh||la==null||la!==ci(o)||(o=la,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Lo(Po,o)||(Po=o,o=hc(Ph,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=la)))}function _s(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ua={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},xh={},wg={};wn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function vs(e){if(xh[e])return xh[e];if(!ua[e])return e;var n=ua[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in wg)return xh[e]=n[r];return e}var Rg=vs("animationend"),Ig=vs("animationiteration"),Cg=vs("animationstart"),eA=vs("transitionrun"),nA=vs("transitionstart"),iA=vs("transitioncancel"),Dg=vs("transitionend"),Ng=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Gn(e,n){Ng.set(e,n),li(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ca=0,Bh=0;function wu(){for(var e=ca,n=Bh=ca=0;n<e;){var r=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Og(r,h,f)}}function Ru(e,n,r,o){In[ca++]=e,In[ca++]=n,In[ca++]=r,In[ca++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,r,o){return Ru(e,n,r,o),Iu(e)}function Es(e,n){return Ru(e,null,null,n),Iu(e)}function Og(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Iu(e){if(50<rl)throw rl=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function rA(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,r,o){return new rA(e,n,r,o)}function jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var r=e.alternate;return r===null?(r=gn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Vg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")jh(e)&&(p=1);else if(typeof e=="string")p=uS(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gn(31,r,n,h),e.elementType=C,e.lanes=f,e;case et:return Ts(r.children,h,f,n);case J:p=8,h|=24;break;case ct:return e=gn(12,r,n,h|2),e.elementType=ct,e.lanes=f,e;case Wt:return e=gn(13,r,n,h),e.elementType=Wt,e.lanes=f,e;case Ut:return e=gn(19,r,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:p=10;break t;case dt:p=9;break t;case qt:p=11;break t;case D:p=14;break t;case R:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ts(e,n,r,o){return e=gn(7,e,o,n),e.lanes=r,e}function Hh(e,n,r){return e=gn(6,e,null,n),e.lanes=r,e}function Mg(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,r){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ug=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var r=Ug.get(e);return r!==void 0?r:(n={value:e,source:n,stack:fo(n)},Ug.set(e,n),n)}return{value:e,source:n,stack:fo(n)}}var fa=[],da=0,Du=null,ko=0,Dn=[],Nn=0,fr=null,yi=1,_i="";function Ui(e,n){fa[da++]=ko,fa[da++]=Du,Du=e,ko=n}function Lg(e,n,r){Dn[Nn++]=yi,Dn[Nn++]=_i,Dn[Nn++]=fr,fr=e;var o=yi;e=_i;var h=32-he(o)-1;o&=~(1<<h),r+=1;var f=32-he(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,yi=1<<32-he(n)+h|r<<h|o,_i=f+e}else yi=1<<f|r<<h|o,_i=e}function Gh(e){e.return!==null&&(Ui(e,1),Lg(e,1,0))}function Qh(e){for(;e===Du;)Du=fa[--da],fa[da]=null,ko=fa[--da],fa[da]=null;for(;e===fr;)fr=Dn[--Nn],Dn[Nn]=null,_i=Dn[--Nn],Dn[Nn]=null,yi=Dn[--Nn],Dn[Nn]=null}function Pg(e,n){Dn[Nn++]=yi,Dn[Nn++]=_i,Dn[Nn++]=fr,yi=n.id,_i=n.overflow,fr=e}var Be=null,ne=null,Lt=!1,dr=null,On=!1,Kh=Error(a(519));function mr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xo(Cn(n,e)),Kh}function kg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Ue]=o,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<al.length;r++)It(al[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),sr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||t_(n.textContent,r)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||mr(e,!0)}function xg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function ma(e){if(e!==Be)return!1;if(!Lt)return xg(e),Lt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||fd(e.type,e.memoizedProps)),r=!r),r&&ne&&mr(e),xg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=u_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=u_(e)}else n===27?(n=ne,Cr(e.type)?(e=yd,yd=null,ne=e):ne=n):ne=Be?Mn(e.stateNode.nextSibling):null;return!0}function As(){ne=Be=null,Lt=!1}function Yh(){var e=dr;return e!==null&&(on===null?on=e:on.push.apply(on,e),dr=null),e}function xo(e){dr===null?dr=[e]:dr.push(e)}var Xh=V(null),Ss=null,Li=null;function gr(e,n,r){$(Xh,n._currentValue),n._currentValue=r}function Pi(e){e._currentValue=Xh.current,F(Xh)}function Zh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Jh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Zh(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Zh(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ga(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;mn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Pt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Jh(n,e,r,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){Ss=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return zg(Ss,e)}function Ou(e,n){return Ss===null&&bs(e),zg(e,n)}function zg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Li===null){if(e===null)throw Error(a(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return r}var sA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},aA=s.unstable_scheduleCallback,oA=s.unstable_NormalPriority,Te={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new sA,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&aA(oA,function(){e.controller.abort()})}var Bo=null,Wh=0,pa=0,ya=null;function lA(e,n){if(Bo===null){var r=Bo=[];Wh=0,pa=id(),ya={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Wh++,n.then(Bg,Bg),n}function Bg(){if(--Wh===0&&Bo!==null){ya!==null&&(ya.status="fulfilled");var e=Bo;Bo=null,pa=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function uA(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var qg=j.S;j.S=function(e,n){by=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&lA(e,n),qg!==null&&qg(e,n)};var ws=V(null);function tf(){var e=ws.current;return e!==null?e:te.pooledCache}function Vu(e,n){n===null?$(ws,ws.current):$(ws,n.pool)}function jg(){var e=tf();return e===null?null:{parent:Te._currentValue,pool:e}}var _a=Error(a(460)),ef=Error(a(474)),Mu=Error(a(542)),Uu={then:function(){}};function Hg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e}throw Is=n,_a}}function Rs(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Is=r,_a):r}}var Is=null;function Gg(){if(Is===null)throw Error(a(459));var e=Is;return Is=null,e}function Qg(e){if(e===_a||e===Mu)throw Error(a(483))}var va=null,qo=0;function Lu(e){var n=qo;return qo+=1,va===null&&(va=[]),Fg(va,e,n)}function jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Kg(e){function n(L,O){if(e){var k=L.deletions;k===null?(L.deletions=[O],L.flags|=16):k.push(O)}}function r(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Mi(L,O),L.index=0,L.sibling=null,L}function f(L,O,k){return L.index=k,e?(k=L.alternate,k!==null?(k=k.index,k<O?(L.flags|=67108866,O):k):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,O,k,Q){return O===null||O.tag!==6?(O=Hh(k,L.mode,Q),O.return=L,O):(O=h(O,k),O.return=L,O)}function I(L,O,k,Q){var lt=k.type;return lt===et?H(L,O,k.props.children,Q,k.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===R&&Rs(lt)===O.type)?(O=h(O,k.props),jo(O,k),O.return=L,O):(O=Cu(k.type,k.key,k.props,null,L.mode,Q),jo(O,k),O.return=L,O)}function x(L,O,k,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=Fh(k,L.mode,Q),O.return=L,O):(O=h(O,k.children||[]),O.return=L,O)}function H(L,O,k,Q,lt){return O===null||O.tag!==7?(O=Ts(k,L.mode,Q,lt),O.return=L,O):(O=h(O,k),O.return=L,O)}function K(L,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Hh(""+O,L.mode,k),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return k=Cu(O.type,O.key,O.props,null,L.mode,k),jo(k,O),k.return=L,k;case Z:return O=Fh(O,L.mode,k),O.return=L,O;case R:return O=Rs(O),K(L,O,k)}if(Yt(O)||b(O))return O=Ts(O,L.mode,k,null),O.return=L,O;if(typeof O.then=="function")return K(L,Lu(O),k);if(O.$$typeof===ht)return K(L,Ou(L,O),k);Pu(L,O)}return null}function z(L,O,k,Q){var lt=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return lt!==null?null:E(L,O,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case G:return k.key===lt?I(L,O,k,Q):null;case Z:return k.key===lt?x(L,O,k,Q):null;case R:return k=Rs(k),z(L,O,k,Q)}if(Yt(k)||b(k))return lt!==null?null:H(L,O,k,Q,null);if(typeof k.then=="function")return z(L,O,Lu(k),Q);if(k.$$typeof===ht)return z(L,O,Ou(L,k),Q);Pu(L,k)}return null}function q(L,O,k,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(k)||null,E(O,L,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return L=L.get(Q.key===null?k:Q.key)||null,I(O,L,Q,lt);case Z:return L=L.get(Q.key===null?k:Q.key)||null,x(O,L,Q,lt);case R:return Q=Rs(Q),q(L,O,k,Q,lt)}if(Yt(Q)||b(Q))return L=L.get(k)||null,H(O,L,Q,lt,null);if(typeof Q.then=="function")return q(L,O,k,Lu(Q),lt);if(Q.$$typeof===ht)return q(L,O,k,Ou(O,Q),lt);Pu(O,Q)}return null}function st(L,O,k,Q){for(var lt=null,zt=null,at=O,wt=O=0,Nt=null;at!==null&&wt<k.length;wt++){at.index>wt?(Nt=at,at=null):Nt=at.sibling;var Bt=z(L,at,k[wt],Q);if(Bt===null){at===null&&(at=Nt);break}e&&at&&Bt.alternate===null&&n(L,at),O=f(Bt,O,wt),zt===null?lt=Bt:zt.sibling=Bt,zt=Bt,at=Nt}if(wt===k.length)return r(L,at),Lt&&Ui(L,wt),lt;if(at===null){for(;wt<k.length;wt++)at=K(L,k[wt],Q),at!==null&&(O=f(at,O,wt),zt===null?lt=at:zt.sibling=at,zt=at);return Lt&&Ui(L,wt),lt}for(at=o(at);wt<k.length;wt++)Nt=q(at,L,wt,k[wt],Q),Nt!==null&&(e&&Nt.alternate!==null&&at.delete(Nt.key===null?wt:Nt.key),O=f(Nt,O,wt),zt===null?lt=Nt:zt.sibling=Nt,zt=Nt);return e&&at.forEach(function(Mr){return n(L,Mr)}),Lt&&Ui(L,wt),lt}function ft(L,O,k,Q){if(k==null)throw Error(a(151));for(var lt=null,zt=null,at=O,wt=O=0,Nt=null,Bt=k.next();at!==null&&!Bt.done;wt++,Bt=k.next()){at.index>wt?(Nt=at,at=null):Nt=at.sibling;var Mr=z(L,at,Bt.value,Q);if(Mr===null){at===null&&(at=Nt);break}e&&at&&Mr.alternate===null&&n(L,at),O=f(Mr,O,wt),zt===null?lt=Mr:zt.sibling=Mr,zt=Mr,at=Nt}if(Bt.done)return r(L,at),Lt&&Ui(L,wt),lt;if(at===null){for(;!Bt.done;wt++,Bt=k.next())Bt=K(L,Bt.value,Q),Bt!==null&&(O=f(Bt,O,wt),zt===null?lt=Bt:zt.sibling=Bt,zt=Bt);return Lt&&Ui(L,wt),lt}for(at=o(at);!Bt.done;wt++,Bt=k.next())Bt=q(at,L,wt,Bt.value,Q),Bt!==null&&(e&&Bt.alternate!==null&&at.delete(Bt.key===null?wt:Bt.key),O=f(Bt,O,wt),zt===null?lt=Bt:zt.sibling=Bt,zt=Bt);return e&&at.forEach(function(ES){return n(L,ES)}),Lt&&Ui(L,wt),lt}function $t(L,O,k,Q){if(typeof k=="object"&&k!==null&&k.type===et&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case G:t:{for(var lt=k.key;O!==null;){if(O.key===lt){if(lt=k.type,lt===et){if(O.tag===7){r(L,O.sibling),Q=h(O,k.props.children),Q.return=L,L=Q;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===R&&Rs(lt)===O.type){r(L,O.sibling),Q=h(O,k.props),jo(Q,k),Q.return=L,L=Q;break t}r(L,O);break}else n(L,O);O=O.sibling}k.type===et?(Q=Ts(k.props.children,L.mode,Q,k.key),Q.return=L,L=Q):(Q=Cu(k.type,k.key,k.props,null,L.mode,Q),jo(Q,k),Q.return=L,L=Q)}return p(L);case Z:t:{for(lt=k.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){r(L,O.sibling),Q=h(O,k.children||[]),Q.return=L,L=Q;break t}else{r(L,O);break}else n(L,O);O=O.sibling}Q=Fh(k,L.mode,Q),Q.return=L,L=Q}return p(L);case R:return k=Rs(k),$t(L,O,k,Q)}if(Yt(k))return st(L,O,k,Q);if(b(k)){if(lt=b(k),typeof lt!="function")throw Error(a(150));return k=lt.call(k),ft(L,O,k,Q)}if(typeof k.then=="function")return $t(L,O,Lu(k),Q);if(k.$$typeof===ht)return $t(L,O,Ou(L,k),Q);Pu(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(r(L,O.sibling),Q=h(O,k),Q.return=L,L=Q):(r(L,O),Q=Hh(k,L.mode,Q),Q.return=L,L=Q),p(L)):r(L,O)}return function(L,O,k,Q){try{qo=0;var lt=$t(L,O,k,Q);return va=null,lt}catch(at){if(at===_a||at===Mu)throw at;var zt=gn(29,at,null,L.mode);return zt.lanes=Q,zt.return=L,zt}}}var Cs=Kg(!0),Yg=Kg(!1),pr=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _r(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),Og(e,null,r),n}return Ru(e,o,n,r),Iu(e)}function Ho(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,po(e,r)}}function sf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var af=!1;function Fo(){if(af){var e=ya;if(e!==null)throw e}}function Go(e,n,r,o){af=!1;var h=e.updateQueue;pr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,x=I.next;I.next=null,p===null?f=x:p.next=x,p=I;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=x:E.next=x,H.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;p=0,H=x=I=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Dt&z)===z:(o&z)===z){z!==0&&z===pa&&(af=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ft=E;z=n;var $t=r;switch(ft.tag){case 1:if(st=ft.payload,typeof st=="function"){K=st.call($t,K,z);break t}K=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ft.payload,z=typeof st=="function"?st.call($t,K,z):st,z==null)break t;K=w({},K,z);break t;case 2:pr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(x=H=q,I=K):H=H.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(I=K),h.baseState=I,h.firstBaseUpdate=x,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Sr|=p,e.lanes=p,e.memoizedState=K}}function Xg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Zg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Xg(r[e],n)}var Ea=V(null),ku=V(0);function Jg(e,n){e=Gi,$(ku,e),$(Ea,n),Gi=e|n.baseLanes}function of(){$(ku,Gi),$(Ea,Ea.current)}function lf(){Gi=ku.current,F(Ea),F(ku)}var pn=V(null),Vn=null;function vr(e){var n=e.alternate;$(de,de.current&1),$(pn,e),Vn===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(Vn=e)}function uf(e){$(de,de.current),$(pn,e),Vn===null&&(Vn=e)}function $g(e){e.tag===22?($(de,de.current),$(pn,e),Vn===null&&(Vn=e)):Er()}function Er(){$(de,de.current),$(pn,pn.current)}function yn(e){F(pn),Vn===e&&(Vn=null),F(de)}var de=V(0);function xu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||gd(r)||pd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,St=null,Zt=null,Ae=null,zu=!1,Ta=!1,Ds=!1,Bu=0,Qo=0,Aa=null,cA=0;function ue(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!mn(e[r],n[r]))return!1;return!0}function hf(e,n,r,o,h,f){return ki=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?Lp:Rf,Ds=!1,f=r(o,h),Ds=!1,Ta&&(f=tp(n,r,o,h)),Wg(e),f}function Wg(e){j.H=Xo;var n=Zt!==null&&Zt.next!==null;if(ki=0,Ae=Zt=St=null,zu=!1,Qo=0,Aa=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Nu(e)&&(Se=!0))}function tp(e,n,r,o){St=e;var h=0;do{if(Ta&&(Aa=null),Qo=0,Ta=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=Pp,f=n(r,o)}while(Ta);return f}function hA(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(St.flags|=1024),n}function ff(){var e=Bu!==0;return Bu=0,e}function df(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function mf(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}ki=0,Ae=Zt=St=null,Ta=!1,Qo=Bu=0,Aa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Qo;return Qo+=1,Aa===null&&(Aa=[]),e=Fg(Aa,e,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Lp:Rf),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===ht)return qe(e)}throw Error(a(438,String(e)))}function gf(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=U;return n.index++,r}function xi(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=me();return pf(n,Zt,e)}function pf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,x=n,H=!1;do{var K=x.lane&-536870913;if(K!==x.lane?(Dt&K)===K:(ki&K)===K){var z=x.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),K===pa&&(H=!0);else if((ki&z)===z){x=x.next,z===pa&&(H=!0);continue}else K={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},I===null?(E=I=K,p=f):I=I.next=K,St.lanes|=z,Sr|=z;K=x.action,Ds&&r(f,K),f=x.hasEagerState?x.eagerState:r(f,K)}else z={lane:K,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},I===null?(E=I=z,p=f):I=I.next=z,St.lanes|=K,Sr|=K;x=x.next}while(x!==null&&x!==n);if(I===null?p=f:I.next=E,!mn(f,e.memoizedState)&&(Se=!0,H&&(r=ya,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function yf(e){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);mn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function ep(e,n,r){var o=St,h=me(),f=Lt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!mn((Zt||h).memoizedState,r);if(p&&(h.memoizedState=r,Se=!0),h=h.queue,Ef(rp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Sa(9,{destroy:void 0},ip.bind(null,o,h,r,n),null),te===null)throw Error(a(349));f||(ki&127)!==0||np(o,n,r)}return r}function np(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=qu(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function ip(e,n,r,o){n.value=r,n.getSnapshot=o,sp(n)&&ap(e)}function rp(e,n,r){return r(function(){sp(n)&&ap(e)})}function sp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!mn(e,r)}catch{return!0}}function ap(e){var n=Es(e,2);n!==null&&ln(n,e,2)}function _f(e){var n=tn();if(typeof e=="function"){var r=e;if(e=r(),Ds){An(!0);try{r()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},n}function op(e,n,r,o){return e.baseState=r,pf(e,Zt,typeof o=="function"?o:xi)}function fA(e,n,r,o,h){if(Qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};j.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,lp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function lp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=j.T,p={};j.T=p;try{var E=r(h,o),I=j.S;I!==null&&I(p,E),up(e,n,E)}catch(x){vf(e,n,x)}finally{f!==null&&p.types!==null&&(f.types=p.types),j.T=f}}else try{f=r(h,o),up(e,n,f)}catch(x){vf(e,n,x)}}function up(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){cp(e,n,o)},function(o){return vf(e,n,o)}):cp(e,n,r)}function cp(e,n,r){n.status="fulfilled",n.value=r,hp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,lp(e,r)))}function vf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,hp(n),n=n.next;while(n!==o)}e.action=null}function hp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function fp(e,n){return n}function dp(e,n){if(Lt){var r=te.formState;if(r!==null){t:{var o=St;if(Lt){if(ne){e:{for(var h=ne,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Mn(h.nextSibling),o=h.data==="F!";break t}}mr(o)}o=!1}o&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},r.queue=o,r=Vp.bind(null,St,o),o.dispatch=r,o=_f(!1),f=wf.bind(null,St,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=fA.bind(null,St,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function mp(e){var n=me();return gp(n,Zt,e)}function gp(e,n,r){if(n=pf(e,n,fp)[0],e=Hu(xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(p){throw p===_a?Mu:p}else o=n;n=me();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Sa(9,{destroy:void 0},dA.bind(null,h,r),null)),[o,f,e]}function dA(e,n){e.action=n}function pp(e){var n=me(),r=Zt;if(r!==null)return gp(n,r,e);me(),n=n.memoizedState,r=me();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Sa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=qu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function yp(){return me().memoizedState}function Fu(e,n,r,o){var h=tn();St.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Gu(e,n,r,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&cf(o,Zt.memoizedState.deps)?h.memoizedState=Sa(n,f,r,o):(St.flags|=e,h.memoizedState=Sa(1|n,f,r,o))}function _p(e,n){Fu(8390656,8,e,n)}function Ef(e,n){Gu(2048,8,e,n)}function mA(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=qu(),St.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function vp(e){var n=me().memoizedState;return mA({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ep(e,n){return Gu(4,2,e,n)}function Tp(e,n){return Gu(4,4,e,n)}function Ap(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sp(e,n,r){r=r!=null?r.concat([e]):null,Gu(4,4,Ap.bind(null,n,e),r)}function Tf(){}function bp(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&cf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function wp(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&cf(n,o[1]))return o[0];if(o=e(),Ds){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o}function Af(e,n,r){return r===void 0||(ki&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Ry(),St.lanes|=e,Sr|=e,r)}function Rp(e,n,r,o){return mn(r,n)?r:Ea.current!==null?(e=Af(e,r,o),mn(e,n)||(Se=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(Dt&261930)===0?(Se=!0,e.memoizedState=r):(e=Ry(),St.lanes|=e,Sr|=e,n)}function Ip(e,n,r,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=j.T,E={};j.T=E,wf(e,!1,n,r);try{var I=h(),x=j.S;if(x!==null&&x(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var H=uA(I,o);Yo(e,n,H,En(e))}else Yo(e,n,o,En(e))}catch(K){Yo(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{tt.p=f,p!==null&&E.types!==null&&(p.types=E.types),j.T=p}}function gA(){}function Sf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Cp(e).queue;Ip(e,h,n,ot,r===null?gA:function(){return Dp(e),r(o)})}function Cp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Dp(e){var n=Cp(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},En())}function bf(){return qe(hl)}function Np(){return me().memoizedState}function Op(){return me().memoizedState}function pA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();e=yr(r);var o=_r(n,e,r);o!==null&&(ln(o,n,r),Ho(o,n,r)),n={cache:$h()},e.payload=n;return}n=n.return}}function yA(e,n,r){var o=En();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Mp(n,r):(r=qh(e,n,r,o),r!==null&&(ln(r,e,o),Up(r,n,o)))}function Vp(e,n,r){var o=En();Yo(e,n,r,o)}function Yo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Mp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,mn(E,p))return Ru(e,n,h,0),te===null&&wu(),!1}catch{}if(r=qh(e,n,h,o),r!==null)return ln(r,e,o),Up(r,n,o),!0}return!1}function wf(e,n,r,o){if(o={lane:2,revertLane:id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(a(479))}else n=qh(e,r,o,2),n!==null&&ln(n,e,2)}function Qu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Mp(e,n){Ta=zu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Up(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,po(e,r)}}var Xo={readContext:qe,use:ju,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Xo.useEffectEvent=ue;var Lp={readContext:qe,use:ju,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:_p,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Fu(4194308,4,Ap.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var r=tn();n=n===void 0?null:n;var o=e();if(Ds){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=tn();if(r!==void 0){var h=r(n);if(Ds){An(!0);try{r(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=yA.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,r=Vp.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Tf,useDeferredValue:function(e,n){var r=tn();return Af(r,e,n)},useTransition:function(){var e=_f(!1);return e=Ip.bind(null,St,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=St,h=tn();if(Lt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),te===null)throw Error(a(349));(Dt&127)!==0||np(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,_p(rp.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,{destroy:void 0},ip.bind(null,o,f,r,n),null),r},useId:function(){var e=tn(),n=te.identifierPrefix;if(Lt){var r=_i,o=yi;r=(o&~(1<<32-he(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=cA++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:bf,useFormState:dp,useActionState:dp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=wf.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:gf,useCacheRefresh:function(){return tn().memoizedState=pA.bind(null,St)},useEffectEvent:function(e){var n=tn(),r={impl:e};return n.memoizedState=r,function(){if((Ht&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Rf={readContext:qe,use:ju,useCallback:bp,useContext:qe,useEffect:Ef,useImperativeHandle:Sp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:Hu,useRef:yp,useState:function(){return Hu(xi)},useDebugValue:Tf,useDeferredValue:function(e,n){var r=me();return Rp(r,Zt.memoizedState,e,n)},useTransition:function(){var e=Hu(xi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:ep,useId:Np,useHostTransitionStatus:bf,useFormState:mp,useActionState:mp,useOptimistic:function(e,n){var r=me();return op(r,Zt,e,n)},useMemoCache:gf,useCacheRefresh:Op};Rf.useEffectEvent=vp;var Pp={readContext:qe,use:ju,useCallback:bp,useContext:qe,useEffect:Ef,useImperativeHandle:Sp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:yf,useRef:yp,useState:function(){return yf(xi)},useDebugValue:Tf,useDeferredValue:function(e,n){var r=me();return Zt===null?Af(r,e,n):Rp(r,Zt.memoizedState,e,n)},useTransition:function(){var e=yf(xi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:ep,useId:Np,useHostTransitionStatus:bf,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var r=me();return Zt!==null?op(r,Zt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Op};Pp.useEffectEvent=vp;function If(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=En(),h=yr(o);h.payload=n,r!=null&&(h.callback=r),n=_r(e,h,o),n!==null&&(ln(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=En(),h=yr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=_r(e,h,o),n!==null&&(ln(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=En(),o=yr(r);o.tag=2,n!=null&&(o.callback=n),n=_r(e,o,r),n!==null&&(ln(n,e,r),Ho(n,e,r))}};function kp(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Lo(r,o)||!Lo(h,f):!0}function xp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Cf.enqueueReplaceState(n,n.state,null)}function Ns(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function zp(e){bu(e)}function Bp(e){console.error(e)}function qp(e){bu(e)}function Ku(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function jp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,r){return r=yr(r),r.tag=3,r.payload={element:null},r.callback=function(){Ku(e,n)},r}function Hp(e){return e=yr(e),e.tag=3,e}function Fp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){jp(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){jp(n,r,o),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function _A(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ga(n,r,h,!0),r=pn.current,r!==null){switch(r.tag){case 31:case 13:return Vn===null?sc():r.alternate===null&&ce===0&&(ce=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),td(e,o,h)),!1;case 22:return r.flags|=65536,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),td(e,o,h)),!1}throw Error(a(435,r.tag))}return td(e,o,h),sc(),!1}if(Lt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(e=Error(a(422),{cause:o}),xo(Cn(e,r)))):(o!==Kh&&(n=Error(a(423),{cause:o}),xo(Cn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,r),h=Df(e.stateNode,o,h),sf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Cn(f,r),il===null?il=[f]:il.push(f),ce!==4&&(ce=2),n===null)return!0;o=Cn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Df(r.stateNode,o,e),sf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(br===null||!br.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Hp(h),Fp(h,e,r,o),sf(r,h),!1}r=r.return}while(r!==null);return!1}var Nf=Error(a(461)),Se=!1;function je(e,n,r,o){n.child=e===null?Yg(n,null,r,o):Cs(n,e.child,r,o)}function Gp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return bs(n),o=hf(e,n,r,p,f,h),E=ff(),e!==null&&!Se?(df(e,n,h),zi(e,n,h)):(Lt&&E&&Gh(n),n.flags|=1,je(e,n,o,h),n.child)}function Qp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!jh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Kp(e,n,f,o,h)):(e=Cu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!xf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Lo,r(p,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Kp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,xf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Of(e,n,r,o,h)}function Yp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Xp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Jg(n,f):of(),$g(n);else return o=n.lanes=536870912,Xp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Vu(n,f.cachePool),Jg(n,f),Er(),n.memoizedState=null):(e!==null&&Vu(n,null),of(),Er());return je(e,n,h,r),n.child}function Zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xp(e,n,r,o,h){var f=tf();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Vu(n,null),of(),$g(n),e!==null&&ga(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Zp(e,n,r){return Cs(n,e.child,null,r),e=Yu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function vA(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,Zo(null,e);if(uf(n),(e=ne)?(e=l_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Mg(e),r.return=n,n.child=r,Be=n,ne=null)):e=null,e===null)throw mr(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Zp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||ga(e,n,r,!1),h=(r&e.childLanes)!==0,Se||h){if(o=te,o!==null&&(p=yo(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Es(e,p),ln(o,e,p),Nf;sc(),n=Zp(e,n,r)}else e=f.treeContext,ne=Mn(p.nextSibling),Be=n,Lt=!0,dr=null,On=!1,e!==null&&Pg(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Of(e,n,r,o,h){return bs(n),r=hf(e,n,r,o,void 0,h),o=ff(),e!==null&&!Se?(df(e,n,h),zi(e,n,h)):(Lt&&o&&Gh(n),n.flags|=1,je(e,n,r,h),n.child)}function Jp(e,n,r,o,h,f){return bs(n),n.updateQueue=null,r=tp(n,o,r,h),Wg(e),o=ff(),e!==null&&!Se?(df(e,n,f),zi(e,n,f)):(Lt&&o&&Gh(n),n.flags|=1,je(e,n,r,f),n.child)}function $p(e,n,r,o,h){if(bs(n),n.stateNode===null){var f=ha,p=r.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},nf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?qe(p):ha,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(If(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Go(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Ns(r,E);f.props=I;var x=f.context,H=r.contextType;p=ha,typeof H=="object"&&H!==null&&(p=qe(H));var K=r.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||x!==p)&&xp(n,f,o,p),pr=!1;var z=n.memoizedState;f.state=z,Go(n,o,f,h),Fo(),x=n.memoizedState,E||z!==x||pr?(typeof K=="function"&&(If(n,r,K,o),x=n.memoizedState),(I=pr||kp(n,r,I,o,z,x,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=x),f.props=o,f.state=x,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),p=n.memoizedProps,H=Ns(r,p),f.props=H,K=n.pendingProps,z=f.context,x=r.contextType,I=ha,typeof x=="object"&&x!==null&&(I=qe(x)),E=r.getDerivedStateFromProps,(x=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||z!==I)&&xp(n,f,o,I),pr=!1,z=n.memoizedState,f.state=z,Go(n,o,f,h),Fo();var q=n.memoizedState;p!==K||z!==q||pr||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(If(n,r,E,o),q=n.memoizedState),(H=pr||kp(n,r,H,o,z,q,I)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=H):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Cs(n,e.child,null,h),n.child=Cs(n,null,r,h)):je(e,n,r,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Wp(e,n,r,o){return As(),n.flags|=256,je(e,n,r,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:jg()}}function Uf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=vn),e}function ty(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?vr(n):Er(),(e=ne)?(e=l_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Mg(e),r.return=n,n.child=r,Be=n,ne=null)):e=null,e===null)throw mr(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Er(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=Ts(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Mf(r),o.childLanes=Uf(e,p,r),n.memoizedState=Vf,Zo(null,o)):(vr(n),Lf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(vr(n),n.flags&=-257,n=Pf(e,n,r)):n.memoizedState!==null?(Er(),n.child=e.child,n.flags|=128,n=null):(Er(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=Ts(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Cs(n,e.child,null,r),o=n.child,o.memoizedState=Mf(r),o.childLanes=Uf(e,p,r),n.memoizedState=Vf,n=Zo(null,o));else if(vr(n),pd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var x=p.dgst;p=x,o=Error(a(419)),o.stack="",o.digest=p,xo({value:o,source:null,stack:null}),n=Pf(e,n,r)}else if(Se||ga(e,n,r,!1),p=(r&e.childLanes)!==0,Se||p){if(p=te,p!==null&&(o=yo(p,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,Es(e,o),ln(p,e,o),Nf;gd(E)||sc(),n=Pf(e,n,r)}else gd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ne=Mn(E.nextSibling),Be=n,Lt=!0,dr=null,On=!1,e!==null&&Pg(n,e),n=Lf(n,o.children),n.flags|=4096);return n}return h?(Er(),E=o.fallback,h=n.mode,I=e.child,x=I.sibling,o=Mi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,x!==null?E=Mi(x,E):(E=Ts(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Zo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Mf(r):(h=E.cachePool,h!==null?(I=Te._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=jg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Uf(e,p,r),n.memoizedState=Vf,Zo(e.child,o)):(vr(n),r=e.child,e=r.sibling,r=Mi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Lf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Pf(e,n,r){return Cs(n,e.child,null,r),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ey(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zh(e.return,n,r)}function kf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function ny(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=de.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,$(de,p),je(e,n,o,r),o=Lt?ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,r,n);else if(e.tag===19)ey(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&xu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),kf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&xu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}kf(n,!0,r,null,f,o);break;case"together":kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Sr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ga(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Mi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Mi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function EA(e,n,r){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),gr(n,Te,e.memoizedState.cache),As();break;case 27:case 5:ns(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:gr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(vr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ty(e,n,r):(vr(n),e=zi(e,n,r),e!==null?e.sibling:null);vr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ga(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ny(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(de,de.current),o)break;return null;case 22:return n.lanes=0,Yp(e,n,r,n.pendingProps);case 24:gr(n,Te,e.memoizedState.cache)}return zi(e,n,r)}function iy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!xf(e,r)&&(n.flags&128)===0)return Se=!1,EA(e,n,r);Se=(e.flags&131072)!==0}else Se=!1,Lt&&(n.flags&1048576)!==0&&Lg(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Rs(n.elementType),n.type=e,typeof e=="function")jh(e)?(o=Ns(e,o),n.tag=1,n=$p(null,n,e,o,r)):(n.tag=0,n=Of(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Gp(null,n,e,o,r);break t}else if(h===D){n.tag=14,n=Qp(null,n,e,o,r);break t}}throw n=Tt(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ns(o,n.pendingProps),$p(e,n,o,h,r);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Go(n,o,null,r);var p=n.memoizedState;if(o=p.cache,gr(n,Te,o),o!==f.cache&&Jh(n,[Te],r,!0),Fo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wp(e,n,o,r);break t}else if(o!==h){h=Cn(Error(a(424)),n),xo(h),n=Wp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Mn(e.firstChild),Be=n,Lt=!0,dr=null,On=!0,r=Yg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(As(),o===h){n=zi(e,n,r);break t}je(e,n,o,r)}n=n.child}return n;case 26:return Xu(e,n),e===null?(r=m_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,e=n.pendingProps,o=fc(bt.current).createElement(r),o[_e]=n,o[Ue]=e,He(o,r,e),ve(o),n.stateNode=o):n.memoizedState=m_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ns(n),e===null&&Lt&&(o=n.stateNode=h_(n.type,n.pendingProps,bt.current),Be=n,On=!0,h=ne,Cr(n.type)?(yd=h,ne=Mn(o.firstChild)):ne=h),je(e,n,n.pendingProps.children,r),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=ne)&&(o=ZA(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,Be=n,ne=Mn(o.firstChild),On=!1,h=!0):h=!1),h||mr(n)),ns(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,fd(h,f)?o=null:p!==null&&fd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,hA,null,null,r),hl._currentValue=h),Xu(e,n),je(e,n,o,r),n.child;case 6:return e===null&&Lt&&((e=r=ne)&&(r=JA(r,n.pendingProps,On),r!==null?(n.stateNode=r,Be=n,ne=null,e=!0):e=!1),e||mr(n)),null;case 13:return ty(e,n,r);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Cs(n,null,o,r):je(e,n,o,r),n.child;case 11:return Gp(e,n,n.type,n.pendingProps,r);case 7:return je(e,n,n.pendingProps,r),n.child;case 8:return je(e,n,n.pendingProps.children,r),n.child;case 12:return je(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,gr(n,n.type,o.value),je(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,bs(n),h=qe(h),o=o(h),n.flags|=1,je(e,n,o,r),n.child;case 14:return Qp(e,n,n.type,n.pendingProps,r);case 15:return Kp(e,n,n.type,n.pendingProps,r);case 19:return ny(e,n,r);case 31:return vA(e,n,r);case 22:return Yp(e,n,r,n.pendingProps);case 24:return bs(n),o=qe(Te),e===null?(h=tf(),h===null&&(h=te,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},nf(n),gr(n,Te,h)):((e.lanes&r)!==0&&(rf(e,n),Go(n,null,null,r),Fo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),gr(n,Te,o)):(o=f.cache,gr(n,Te,o),o!==h.cache&&Jh(n,[Te],r,!0))),je(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function zf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ny())e.flags|=8192;else throw Is=Uu,ef}else e.flags&=-16777217}function ry(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!v_(n))if(Ny())e.flags|=8192;else throw Is=Uu,ef}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Ia|=n)}function Jo(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function TA(e,n,r){var o=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(Te),se(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ma(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ie(n),ry(n,f)):(ie(n),zf(n,h,null,o,r))):f?f!==e.memoizedState?(Bi(n),ie(n),ry(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),ie(n),zf(n,h,e,o,r)),null;case 27:if(Qs(n),r=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=rt.current,ma(n)?kg(n):(e=h_(h,o,r),n.stateNode=e,Bi(n))}return ie(n),null;case 5:if(Qs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=rt.current,ma(n))kg(n);else{var p=fc(bt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[_e]=n,f[Ue]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return ie(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,ma(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||t_(e.nodeValue,r)),e||mr(n,!0)}else e=fc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ie(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ma(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else As(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else r=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else As(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),ie(n),null);case 4:return se(),e===null&&od(n.stateNode.containerInfo),ie(n),null;case 10:return Pi(n.type),ie(n),null;case 19:if(F(de),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=xu(e),f!==null){for(n.flags|=128,Jo(o,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Vg(r,e),r=r.sibling;return $(de,de.current&1|2),Lt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>nc&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=xu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return ie(n),null}else 2*$e()-o.renderingStartTime>nc&&r!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,r=de.current,$(de,h?r&1|2:r&1),Lt&&Ui(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return yn(n),lf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&F(ws),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Pi(Te),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function AA(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Te),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qs(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));As()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));As()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(de),null;case 4:return se(),null;case 10:return Pi(n.type),null;case 22:case 23:return yn(n),lf(),e!==null&&F(ws),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Te),null;case 25:return null;default:return null}}function sy(e,n){switch(Qh(n),n.tag){case 3:Pi(Te),se();break;case 26:case 27:case 5:Qs(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:F(de);break;case 10:Pi(n.type);break;case 22:case 23:yn(n),lf(),e!==null&&F(ws);break;case 24:Pi(Te)}}function $o(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){Kt(n,n.return,E)}}function Tr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=r,x=E;try{x()}catch(H){Kt(h,I,H)}}}o=o.next}while(o!==f)}}catch(H){Kt(n,n.return,H)}}function ay(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Zg(n,r)}catch(o){Kt(e,e.return,o)}}}function oy(e,n,r){r.props=Ns(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Wo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Kt(e,n,h)}}function vi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Kt(e,n,h)}else r.current=null}function ly(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Kt(e,e.return,h)}}function Bf(e,n,r){try{var o=e.stateNode;FA(o,e.type,r,n),o[Ue]=n}catch(h){Kt(e,e.return,h)}}function uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Cr(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Cr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Cr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(jf(e,n,r),e=e.sibling;e!==null;)jf(e,n,r),e=e.sibling}function $u(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Cr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for($u(e,n,r),e=e.sibling;e!==null;)$u(e,n,r),e=e.sibling}function cy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,r),n[_e]=e,n[Ue]=r}catch(f){Kt(e,e.return,f)}}var qi=!1,be=!1,Hf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function SA(e,n){if(e=e.containerInfo,cd=vc,e=Sg(e),Lh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,I=-1,x=0,H=0,K=e,z=null;e:for(;;){for(var q;K!==r||h!==0&&K.nodeType!==3||(E=p+h),K!==f||o!==0&&K.nodeType!==3||(I=p+o),K.nodeType===3&&(p+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===e)break e;if(z===r&&++x===h&&(E=p),z===f&&++H===o&&(I=p),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(hd={focusedElem:e,selectionRange:r},vc=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var st=Ns(r.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Kt(r,r.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)md(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function fy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(e,r),o&4&&$o(5,r);break;case 1:if(Hi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Kt(r,r.return,p)}else{var h=Ns(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(r,r.return,p)}}o&64&&ay(r),o&512&&Wo(r,r.return);break;case 3:if(Hi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Zg(e,n)}catch(p){Kt(r,r.return,p)}}break;case 27:n===null&&o&4&&cy(r);case 26:case 5:Hi(e,r),n===null&&o&4&&ly(r),o&512&&Wo(r,r.return);break;case 12:Hi(e,r);break;case 31:Hi(e,r),o&4&&gy(e,r);break;case 13:Hi(e,r),o&4&&py(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=VA.bind(null,r),$A(e,r))));break;case 22:if(o=r.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||be,h=qi;var f=be;qi=o,(be=n)&&!f?Fi(e,r,(r.subtreeFlags&8772)!==0):Hi(e,r),qi=h,be=f}break;case 30:break;default:Hi(e,r)}}function dy(e){var n=e.alternate;n!==null&&(e.alternate=null,dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Js(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,rn=!1;function ji(e,n,r){for(r=r.child;r!==null;)my(e,n,r),r=r.sibling}function my(e,n,r){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(Pn,r)}catch{}switch(r.tag){case 26:be||vi(r,n),ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:be||vi(r,n);var o=oe,h=rn;Cr(r.type)&&(oe=r.stateNode,rn=!1),ji(e,n,r),ll(r.stateNode),oe=o,rn=h;break;case 5:be||vi(r,n);case 6:if(o=oe,h=rn,oe=null,ji(e,n,r),oe=o,rn=h,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:oe!==null&&(rn?(e=oe,a_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),La(e)):a_(oe,r.stateNode));break;case 4:o=oe,h=rn,oe=r.stateNode.containerInfo,rn=!0,ji(e,n,r),oe=o,rn=h;break;case 0:case 11:case 14:case 15:Tr(2,r,n),be||Tr(4,r,n),ji(e,n,r);break;case 1:be||(vi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&oy(r,n,o)),ji(e,n,r);break;case 21:ji(e,n,r);break;case 22:be=(o=be)||r.memoizedState!==null,ji(e,n,r),be=o;break;default:ji(e,n,r)}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(r){Kt(n,n.return,r)}}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(r){Kt(n,n.return,r)}}function bA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new hy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new hy),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var r=bA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=MA.bind(null,e,o);o.then(h,h)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Cr(E.type)){oe=E.stateNode,rn=!1;break t}break;case 5:oe=E.stateNode,rn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(oe===null)throw Error(a(160));my(f,p,h),oe=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,e),n=n.sibling}var Qn=null;function yy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(Tr(3,e,e.return),$o(3,e),Tr(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(be||r===null||vi(r,r.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Qn;if(sn(n,e),an(e),o&512&&(be||r===null||vi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,r),f[_e]=e,ve(f),o=f;break t;case"link":var p=y_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,r),h.head.appendChild(f);break;case"meta":if(p=y_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else __(h,e.type,e.stateNode);else e.stateNode=p_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?__(h,e.type,e.stateNode):p_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(be||r===null||vi(r,r.return)),r!==null&&o&4&&Bf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(be||r===null||vi(r,r.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(st){Kt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(st){Kt(e,e.return,st)}}break;case 3:if(gc=null,h=Qn,Qn=dc(n.containerInfo),sn(n,e),Qn=h,an(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(st){Kt(e,e.return,st)}Hf&&(Hf=!1,_y(e));break;case 4:o=Qn,Qn=dc(e.stateNode.containerInfo),sn(n,e),an(e),Qn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ec=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,x=qi,H=be;if(qi=x||h,be=H||I,sn(n,e),be=H,qi=x,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||qi||be||Os(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Kt(I,I.return,st)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(st){Kt(I,I.return,st)}}}else if(n.tag===18){if(r===null){I=n;try{var q=I.stateNode;h?o_(q,!0):o_(I.stateNode,!1)}catch(st){Kt(I,I.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Wu(e,r))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(uy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=qf(e);$u(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(nn(p,""),r.flags&=-33);var E=qf(e);$u(e,E,p);break;case 3:case 4:var I=r.stateNode.containerInfo,x=qf(e);jf(e,x,I);break;default:throw Error(a(161))}}catch(H){Kt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(e,n.alternate,n),n=n.sibling}function Os(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Tr(4,n,n.return),Os(n);break;case 1:vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&oy(n,n.return,r),Os(n);break;case 27:ll(n.stateNode);case 26:case 5:vi(n,n.return),Os(n);break;case 22:n.memoizedState===null&&Os(n);break;case 30:Os(n);break;default:Os(n)}e=e.sibling}}function Fi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,r),$o(4,f);break;case 1:if(Fi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(x){Kt(o,o.return,x)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Xg(I[h],E)}catch(x){Kt(o,o.return,x)}}r&&p&64&&ay(f),Wo(f,f.return);break;case 27:cy(f);case 26:case 5:Fi(h,f,r),r&&o===null&&p&4&&ly(f),Wo(f,f.return);break;case 12:Fi(h,f,r);break;case 31:Fi(h,f,r),r&&p&4&&gy(h,f);break;case 13:Fi(h,f,r),r&&p&4&&py(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,r),Wo(f,f.return);break;case 30:break;default:Fi(h,f,r)}n=n.sibling}}function Ff(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&zo(r))}function Gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Kn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(e,n,r,o),n=n.sibling}function vy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,r,o),h&2048&&$o(9,n);break;case 1:Kn(e,n,r,o);break;case 3:Kn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Kn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Kt(n,n.return,I)}}else Kn(e,n,r,o);break;case 31:Kn(e,n,r,o);break;case 13:Kn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,r,o):tl(e,n):f._visibility&2?Kn(e,n,r,o):(f._visibility|=2,ba(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(p,n);break;case 24:Kn(e,n,r,o),h&2048&&Gf(n.alternate,n);break;default:Kn(e,n,r,o)}}function ba(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,I=o,x=p.flags;switch(p.tag){case 0:case 11:case 15:ba(f,p,E,I,h),$o(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?ba(f,p,E,I,h):tl(f,p):(H._visibility|=2,ba(f,p,E,I,h)),h&&x&2048&&Ff(p.alternate,p);break;case 24:ba(f,p,E,I,h),h&&x&2048&&Gf(p.alternate,p);break;default:ba(f,p,E,I,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:tl(r,o),h&2048&&Ff(o.alternate,o);break;case 24:tl(r,o),h&2048&&Gf(o.alternate,o);break;default:tl(r,o)}n=n.sibling}}var el=8192;function wa(e,n,r){if(e.subtreeFlags&el)for(e=e.child;e!==null;)Ey(e,n,r),e=e.sibling}function Ey(e,n,r){switch(e.tag){case 26:wa(e,n,r),e.flags&el&&e.memoizedState!==null&&cS(r,Qn,e.memoizedState,e.memoizedProps);break;case 5:wa(e,n,r);break;case 3:case 4:var o=Qn;Qn=dc(e.stateNode.containerInfo),wa(e,n,r),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,wa(e,n,r),el=o):wa(e,n,r));break;default:wa(e,n,r)}}function Ty(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Pe=o,Sy(o,e)}Ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):nl(e);break;default:nl(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Pe=o,Sy(o,e)}Ty(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Tr(8,n,n.return),tc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function Sy(e,n){for(;Pe!==null;){var r=Pe;switch(r.tag){case 0:case 11:case 15:Tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Pe=o;else t:for(r=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(dy(o),o===r){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var wA={getCacheForType:function(e){var n=qe(Te),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(Te).controller.signal}},RA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Rt=null,Dt=0,Qt=0,_n=null,Ar=!1,Ra=!1,Qf=!1,Gi=0,ce=0,Sr=0,Vs=0,Kf=0,vn=0,Ia=0,il=null,on=null,Yf=!1,ec=0,by=0,nc=1/0,ic=null,br=null,Oe=0,wr=null,Ca=null,Qi=0,Xf=0,Zf=null,wy=null,rl=0,Jf=null;function En(){return(Ht&2)!==0&&Dt!==0?Dt&-Dt:j.T!==null?id():ru()}function Ry(){if(vn===0)if((Dt&536870912)===0||Lt){var e=ss;ss<<=1,(ss&3932160)===0&&(ss=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function ln(e,n,r){(e===te&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Rr(e,Dt,vn,!1)),as(e,r),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(Vs|=r),ce===4&&Rr(e,Dt,vn,!1)),Ei(e))}function Iy(e,n,r){if((Ht&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||kn(e,n),h=o?DA(e,n):Wf(e,n,!0),f=o;do{if(h===0){Ra&&!o&&Rr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!IA(r)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=il;var I=E.current.memoizedState.isDehydrated;if(I&&(Da(E,p).flags|=256),p=Wf(E,p,!1),p!==2){if(Qf&&!I){E.errorRecoveryDisabledLanes|=f,Vs|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Rr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Rr(o,n,vn,!Ar);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-$e(),10<h)){if(Rr(o,n,vn,!Ar),ni(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=r_(Cy.bind(null,o,r,on,ic,Yf,n,vn,Vs,Ia,Ar,f,"Throttled",-0,0),h);break t}Cy(o,r,on,ic,Yf,n,vn,Vs,Ia,Ar,f,null,-0,0)}}break}while(!0);Ei(e)}function Cy(e,n,r,o,h,f,p,E,I,x,H,K,z,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},Ey(n,f,K);var st=(f&62914560)===f?ec-$e():(f&4194048)===f?by-$e():0;if(st=hS(K,st),st!==null){Qi=f,e.cancelPendingCommit=st(Py.bind(null,e,n,f,r,o,h,p,E,I,H,K,null,z,q)),Rr(e,f,p,!x);return}}Py(e,n,f,r,o,h,p,E,I)}function IA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rr(e,n,r,o){n&=~Kf,n&=~Vs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&os(e,r,n)}function rc(){return(Ht&6)===0?(sl(0),!1):!0}function $f(){if(Rt!==null){if(Qt===0)var e=Rt.return;else e=Rt,Li=Ss=null,mf(e),va=null,qo=0,e=Rt;for(;e!==null;)sy(e.alternate,e),e=e.return;Rt=null}}function Da(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,KA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Qi=0,$f(),te=e,Rt=r=Mi(e.current,null),Dt=n,Qt=0,_n=null,Ar=!1,Ra=kn(e,n),Qf=!1,Ia=vn=Kf=Vs=Sr=ce=0,on=il=null,Yf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,wu(),r}function Dy(e,n){St=null,j.H=Xo,n===_a||n===Mu?(n=Gg(),Qt=3):n===ef?(n=Gg(),Qt=4):Qt=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Rt===null&&(ce=1,Ku(e,Cn(n,e.current)))}function Ny(){var e=pn.current;return e===null?!0:(Dt&4194048)===Dt?Vn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Vn:!1}function Oy(){var e=j.H;return j.H=Xo,e===null?Xo:e}function Vy(){var e=j.A;return j.A=wA,e}function sc(){ce=4,Ar||(Dt&4194048)!==Dt&&pn.current!==null||(Ra=!0),(Sr&134217727)===0&&(Vs&134217727)===0||te===null||Rr(te,Dt,vn,!1)}function Wf(e,n,r){var o=Ht;Ht|=2;var h=Oy(),f=Vy();(te!==e||Dt!==n)&&(ic=null,Da(e,n)),n=!1;var p=ce;t:do try{if(Qt!==0&&Rt!==null){var E=Rt,I=_n;switch(Qt){case 8:$f(),p=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var x=Qt;if(Qt=0,_n=null,Na(e,E,I,x),r&&Ra){p=0;break t}break;default:x=Qt,Qt=0,_n=null,Na(e,E,I,x)}}CA(),p=ce;break}catch(H){Dy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Li=Ss=null,Ht=o,j.H=h,j.A=f,Rt===null&&(te=null,Dt=0,wu()),p}function CA(){for(;Rt!==null;)My(Rt)}function DA(e,n){var r=Ht;Ht|=2;var o=Oy(),h=Vy();te!==e||Dt!==n?(ic=null,nc=$e()+500,Da(e,n)):Ra=kn(e,n);t:do try{if(Qt!==0&&Rt!==null){n=Rt;var f=_n;e:switch(Qt){case 1:Qt=0,_n=null,Na(e,n,f,1);break;case 2:case 9:if(Hg(f)){Qt=0,_n=null,Uy(n);break}n=function(){Qt!==2&&Qt!==9||te!==e||(Qt=7),Ei(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Hg(f)?(Qt=0,_n=null,Uy(n)):(Qt=0,_n=null,Na(e,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(p?v_(p):E.stateNode.complete){Qt=0,_n=null;var I=E.sibling;if(I!==null)Rt=I;else{var x=E.return;x!==null?(Rt=x,ac(x)):Rt=null}break e}}Qt=0,_n=null,Na(e,n,f,5);break;case 6:Qt=0,_n=null,Na(e,n,f,6);break;case 8:$f(),ce=6;break t;default:throw Error(a(462))}}NA();break}catch(H){Dy(e,H)}while(!0);return Li=Ss=null,j.H=o,j.A=h,Ht=r,Rt!==null?0:(te=null,Dt=0,wu(),ce)}function NA(){for(;Rt!==null&&!Ch();)My(Rt)}function My(e){var n=iy(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?ac(e):Rt=n}function Uy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Jp(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Jp(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:mf(n);default:sy(r,n),n=Rt=Vg(n,Gi),n=iy(r,n,Gi)}e.memoizedProps=e.pendingProps,n===null?ac(e):Rt=n}function Na(e,n,r,o){Li=Ss=null,mf(n),va=null,qo=0;var h=n.return;try{if(_A(e,h,n,r,Dt)){ce=1,Ku(e,Cn(r,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ce=1,Ku(e,Cn(r,e.current)),Rt=null;return}n.flags&32768?(Lt||o===1?e=!0:Ra||(Dt&536870912)!==0?e=!1:(Ar=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ly(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){Ly(n,Ar);return}e=n.return;var r=TA(n.alternate,n,Gi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function Ly(e,n){do{var r=AA(e.alternate,e);if(r!==null){r.flags&=32767,Rt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=r}while(e!==null);ce=6,Rt=null}function Py(e,n,r,o,h,f,p,E,I){e.cancelPendingCommit=null;do oc();while(Oe!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(e,r,f,p,E,I),e===te&&(Rt=te=null,Dt=0),Ca=n,wr=e,Qi=r,Xf=f,Zf=h,wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,UA(nr,function(){return qy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,h=tt.p,tt.p=2,p=Ht,Ht|=4;try{SA(e,n,r)}finally{Ht=p,tt.p=h,j.T=o}}Oe=1,ky(),xy(),zy()}}function ky(){if(Oe===1){Oe=0;var e=wr,n=Ca,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{yy(n,e);var f=hd,p=Sg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ag(E.ownerDocument.documentElement,E)){if(I!==null&&Lh(E)){var x=I.start,H=I.end;if(H===void 0&&(H=x),"selectionStart"in E)E.selectionStart=x,E.selectionEnd=Math.min(H,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,ft=Math.min(I.start,st),$t=I.end===void 0?ft:Math.min(I.end,st);!q.extend&&ft>$t&&(p=$t,$t=ft,ft=p);var L=Tg(E,ft),O=Tg(E,$t);if(L&&O&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var k=K.createRange();k.setStart(L.node,L.offset),q.removeAllRanges(),ft>$t?(q.addRange(k),q.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),q.addRange(k))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}vc=!!cd,hd=cd=null}finally{Ht=h,tt.p=o,j.T=r}}e.current=n,Oe=2}}function xy(){if(Oe===2){Oe=0;var e=wr,n=Ca,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{fy(e,n.alternate,n)}finally{Ht=h,tt.p=o,j.T=r}}Oe=3}}function zy(){if(Oe===4||Oe===3){Oe=0,Jl();var e=wr,n=Ca,r=Qi,o=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Ca=wr=null,By(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(br=null),Di(r),n=n.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,h=tt.p,tt.p=2,j.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{j.T=n,tt.p=h}}(Qi&3)!==0&&oc(),Ei(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Jf?rl++:(rl=0,Jf=e):rl=0,sl(0)}}function By(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function oc(){return ky(),xy(),zy(),qy()}function qy(){if(Oe!==5)return!1;var e=wr,n=Xf;Xf=0;var r=Di(Qi),o=j.T,h=tt.p;try{tt.p=32>r?32:r,j.T=null,r=Zf,Zf=null;var f=wr,p=Qi;if(Oe=0,Ca=wr=null,Qi=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Ay(f.current),vy(f,f.current,p,r),Ht=E,sl(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{tt.p=h,j.T=o,By(e,n)}}function jy(e,n,r){n=Cn(r,n),n=Df(e.stateNode,n,2),e=_r(e,n,2),e!==null&&(as(e,2),Ei(e))}function Kt(e,n,r){if(e.tag===3)jy(e,e,r);else for(;n!==null;){if(n.tag===3){jy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){e=Cn(r,e),r=Hp(2),o=_r(n,r,2),o!==null&&(Fp(r,o,n,e),as(o,2),Ei(o));break}}n=n.return}}function td(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new RA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Qf=!0,h.add(r),e=OA.bind(null,e,n,r),n.then(e,e))}function OA(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,te===e&&(Dt&r)===r&&(ce===4||ce===3&&(Dt&62914560)===Dt&&300>$e()-ec?(Ht&2)===0&&Da(e,0):Kf|=r,Ia===Dt&&(Ia=0)),Ei(e)}function Hy(e,n){n===0&&(n=iu()),e=Es(e,n),e!==null&&(as(e,n),Ei(e))}function VA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Hy(e,r)}function MA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Hy(e,r)}function UA(e,n){return Ne(e,n)}var lc=null,Oa=null,ed=!1,uc=!1,nd=!1,Ir=0;function Ei(e){e!==Oa&&e.next===null&&(Oa===null?lc=Oa=e:Oa=Oa.next=e),uc=!0,ed||(ed=!0,PA())}function sl(e,n){if(!nd&&uc){nd=!0;do for(var r=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ky(o,f))}else f=Dt,f=ni(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||kn(o,f)||(r=!0,Ky(o,f));o=o.next}while(r);nd=!1}}function LA(){Fy()}function Fy(){uc=ed=!1;var e=0;Ir!==0&&QA()&&(e=Ir);for(var n=$e(),r=null,o=lc;o!==null;){var h=o.next,f=Gy(o,n);f===0?(o.next=null,r===null?lc=h:r.next=h,h===null&&(Oa=r)):(r=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}Oe!==0&&Oe!==5||sl(e),Ir!==0&&(Ir=0)}function Gy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-he(f),E=1<<p,I=h[p];I===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Nh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,r=Dt,r=ni(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&er(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||kn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&er(o),Di(r)){case 2:case 8:r=go;break;case 32:r=nr;break;case 268435456:r=$l;break;default:r=nr}return o=Qy.bind(null,e),r=Ne(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&er(o),e.callbackPriority=2,e.callbackNode=null,2}function Qy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(oc()&&e.callbackNode!==r)return null;var o=Dt;return o=ni(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Iy(e,o,n),Gy(e,$e()),e.callbackNode!=null&&e.callbackNode===r?Qy.bind(null,e):null)}function Ky(e,n){if(oc())return null;Iy(e,n,!0)}function PA(){YA(function(){(Ht&6)!==0?Ne(mo,LA):Fy()})}function id(){if(Ir===0){var e=pa;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ir=e}return Ir}function Yy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function Xy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function kA(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Yy((h[Ue]||null).action),p=o.submitter;p&&(n=(n=p[Ue]||null)?Yy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ir!==0){var I=p?Xy(h,p):new FormData(h);Sf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?Xy(h,p):new FormData(h),Sf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var rd=0;rd<zh.length;rd++){var sd=zh[rd],xA=sd.toLowerCase(),zA=sd[0].toUpperCase()+sd.slice(1);Gn(xA,"on"+zA)}Gn(Rg,"onAnimationEnd"),Gn(Ig,"onAnimationIteration"),Gn(Cg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(eA,"onTransitionRun"),Gn(nA,"onTransitionStart"),Gn(iA,"onTransitionCancel"),Gn(Dg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Zy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,x=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(H){bu(H)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,x=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(H){bu(H)}h.currentTarget=null,f=I}}}}function It(e,n){var r=n[Zs];r===void 0&&(r=n[Zs]=new Set);var o=e+"__bubble";r.has(o)||(Jy(n,e,2,!1),r.add(o))}function ad(e,n,r){var o=0;n&&(o|=4),Jy(r,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[cc]){e[cc]=!0,_o.forEach(function(r){r!=="selectionchange"&&(BA.has(r)||ad(r,!1,e),ad(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,ad("selectionchange",!1,n))}}function Jy(e,n,r,o){switch(R_(n)){case 2:var h=mS;break;case 8:h=gS;break;default:h=Ad}r=h.bind(null,n,r,e),h=void 0,!fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ld(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ai(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue t}E=E.parentNode}}o=o.return}lr(function(){var x=f,H=bn(r),K=[];t:{var z=Ng.get(e);if(z!==void 0){var q=di,st=e;switch(e){case"keypress":if(ms(r)===0)break t;case"keydown":case"keyup":q=Tu;break;case"focusin":st="focus",q=ps;break;case"focusout":st="blur",q=ps;break;case"beforeblur":case"afterblur":q=ps;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Rg:case Ig:case Cg:q=mu;break;case Dg:q=T;break;case"scroll":case"scrollend":q=No;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Vi;break;case"toggle":case"beforetoggle":q=At}var ft=(n&4)!==0,$t=!ft&&(e==="scroll"||e==="scrollend"),L=ft?z!==null?z+"Capture":null:z;ft=[];for(var O=x,k;O!==null;){var Q=O;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||L===null||(Q=qn(O,L),Q!=null&&ft.push(ol(O,Q,k))),$t)break;O=O.return}0<ft.length&&(z=new q(z,st,null,r,H),K.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==Io&&(st=r.relatedTarget||r.fromElement)&&(ai(st)||st[ri]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=r.relatedTarget||r.toElement,q=x,st=st?ai(st):null,st!==null&&($t=c(st),ft=st.tag,st!==$t||ft!==5&&ft!==27&&ft!==6)&&(st=null)):(q=null,st=x),q!==st)){if(ft=Oo,Q="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Vi,Q="onPointerLeave",L="onPointerEnter",O="pointer"),$t=q==null?z:fn(q),k=st==null?z:fn(st),z=new ft(Q,O+"leave",q,r,H),z.target=$t,z.relatedTarget=k,Q=null,ai(H)===x&&(ft=new ft(L,O+"enter",st,r,H),ft.target=k,ft.relatedTarget=$t,Q=ft),$t=Q,q&&st)e:{for(ft=qA,L=q,O=st,k=0,Q=L;Q;Q=ft(Q))k++;Q=0;for(var lt=O;lt;lt=ft(lt))Q++;for(;0<k-Q;)L=ft(L),k--;for(;0<Q-k;)O=ft(O),Q--;for(;k--;){if(L===O||O!==null&&L===O.alternate){ft=L;break e}L=ft(L),O=ft(O)}ft=null}else ft=null;q!==null&&$y(K,z,q,ft,!1),st!==null&&$t!==null&&$y(K,$t,st,ft,!0)}}t:{if(z=x?fn(x):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var zt=gg;else if(dg(z))if(pg)zt=$0;else{zt=Z0;var at=X0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?x&&ta(x.elementType)&&(zt=gg):zt=J0;if(zt&&(zt=zt(e,x))){mg(K,zt,r,H);break t}at&&at(e,z,x),e==="focusout"&&x&&z.type==="number"&&x.memoizedProps.value!=null&&bo(z,"number",z.value)}switch(at=x?fn(x):window,e){case"focusin":(dg(at)||at.contentEditable==="true")&&(la=at,Ph=x,Po=null);break;case"focusout":Po=Ph=la=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,bg(K,r,H);break;case"selectionchange":if(tA)break;case"keydown":case"keyup":bg(K,r,H)}var wt;if(jt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else oa?ys(e,r)&&(Nt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Nt="onCompositionStart");Nt&&(pi&&r.locale!=="ko"&&(oa||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&oa&&(wt=Do()):(fi=H,Co="value"in fi?fi.value:fi.textContent,oa=!0)),at=hc(x,Nt),0<at.length&&(Nt=new gi(Nt,e,null,r,H),K.push({event:Nt,listeners:at}),wt?Nt.data=wt:(wt=aa(r),wt!==null&&(Nt.data=wt)))),(wt=Rn?G0(e,r):Q0(e,r))&&(Nt=hc(x,"onBeforeInput"),0<Nt.length&&(at=new gi("onBeforeInput","beforeinput",null,r,H),K.push({event:at,listeners:Nt}),at.data=wt)),kA(K,e,x,r,H)}Zy(K,n)})}function ol(e,n,r){return{instance:e,listener:n,currentTarget:r}}function hc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,r),h!=null&&o.unshift(ol(e,h,f)),h=qn(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function qA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $y(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,I=E.alternate,x=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||x===null||(I=x,h?(x=qn(r,f),x!=null&&p.unshift(ol(r,x,I))):h||(x=qn(r,f),x!=null&&p.push(ol(r,x,I)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var jA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function Wy(e){return(typeof e=="string"?e:""+e).replace(jA,`
`).replace(HA,"")}function t_(e,n){return n=Wy(n),Wy(e)===n}function Jt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,r,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ea(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ea(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":It("beforetoggle",e),It("toggle",e),$s(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$s(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hu.get(r)||r,$s(e,r,o))}}function ud(e,n,r,o,h,f){switch(r){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ue]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):$s(e,r,o)}}}function He(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,p,r,null)}}h&&Jt(e,n,"srcSet",r.srcSet,r,null),o&&Jt(e,n,"src",r.src,r,null);return;case"input":It("invalid",e);var E=f=p=h=null,I=null,x=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":p=H;break;case"checked":I=H;break;case"defaultChecked":x=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Jt(e,n,o,H,r,null)}}lu(e,f,E,I,x,p,h,!1);return;case"select":It("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Jt(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?rr(e,!!o,n,!1):r!=null&&rr(e,!!o,r,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,p,E,r,null)}sr(e,o,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,I,o,r,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)It(al[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in r)if(r.hasOwnProperty(x)&&(o=r[x],o!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,x,o,r,null)}return;default:if(ta(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&ud(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Jt(e,n,E,o,r,null))}function FA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,x=null,H=null;for(q in r){var K=r[q];if(r.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=K;default:o.hasOwnProperty(q)||Jt(e,n,q,null,o,K)}}for(var z in o){var q=o[z];if(K=r[z],o.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":x=q;break;case"defaultChecked":H=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&Jt(e,n,z,q,o,K)}}Ws(e,p,E,I,x,H,f,h);return;case"select":q=p=E=z=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&Jt(e,n,h,f,o,I)}n=E,r=p,o=q,z!=null?rr(e,!!r,z,!1):!!o!=!!r&&(n!=null?rr(e,!!r,n,!0):rr(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,p,h,o,f)}uu(e,z,q);return;case"option":for(var st in r)z=r[st],r.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st)&&(st==="selected"?e.selected=!1:Jt(e,n,st,null,o,z));for(I in o)z=o[I],q=r[I],o.hasOwnProperty(I)&&z!==q&&(z!=null||q!=null)&&(I==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Jt(e,n,I,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)z=r[ft],r.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Jt(e,n,ft,null,o,z);for(x in o)if(z=o[x],q=r[x],o.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Jt(e,n,x,z,o,q)}return;default:if(ta(n)){for(var $t in r)z=r[$t],r.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&ud(e,n,$t,void 0,o,z);for(H in o)z=o[H],q=r[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||ud(e,n,H,z,o,q);return}}for(var L in r)z=r[L],r.hasOwnProperty(L)&&z!=null&&!o.hasOwnProperty(L)&&Jt(e,n,L,null,o,z);for(K in o)z=o[K],q=r[K],!o.hasOwnProperty(K)||z===q||z==null&&q==null||Jt(e,n,K,z,o,q)}function e_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&e_(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],x=I.startTime;if(x>E)break;var H=I.transferSize,K=I.initiatorType;H&&e_(K)&&(I=I.responseEnd,p+=H*(I<E?1:(E-x)/(I-x)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function n_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function QA(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(e){return s_.resolve(null).then(e).catch(XA)}:r_;function XA(e){setTimeout(function(){throw e})}function Cr(e){return e==="head"}function a_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),La(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ll(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ll(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&ll(e.ownerDocument.body);r=h}while(r);La(n)}function o_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":md(r),Js(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ZA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function JA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Mn(e.nextSibling),e===null))return null;return e}function l_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $A(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function u_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Mn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function c_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function h_(e,n,r){switch(n=fc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Js(e)}var Un=new Map,f_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=tt.d;tt.d={f:WA,r:tS,D:eS,C:nS,L:iS,m:rS,X:aS,S:sS,M:oS};function WA(){var e=Ki.f(),n=rc();return e||n}function tS(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Dp(n):Ki.r(e)}var Va=typeof document>"u"?null:document;function d_(e,n,r){var o=Va;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),f_.has(h)||(f_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function eS(e){Ki.D(e),d_("dns-prefetch",e,null)}function nS(e,n){Ki.C(e,n),d_("preconnect",e,n)}function iS(e,n,r){Ki.L(e,n,r);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+en(r.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=Ma(e);break;case"script":f=Ua(e)}Un.has(f)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function rS(e,n){Ki.m(e,n);var r=Va;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!Un.has(f)&&(e=w({rel:"modulepreload",href:e},n),Un.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(cl(f)))return}o=r.createElement("link"),He(o,"link",e),ve(o),r.head.appendChild(o)}}}function sS(e,n,r){Ki.S(e,n,r);var o=Va;if(o&&e){var h=oi(o).hoistableStyles,f=Ma(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ul(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Un.get(f))&&_d(e,r);var I=p=o.createElement("link");ve(I),He(I,"link",e),I._p=new Promise(function(x,H){I.onload=x,I.onerror=H}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function aS(e,n){Ki.X(e,n);var r=Va;if(r&&e){var o=oi(r).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=r.querySelector(cl(h)),f||(e=w({src:e,async:!0},n),(n=Un.get(h))&&vd(e,n),f=r.createElement("script"),ve(f),He(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function oS(e,n){Ki.M(e,n);var r=Va;if(r&&e){var o=oi(r).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=r.querySelector(cl(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&vd(e,n),f=r.createElement("script"),ve(f),He(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m_(e,n,r,o){var h=(h=bt.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ma(r.href),r=oi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ma(r.href);var f=oi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ul(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Un.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Un.set(e,r),f||lS(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(r),r=oi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+en(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function g_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function lS(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",r),ve(n),e.head.appendChild(n))}function Ua(e){return'[src="'+en(e)+'"]'}function cl(e){return"script[async]"+e}function p_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),He(o,"style",h),mc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ma(r.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=g_(r),(h=Un.get(h))&&_d(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),He(f,"link",o),n.state.loading|=4,mc(f,r.precedence,e),n.instance=f;case"script":return f=Ua(r.src),(h=e.querySelector(cl(f)))?(n.instance=h,ve(h),h):(o=r,(h=Un.get(f))&&(o=w({},r),vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,r.precedence,e));return n.instance}function mc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function y_(e,n,r){if(gc===null){var o=new Map,h=gc=new Map;h.set(r,o)}else h=gc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[si]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function __(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function uS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ma(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,ve(f);return}f=n.ownerDocument||n,o=g_(o),(h=Un.get(h))&&_d(o,h),f=f.createElement("link"),ve(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),He(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=pc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Ed=0;function hS(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*GA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(fS,e),yc=null,pc.call(e))}function fS(e,n){if(!(n.state.loading&4)){var r=yc.get(e);if(r)var o=r.get(null);else{r=new Map,yc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function dS(e,n,r,o,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function E_(e,n,r,o,h,f,p,E,I,x,H,K){return e=new dS(e,n,r,p,I,x,H,K,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},nf(f),e}function T_(e){return e?(e=ha,e):ha}function A_(e,n,r,o,h,f){h=T_(h),o.context===null?o.context=h:o.pendingContext=h,o=yr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=_r(e,o,n),r!==null&&(ln(r,e,n),Ho(r,e,n))}function S_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Td(e,n){S_(e,n),(e=e.alternate)&&S_(e,n)}function b_(e){if(e.tag===13||e.tag===31){var n=Es(e,67108864);n!==null&&ln(n,e,67108864),Td(e,67108864)}}function w_(e){if(e.tag===13||e.tag===31){var n=En();n=ls(n);var r=Es(e,n);r!==null&&ln(r,e,n),Td(e,n)}}var vc=!0;function mS(e,n,r,o){var h=j.T;j.T=null;var f=tt.p;try{tt.p=2,Ad(e,n,r,o)}finally{tt.p=f,j.T=h}}function gS(e,n,r,o){var h=j.T;j.T=null;var f=tt.p;try{tt.p=8,Ad(e,n,r,o)}finally{tt.p=f,j.T=h}}function Ad(e,n,r,o){if(vc){var h=Sd(o);if(h===null)ld(e,n,o,Ec,r),I_(e,o);else if(yS(h,e,n,r,o))o.stopPropagation();else if(I_(e,o),n&4&&-1<pS.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ei(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-he(p);E.entanglements[1]|=I,p&=~I}Ei(f),(Ht&6)===0&&(nc=$e()+500,sl(0))}}break;case 31:case 13:E=Es(f,2),E!==null&&ln(E,f,2),rc(),Td(f,2)}if(f=Sd(o),f===null&&ld(e,n,o,Ec,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else ld(e,n,o,null,r)}}function Sd(e){return e=bn(e),bd(e)}var Ec=null;function bd(e){if(Ec=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function R_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case mo:return 2;case go:return 8;case nr:case Dh:return 32;case $l:return 268435456;default:return 32}default:return 32}}var wd=!1,Dr=null,Nr=null,Or=null,fl=new Map,dl=new Map,Vr=[],pS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(e,n){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&b_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function yS(e,n,r,o,h){switch(n){case"focusin":return Dr=ml(Dr,e,n,r,o,h),!0;case"dragenter":return Nr=ml(Nr,e,n,r,o,h),!0;case"mouseover":return Or=ml(Or,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,r,o,h)),!0}return!1}function C_(e){var n=ai(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,xn(e.priority,function(){w_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,xn(e.priority,function(){w_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Sd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Io=o,r.target.dispatchEvent(o),Io=null}else return n=Sn(r),n!==null&&b_(n),e.blockedOn=r,!1;n.shift()}return!0}function D_(e,n,r){Tc(e)&&r.delete(n)}function _S(){wd=!1,Dr!==null&&Tc(Dr)&&(Dr=null),Nr!==null&&Tc(Nr)&&(Nr=null),Or!==null&&Tc(Or)&&(Or=null),fl.forEach(D_),dl.forEach(D_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_S)))}var Sc=null;function N_(e){Sc!==e&&(Sc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(bd(o||r)===null)continue;break}var f=Sn(r);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function La(e){function n(I){return Ac(I,e)}Dr!==null&&Ac(Dr,e),Nr!==null&&Ac(Nr,e),Or!==null&&Ac(Or,e),fl.forEach(n),dl.forEach(n);for(var r=0;r<Vr.length;r++){var o=Vr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vr.length&&(r=Vr[0],r.blockedOn===null);)C_(r),r.blockedOn===null&&Vr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Ue]||null;if(typeof f=="function")p||N_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ue]||null)E=p.formAction;else if(bd(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),N_(r)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}bc.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=En();A_(r,o,e,n,null,null)},bc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;A_(e.current,2,null,e,null,null),rc(),n[ri]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Vr.length&&n!==0&&n<Vr[r].priority;r++);Vr.splice(r,0,e),r===0&&C_(e)}};var V_=t.version;if(V_!=="19.2.3")throw Error(a(527,V_,"19.2.3"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var vS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Pn=wc.inject(vS),xe=wc}catch{}}return pl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=zp,f=Bp,p=qp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=E_(e,1,!1,null,null,r,o,null,h,f,p,O_),e[ri]=n.current,od(e),new Rd(n)},pl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=zp,p=Bp,E=qp,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=E_(e,1,!0,n,r??null,o,h,I,f,p,E,O_),n.context=T_(null),r=n.current,o=En(),o=ls(o),h=yr(o),h.callback=null,_r(r,h,o),r=o,n.current.lanes=r,as(n,r),Ei(n),e[ri]=n.current,od(e),new bc(n)},pl.version="19.2.3",pl}var j_;function DS(){if(j_)return Dd.exports;j_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=CS(),Dd.exports}var NS=DS();const OS=()=>{};var H_={};const SE=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},VS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},bE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,A=c>>2,w=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,G=_&63;y||(G=64,d||(M=64)),a.push(i[A],i[w],i[M],i[G])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(SE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):VS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||w==null)throw new MS;const M=c<<2|g>>4;if(a.push(M),_!==64){const G=g<<4&240|_>>2;if(a.push(G),w!==64){const Z=_<<6&192|w;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class MS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(s){const t=SE(s);return bE.encodeByteArray(t,!0)},Hc=function(s){return US(s).replace(/\./g,"")},wE=function(s){try{return bE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function LS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PS=()=>LS().__FIREBASE_DEFAULTS__,kS=()=>{if(typeof process>"u"||typeof H_>"u")return;const s=H_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},xS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&wE(s[1]);return t&&JSON.parse(t)},lh=()=>{try{return OS()||PS()||kS()||xS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},RE=s=>lh()?.emulatorHosts?.[s],zS=s=>{const t=RE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},IE=()=>lh()?.config,CE=s=>lh()?.[`_${s}`];class BS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DE(s){return(await fetch(s,{credentials:"include"})).ok}function qS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const bl={};function jS(){const s={prod:[],emulator:[]};for(const t of Object.keys(bl))bl[t]?s.emulator.push(t):s.prod.push(t);return s}function HS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let F_=!1;function NE(s,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||bl[s]===t||bl[s]||F_)return;bl[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=jS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{F_=!0,d()},M}function A(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=HS(a),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),J=document.getElementById(et)||document.createElement("a"),ct=i("preprendIcon"),dt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ht=M.element;g(ht),A(J,et);const qt=_();y(dt,ct),ht.append(dt,Z,J,qt),document.body.appendChild(ht)}c?(Z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function GS(){const s=lh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function YS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XS(){const s=Je();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ZS(){return!GS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const WS="FirebaseError";class tr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=WS,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?t1(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new tr(l,g,a)}}function t1(s,t){return s.replace(e1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const e1=/\{\$([^}]+)}/g;function n1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ks(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(G_(c)&&G_(d)){if(!ks(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function G_(s){return s!==null&&typeof s=="object"}function ql(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function _l(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function vl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function i1(s,t){const i=new r1(s,t);return i.subscribe.bind(i)}class r1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");s1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Md(){}function Me(s){return s&&s._delegate?s._delegate:s}class xs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ms="[DEFAULT]";class a1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new BS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(l1(t))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ms){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ms){return this.instances.has(t)}getOptions(t=Ms){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:o1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ms){return this.component?this.component.multipleInstances?t:Ms:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o1(s){return s===Ms?void 0:s}function l1(s){return s.instantiationMode==="EAGER"}class u1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new a1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const c1={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},h1=Ot.INFO,f1={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},d1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=f1[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vm{constructor(t){this.name=t,this._logLevel=h1,this._logHandler=d1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?c1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const m1=(s,t)=>t.some(i=>s instanceof i);let Q_,K_;function g1(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p1(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OE=new WeakMap,Qd=new WeakMap,VE=new WeakMap,Ud=new WeakMap,Em=new WeakMap;function y1(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Br(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&OE.set(i,s)}).catch(()=>{}),Em.set(t,s),t}function _1(s){if(Qd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Qd.set(s,t)}let Kd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Qd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||VE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function v1(s){Kd=s(Kd)}function E1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Ld(this),t,...i);return VE.set(a,t.sort?t.sort():[t]),Br(a)}:p1().includes(s)?function(...t){return s.apply(Ld(this),t),Br(OE.get(this))}:function(...t){return Br(s.apply(Ld(this),t))}}function T1(s){return typeof s=="function"?E1(s):(s instanceof IDBTransaction&&_1(s),m1(s,g1())?new Proxy(s,Kd):s)}function Br(s){if(s instanceof IDBRequest)return y1(s);if(Ud.has(s))return Ud.get(s);const t=T1(s);return t!==s&&(Ud.set(s,t),Em.set(t,s)),t}const Ld=s=>Em.get(s);function A1(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=Br(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Br(d.result),y.oldVersion,y.newVersion,Br(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const S1=["get","getKey","getAll","getAllKeys","count"],b1=["put","add","delete","clear"],Pd=new Map;function Y_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=b1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||S1.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Pd.set(t,c),c}v1(s=>({...s,get:(t,i,a)=>Y_(t,i)||s.get(t,i,a),has:(t,i)=>!!Y_(t,i)||s.has(t,i)}));class w1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(R1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function R1(s){return s.getComponent()?.type==="VERSION"}const Yd="@firebase/app",X_="0.14.6";const Zi=new vm("@firebase/app"),I1="@firebase/app-compat",C1="@firebase/analytics-compat",D1="@firebase/analytics",N1="@firebase/app-check-compat",O1="@firebase/app-check",V1="@firebase/auth",M1="@firebase/auth-compat",U1="@firebase/database",L1="@firebase/data-connect",P1="@firebase/database-compat",k1="@firebase/functions",x1="@firebase/functions-compat",z1="@firebase/installations",B1="@firebase/installations-compat",q1="@firebase/messaging",j1="@firebase/messaging-compat",H1="@firebase/performance",F1="@firebase/performance-compat",G1="@firebase/remote-config",Q1="@firebase/remote-config-compat",K1="@firebase/storage",Y1="@firebase/storage-compat",X1="@firebase/firestore",Z1="@firebase/ai",J1="@firebase/firestore-compat",$1="firebase",W1="12.6.0";const Xd="[DEFAULT]",tb={[Yd]:"fire-core",[I1]:"fire-core-compat",[D1]:"fire-analytics",[C1]:"fire-analytics-compat",[O1]:"fire-app-check",[N1]:"fire-app-check-compat",[V1]:"fire-auth",[M1]:"fire-auth-compat",[U1]:"fire-rtdb",[L1]:"fire-data-connect",[P1]:"fire-rtdb-compat",[k1]:"fire-fn",[x1]:"fire-fn-compat",[z1]:"fire-iid",[B1]:"fire-iid-compat",[q1]:"fire-fcm",[j1]:"fire-fcm-compat",[H1]:"fire-perf",[F1]:"fire-perf-compat",[G1]:"fire-rc",[Q1]:"fire-rc-compat",[K1]:"fire-gcs",[Y1]:"fire-gcs-compat",[X1]:"fire-fst",[J1]:"fire-fst-compat",[Z1]:"fire-vertex","fire-js":"fire-js",[$1]:"fire-js-all"};const Fc=new Map,eb=new Map,Zd=new Map;function Z_(s,t){try{s.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Qa(s){const t=s.name;if(Zd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,s);for(const i of Fc.values())Z_(i,s);for(const i of eb.values())Z_(i,s);return!0}function Tm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Yn(s){return s==null?!1:s.settings!==void 0}const nb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Bl("app","Firebase",nb);class ib{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const no=W1;function ME(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw qr.create("bad-app-name",{appName:String(l)});if(i||(i=IE()),!i)throw qr.create("no-options");const c=Fc.get(l);if(c){if(ks(i,c.options)&&ks(a,c.config))return c;throw qr.create("duplicate-app",{appName:l})}const d=new u1(l);for(const y of Zd.values())d.addComponent(y);const g=new ib(i,a,d);return Fc.set(l,g),g}function UE(s=Xd){const t=Fc.get(s);if(!t&&s===Xd&&IE())return ME();if(!t)throw qr.create("no-app",{appName:s});return t}function jr(s,t,i){let a=tb[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Qa(new xs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rb="firebase-heartbeat-database",sb=1,Nl="firebase-heartbeat-store";let kd=null;function LE(){return kd||(kd=A1(rb,sb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(s=>{throw qr.create("idb-open",{originalErrorMessage:s.message})})),kd}async function ab(s){try{const i=(await LE()).transaction(Nl),a=await i.objectStore(Nl).get(PE(s));return await i.done,a}catch(t){if(t instanceof tr)Zi.warn(t.message);else{const i=qr.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function J_(s,t){try{const a=(await LE()).transaction(Nl,"readwrite");await a.objectStore(Nl).put(t,PE(s)),await a.done}catch(i){if(i instanceof tr)Zi.warn(i.message);else{const a=qr.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(a.message)}}}function PE(s){return`${s.name}!${s.options.appId}`}const ob=1024,lb=30;class ub{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>lb){const l=fb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$_(),{heartbeatsToSend:i,unsentEntries:a}=cb(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function $_(){return new Date().toISOString().substring(0,10)}function cb(s,t=ob){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),W_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),W_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class hb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ab(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function W_(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function fb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function db(s){Qa(new xs("platform-logger",t=>new w1(t),"PRIVATE")),Qa(new xs("heartbeat",t=>new ub(t),"PRIVATE")),jr(Yd,X_,s),jr(Yd,X_,"esm2020"),jr("fire-js","")}db("");var mb="firebase",gb="12.7.0";jr(mb,gb,"app");var tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hr,kE;(function(){var s;function t(D,R){function C(){}C.prototype=R.prototype,D.F=R.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(U,N,b){for(var S=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)S[Tt-2]=arguments[Tt];return R.prototype[N].apply(U,S)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,R,C){C||(C=0);const U=Array(16);if(typeof R=="string")for(var N=0;N<16;++N)U[N]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(N=0;N<16;++N)U[N]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=D.g[0],C=D.g[1],N=D.g[2];let b=D.g[3],S;S=R+(b^C&(N^b))+U[0]+3614090360&4294967295,R=C+(S<<7&4294967295|S>>>25),S=b+(N^R&(C^N))+U[1]+3905402710&4294967295,b=R+(S<<12&4294967295|S>>>20),S=N+(C^b&(R^C))+U[2]+606105819&4294967295,N=b+(S<<17&4294967295|S>>>15),S=C+(R^N&(b^R))+U[3]+3250441966&4294967295,C=N+(S<<22&4294967295|S>>>10),S=R+(b^C&(N^b))+U[4]+4118548399&4294967295,R=C+(S<<7&4294967295|S>>>25),S=b+(N^R&(C^N))+U[5]+1200080426&4294967295,b=R+(S<<12&4294967295|S>>>20),S=N+(C^b&(R^C))+U[6]+2821735955&4294967295,N=b+(S<<17&4294967295|S>>>15),S=C+(R^N&(b^R))+U[7]+4249261313&4294967295,C=N+(S<<22&4294967295|S>>>10),S=R+(b^C&(N^b))+U[8]+1770035416&4294967295,R=C+(S<<7&4294967295|S>>>25),S=b+(N^R&(C^N))+U[9]+2336552879&4294967295,b=R+(S<<12&4294967295|S>>>20),S=N+(C^b&(R^C))+U[10]+4294925233&4294967295,N=b+(S<<17&4294967295|S>>>15),S=C+(R^N&(b^R))+U[11]+2304563134&4294967295,C=N+(S<<22&4294967295|S>>>10),S=R+(b^C&(N^b))+U[12]+1804603682&4294967295,R=C+(S<<7&4294967295|S>>>25),S=b+(N^R&(C^N))+U[13]+4254626195&4294967295,b=R+(S<<12&4294967295|S>>>20),S=N+(C^b&(R^C))+U[14]+2792965006&4294967295,N=b+(S<<17&4294967295|S>>>15),S=C+(R^N&(b^R))+U[15]+1236535329&4294967295,C=N+(S<<22&4294967295|S>>>10),S=R+(N^b&(C^N))+U[1]+4129170786&4294967295,R=C+(S<<5&4294967295|S>>>27),S=b+(C^N&(R^C))+U[6]+3225465664&4294967295,b=R+(S<<9&4294967295|S>>>23),S=N+(R^C&(b^R))+U[11]+643717713&4294967295,N=b+(S<<14&4294967295|S>>>18),S=C+(b^R&(N^b))+U[0]+3921069994&4294967295,C=N+(S<<20&4294967295|S>>>12),S=R+(N^b&(C^N))+U[5]+3593408605&4294967295,R=C+(S<<5&4294967295|S>>>27),S=b+(C^N&(R^C))+U[10]+38016083&4294967295,b=R+(S<<9&4294967295|S>>>23),S=N+(R^C&(b^R))+U[15]+3634488961&4294967295,N=b+(S<<14&4294967295|S>>>18),S=C+(b^R&(N^b))+U[4]+3889429448&4294967295,C=N+(S<<20&4294967295|S>>>12),S=R+(N^b&(C^N))+U[9]+568446438&4294967295,R=C+(S<<5&4294967295|S>>>27),S=b+(C^N&(R^C))+U[14]+3275163606&4294967295,b=R+(S<<9&4294967295|S>>>23),S=N+(R^C&(b^R))+U[3]+4107603335&4294967295,N=b+(S<<14&4294967295|S>>>18),S=C+(b^R&(N^b))+U[8]+1163531501&4294967295,C=N+(S<<20&4294967295|S>>>12),S=R+(N^b&(C^N))+U[13]+2850285829&4294967295,R=C+(S<<5&4294967295|S>>>27),S=b+(C^N&(R^C))+U[2]+4243563512&4294967295,b=R+(S<<9&4294967295|S>>>23),S=N+(R^C&(b^R))+U[7]+1735328473&4294967295,N=b+(S<<14&4294967295|S>>>18),S=C+(b^R&(N^b))+U[12]+2368359562&4294967295,C=N+(S<<20&4294967295|S>>>12),S=R+(C^N^b)+U[5]+4294588738&4294967295,R=C+(S<<4&4294967295|S>>>28),S=b+(R^C^N)+U[8]+2272392833&4294967295,b=R+(S<<11&4294967295|S>>>21),S=N+(b^R^C)+U[11]+1839030562&4294967295,N=b+(S<<16&4294967295|S>>>16),S=C+(N^b^R)+U[14]+4259657740&4294967295,C=N+(S<<23&4294967295|S>>>9),S=R+(C^N^b)+U[1]+2763975236&4294967295,R=C+(S<<4&4294967295|S>>>28),S=b+(R^C^N)+U[4]+1272893353&4294967295,b=R+(S<<11&4294967295|S>>>21),S=N+(b^R^C)+U[7]+4139469664&4294967295,N=b+(S<<16&4294967295|S>>>16),S=C+(N^b^R)+U[10]+3200236656&4294967295,C=N+(S<<23&4294967295|S>>>9),S=R+(C^N^b)+U[13]+681279174&4294967295,R=C+(S<<4&4294967295|S>>>28),S=b+(R^C^N)+U[0]+3936430074&4294967295,b=R+(S<<11&4294967295|S>>>21),S=N+(b^R^C)+U[3]+3572445317&4294967295,N=b+(S<<16&4294967295|S>>>16),S=C+(N^b^R)+U[6]+76029189&4294967295,C=N+(S<<23&4294967295|S>>>9),S=R+(C^N^b)+U[9]+3654602809&4294967295,R=C+(S<<4&4294967295|S>>>28),S=b+(R^C^N)+U[12]+3873151461&4294967295,b=R+(S<<11&4294967295|S>>>21),S=N+(b^R^C)+U[15]+530742520&4294967295,N=b+(S<<16&4294967295|S>>>16),S=C+(N^b^R)+U[2]+3299628645&4294967295,C=N+(S<<23&4294967295|S>>>9),S=R+(N^(C|~b))+U[0]+4096336452&4294967295,R=C+(S<<6&4294967295|S>>>26),S=b+(C^(R|~N))+U[7]+1126891415&4294967295,b=R+(S<<10&4294967295|S>>>22),S=N+(R^(b|~C))+U[14]+2878612391&4294967295,N=b+(S<<15&4294967295|S>>>17),S=C+(b^(N|~R))+U[5]+4237533241&4294967295,C=N+(S<<21&4294967295|S>>>11),S=R+(N^(C|~b))+U[12]+1700485571&4294967295,R=C+(S<<6&4294967295|S>>>26),S=b+(C^(R|~N))+U[3]+2399980690&4294967295,b=R+(S<<10&4294967295|S>>>22),S=N+(R^(b|~C))+U[10]+4293915773&4294967295,N=b+(S<<15&4294967295|S>>>17),S=C+(b^(N|~R))+U[1]+2240044497&4294967295,C=N+(S<<21&4294967295|S>>>11),S=R+(N^(C|~b))+U[8]+1873313359&4294967295,R=C+(S<<6&4294967295|S>>>26),S=b+(C^(R|~N))+U[15]+4264355552&4294967295,b=R+(S<<10&4294967295|S>>>22),S=N+(R^(b|~C))+U[6]+2734768916&4294967295,N=b+(S<<15&4294967295|S>>>17),S=C+(b^(N|~R))+U[13]+1309151649&4294967295,C=N+(S<<21&4294967295|S>>>11),S=R+(N^(C|~b))+U[4]+4149444226&4294967295,R=C+(S<<6&4294967295|S>>>26),S=b+(C^(R|~N))+U[11]+3174756917&4294967295,b=R+(S<<10&4294967295|S>>>22),S=N+(R^(b|~C))+U[2]+718787259&4294967295,N=b+(S<<15&4294967295|S>>>17),S=C+(b^(N|~R))+U[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+b&4294967295}a.prototype.v=function(D,R){R===void 0&&(R=D.length);const C=R-this.blockSize,U=this.C;let N=this.h,b=0;for(;b<R;){if(N==0)for(;b<=C;)l(this,D,b),b+=this.blockSize;if(typeof D=="string"){for(;b<R;)if(U[N++]=D.charCodeAt(b++),N==this.blockSize){l(this,U),N=0;break}}else for(;b<R;)if(U[N++]=D[b++],N==this.blockSize){l(this,U),N=0;break}}this.h=N,this.o+=R},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,C=0;C<4;++C)for(let U=0;U<32;U+=8)D[R++]=this.g[C]>>>U&255;return D};function c(D,R){var C=g;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=R(D)}function d(D,R){this.h=R;const C=[];let U=!0;for(let N=D.length-1;N>=0;N--){const b=D[N]|0;U&&b==R||(C[N]=b,U=!1)}this.g=C}var g={};function y(D){return-128<=D&&D<128?c(D,function(R){return new d([R|0],R<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return w;if(D<0)return J(_(-D));const R=[];let C=1;for(let U=0;D>=C;U++)R[U]=D/C|0,C*=4294967296;return new d(R,0)}function A(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return J(A(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(R,8));let U=w;for(let b=0;b<D.length;b+=8){var N=Math.min(8,D.length-b);const S=parseInt(D.substring(b,b+N),R);N<8?(N=_(Math.pow(R,N)),U=U.j(N).add(_(S))):(U=U.j(C),U=U.add(_(S)))}return U}var w=y(0),M=y(1),G=y(16777216);s=d.prototype,s.m=function(){if(et(this))return-J(this).m();let D=0,R=1;for(let C=0;C<this.g.length;C++){const U=this.i(C);D+=(U>=0?U:4294967296+U)*R,R*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Z(this))return"0";if(et(this))return"-"+J(this).toString(D);const R=_(Math.pow(D,6));var C=this;let U="";for(;;){const N=qt(C,R).g;C=ct(C,N.j(R));let b=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=N,Z(C))return b+U;for(;b.length<6;)b="0"+b;U=b+U}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function Z(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function et(D){return D.h==-1}s.l=function(D){return D=ct(this,D),et(D)?-1:Z(D)?0:1};function J(D){const R=D.g.length,C=[];for(let U=0;U<R;U++)C[U]=~D.g[U];return new d(C,~D.h).add(M)}s.abs=function(){return et(this)?J(this):this},s.add=function(D){const R=Math.max(this.g.length,D.g.length),C=[];let U=0;for(let N=0;N<=R;N++){let b=U+(this.i(N)&65535)+(D.i(N)&65535),S=(b>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);U=S>>>16,b&=65535,S&=65535,C[N]=S<<16|b}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ct(D,R){return D.add(J(R))}s.j=function(D){if(Z(this)||Z(D))return w;if(et(this))return et(D)?J(this).j(J(D)):J(J(this).j(D));if(et(D))return J(this.j(J(D)));if(this.l(G)<0&&D.l(G)<0)return _(this.m()*D.m());const R=this.g.length+D.g.length,C=[];for(var U=0;U<2*R;U++)C[U]=0;for(U=0;U<this.g.length;U++)for(let N=0;N<D.g.length;N++){const b=this.i(U)>>>16,S=this.i(U)&65535,Tt=D.i(N)>>>16,Yt=D.i(N)&65535;C[2*U+2*N]+=S*Yt,dt(C,2*U+2*N),C[2*U+2*N+1]+=b*Yt,dt(C,2*U+2*N+1),C[2*U+2*N+1]+=S*Tt,dt(C,2*U+2*N+1),C[2*U+2*N+2]+=b*Tt,dt(C,2*U+2*N+2)}for(D=0;D<R;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=R;D<2*R;D++)C[D]=0;return new d(C,0)};function dt(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function ht(D,R){this.g=D,this.h=R}function qt(D,R){if(Z(R))throw Error("division by zero");if(Z(D))return new ht(w,w);if(et(D))return R=qt(J(D),R),new ht(J(R.g),J(R.h));if(et(R))return R=qt(D,J(R)),new ht(J(R.g),R.h);if(D.g.length>30){if(et(D)||et(R))throw Error("slowDivide_ only works with positive integers.");for(var C=M,U=R;U.l(D)<=0;)C=Wt(C),U=Wt(U);var N=Ut(C,1),b=Ut(U,1);for(U=Ut(U,2),C=Ut(C,2);!Z(U);){var S=b.add(U);S.l(D)<=0&&(N=N.add(C),b=S),U=Ut(U,1),C=Ut(C,1)}return R=ct(D,N.j(R)),new ht(N,R)}for(N=w;D.l(R)>=0;){for(C=Math.max(1,Math.floor(D.m()/R.m())),U=Math.ceil(Math.log(C)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),b=_(C),S=b.j(R);et(S)||S.l(D)>0;)C-=U,b=_(C),S=b.j(R);Z(b)&&(b=M),N=N.add(b),D=ct(D,S)}return new ht(N,D)}s.B=function(D){return qt(this,D).h},s.and=function(D){const R=Math.max(this.g.length,D.g.length),C=[];for(let U=0;U<R;U++)C[U]=this.i(U)&D.i(U);return new d(C,this.h&D.h)},s.or=function(D){const R=Math.max(this.g.length,D.g.length),C=[];for(let U=0;U<R;U++)C[U]=this.i(U)|D.i(U);return new d(C,this.h|D.h)},s.xor=function(D){const R=Math.max(this.g.length,D.g.length),C=[];for(let U=0;U<R;U++)C[U]=this.i(U)^D.i(U);return new d(C,this.h^D.h)};function Wt(D){const R=D.g.length+1,C=[];for(let U=0;U<R;U++)C[U]=D.i(U)<<1|D.i(U-1)>>>31;return new d(C,D.h)}function Ut(D,R){const C=R>>5;R%=32;const U=D.g.length-C,N=[];for(let b=0;b<U;b++)N[b]=R>0?D.i(b+C)>>>R|D.i(b+C+1)<<32-R:D.i(b+C);return new d(N,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,kE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Hr=d}).apply(typeof tv<"u"?tv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xE,El,zE,Vc,Jd,BE,qE,jE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,B){for(var W=Array(arguments.length-2),At=2;At<arguments.length;At++)W[At-2]=arguments[At];return m.prototype[P].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const B=P.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=P[W]}else u.push(P)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,v){const T=ht.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new et(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Ut=!1,D=new dt,R=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(C)}};function C(){for(var u;u=ct();){try{u.h.call(u.g)}catch(v){J(v)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function Tt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Tt,N),Tt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Tt.Z.h.call(this)},Tt.prototype.h=function(){Tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Yt="closure_listenable_"+(Math.random()*1e6|0),j=0;function tt(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++j,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ct(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function xt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let B=0;B<F.length;B++)v=F[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=bt(u,m,T,P);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,P),m.fa=v,u.push(m)),m};function pt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(T,P,1),B&&(ot(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,T){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return P}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),De={};function se(u,m,v,T,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],v,T,P);return null}return v=fo(v),u&&u[Yt]?u.J(m,v,g(T)?!!T.capture:!1,P):ns(u,m,v,!1,T,P)}function ns(u,m,v,T,P,B){if(!m)throw Error("Invalid event type");const W=g(P)?!!P.capture:!!P;let At=is(u);if(At||(u[Pt]=At=new rt(u)),v=At.add(m,v,T,W,B),v.proxy)return v;if(T=Qs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)b||(P=W),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qs(){function u(v){return m.call(u.src,u.listener,v)}const m=co;return u}function Ks(u,m,v,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ks(u,m[B],v,T,P);else T=g(T)?!!T.capture:!!T,v=fo(v),u&&u[Yt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=bt(m,v,T,P),v>-1&&(ot(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=is(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,T,P)),(v=u>-1?m[u]:null)&&Ys(v))}function Ys(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Yt])pt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Wn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=is(m))?(pt(v,u),v.h==0&&(v.src=null,m[Pt]=null)):ot(u)}}}function Wn(u){return u in De?De[u]:De[u]="on"+u}function co(u,m){if(u.da)u=!0;else{m=new Tt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Ys(u),u=v.call(T,m)}return u}function is(u){return u=u[Pt],u instanceof rt?u:null}var ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function fo(u){return typeof u=="function"?u:(u[ho]||(u[ho]=function(m){return u.handleEvent(m)}),u[ho])}function pe(){U.call(this),this.i=new rt(this),this.M=this,this.G=null}w(pe,U),pe.prototype[Yt]=!0,pe.prototype.removeEventListener=function(u,m,v,T){Ks(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(T,u),$(m,P)}P=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],P=er(B,T,!0,m)&&P;if(B=m.g=u,P=er(B,T,!0,m)&&P,P=er(B,T,!1,m)&&P,v)for(W=0;W<v.length;W++)B=m.g=v[W],P=er(B,T,!1,m)&&P}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ot(v[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},pe.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function er(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const At=W.listener,fe=W.ha||W.src;W.fa&&pt(u.i,W),P=At.call(fe,T)!==!1&&P}}return P&&!T.defaultPrevented}function Ch(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Jl(u){u.g=Ch(()=>{u.g=null,u.i&&(u.i=!1,Jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends U{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(u){U.call(this),this.h=u,this.g={}}w(rs,U);var mo=[];function go(u){Ct(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ys(m)},u),u.g={}}rs.prototype.N=function(){rs.Z.N.call(this),go(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=d.JSON.stringify,Dh=d.JSON.parse,$l=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xe(){N.call(this,"d")}w(xe,N);function An(){N.call(this,"c")}w(An,N);var he={},eu=null;function Xs(){return eu=eu||new pe}he.Ia="serverreachability";function nu(u){N.call(this,he.Ia,u)}w(nu,N);function ti(u){const m=Xs();Ne(m,new nu(m))}he.STAT_EVENT="statevent";function ss(u,m){N.call(this,he.STAT_EVENT,u),this.stat=m}w(ss,N);function ye(u){const m=Xs();Ne(m,new ss(m,u))}he.Ja="timingevent";function ei(u,m){N.call(this,he.Ja,u),this.size=m}w(ei,N);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function Nh(u,m,v,T,P,B){u.info(function(){if(u.g)if(B){var W="",At=B.split("&");for(let jt=0;jt<At.length;jt++){var fe=At[jt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const Rn=ae.split("_");W=Rn.length>=2&&Rn[1]=="type"?W+(ae+"="+fe+"&"):W+(ae+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+W})}function iu(u,m,v,T,P,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+W})}function ii(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(T?" "+T:"")})}function as(u,m){u.info(function(){return"TIMEOUT: "+m})}kn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return nr(B)}catch{return m}}var os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function ls(){}w(ls,Wl),ls.prototype.g=function(){return new XMLHttpRequest},yo=new ls;function Di(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function xn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var _e={},Ue={};function ri(u,m,v){u.M=1,u.A=us(Ee(m)),u.u=v,u.R=!0,Zs(u,null)}function Zs(u,m){u.F=Date.now(),si(u),u.B=Ee(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ta(v.i,"t",T),u.C=0,v=u.j.L,u.h=new zn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(mo[0]=P.toString()),P=mo);for(let B=0;B<P.length;B++){const W=se(v,P[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},xn.prototype.Y=function(u){try{if(u==this.g)t:{const At=jn(this.g),fe=this.g.ya(),jt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||At!=4||fe==7||(fe==8||jt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var B=T;break e}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ye(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=au(this,v),ae==Ue){At==4&&(this.m=4,ye(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==_e){this.m=4,ye(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,ae,null),oi(this,ae);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vo(W),W.P=!0,ye(11))}}else ii(this.i,this.l,v,null),oi(this,v);At==4&&fn(this),this.o&&!this.K&&(At==4?gu(this.j,this):(this.o=!1,si(this)))}else Oi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),Sn(this)}}}catch{}};function Vh(u){if(!su(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,P=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(P&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ue:(v=Number(m.substring(v,T)),isNaN(v)?_e:(T+=1,T+v>m.length?Ue:(m=m.slice(T,T+v),u.C=T+v,m)))}xn.prototype.cancel=function(){this.K=!0,fn(this)};function si(u){u.T=Date.now()+u.H,Js(u,u.H)}function Js(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(_(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(as(this.i,this.B),this.M!=2&&(ti(),ye(17)),fn(this),this.m=2,Sn(this)):Js(this,this.T-u)};function Sn(u){u.j.I==0||u.K||gu(u.j,u)}function fn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,go(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)sa(v),cr(v);else break t;ps(v),ye(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(_(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((u.L||v.g==u)&&sa(v),!S(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let jt=P[m];const ae=jt[0];if(!(ae<=v.K))if(v.K=ae,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const Rn=jt[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const pi=jt[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Hn=jt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Fn=u.g;if(Fn){const ys=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ys){var B=T.h;B.g||ys.indexOf("spdy")==-1&&ys.indexOf("quic")==-1&&ys.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Eo(B,B.h),B.h=null))}if(T.G){const aa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(T.wa=aa,Gt(T.J,T.G,aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=_u(T,T.L?T.ba:null,T.W),W.L){To(T.h,W);var At=W,fe=T.O;fe&&(At.H=fe),At.D&&(ai(At),si(At)),T.g=W}else du(T);v.i.length>0&&mi(v)}else jt[0]!="stop"&&jt[0]!="close"||gi(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?gi(v,7):No(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}ti(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $s(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,B=null;T>=0?(P=u[v].substring(0,T),B=u[v].substring(T+1)):P=u[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,ir(this,u.u),this.h=u.h,So(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Le(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),ir(this,m[4]),this.h=ci(m[5]||"",!0),So(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new sr(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cs(m,Ws,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cs(m,Ws,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(cs(v,v.charAt(0)=="/"?bo:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",cs(v,uu)),u.join("")},dn.prototype.resolve=function(u){const m=Ee(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ir(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let W=0;W<P.length;){const At=P[W++];At=="."?T&&W==P.length&&B.push(""):At==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==P.length&&B.push("")):(B.push(At),T=!0)}T=B.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?So(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ee(u){return new dn(u)}function Le(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ir(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof sr?(u.i=m,ea(u.i,u.l)):(v||(m=cs(m,rr)),u.i=new sr(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function us(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,en),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ws=/[#\/\?@]/g,lu=/[#\?:]/g,bo=/[#\?]/g,rr=/[#\?@]/g,uu=/#/g;function sr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&$s(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=sr.prototype,s.add=function(u,m){nn(this),this.i=null,u=ar(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){nn(u),m=ar(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return nn(u),m=ar(u,m),u.g.has(m)}s.forEach=function(u,m){nn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Ro(u,m){nn(u);let v=[];if(typeof m=="string")wo(u,m)&&(v=v.concat(u.g.get(ar(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return nn(this),this.i=null,u=ar(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(ar(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Di(v);v=Ro(this,v);for(let B=0;B<v.length;B++){let W=P;v[B]!==""&&(W+="="+Di(v[B])),u.push(W)}}return this.i=u.join("&")};function hu(u){const m=new sr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ar(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(cu(this,T),ta(this,P,v))},u)),u.j=m}function Bn(u,m){const v=new kn;if(d.Image){const T=new Image;T.onload=A(bn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(bn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(bn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(bn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Io(u,m){const v=new kn,T=new AbortController,P=setTimeout(()=>{T.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function or(){this.g=new $l}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(hi,Wl),hi.prototype.g=function(){return new hs(this.i,this.h)};function hs(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(hs,pe),s=hs.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?lr(this):qn(this),this.readyState==3&&na(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,lr(this))},s.Na=function(u){this.g&&(this.response=u,lr(this))},s.ga=function(){this.g&&lr(this)};function lr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Ct(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function fs(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=wn(v),typeof u=="string"?v!=null&&Di(v):Gt(u,m,v))}function Xt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Xt,pe);var fi=/^https?$/i,Co=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ds(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ds(this,B)}};function ds(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Do(u),Ni(u)}function Do(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ni(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ms(this):this.Xa())},s.Xa=function(){ms(this)};function ms(u){if(u.h&&typeof c<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(ou)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!fi.test(W?W.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var P=jn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Do(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(S(u[T]))continue;var v=ru(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}xt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ur(u){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new or,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ur.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ye(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),mi(this)};function No(u){if(ia(u),u.I==3){var m=u.V++,v=Ee(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),gs(u,v),m=new xn(u,u.j,m),m.M=2,m.A=us(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}yu(u)}function cr(u){u.g&&(Vo(u),u.g.cancel(),u.g=null)}function ia(u){cr(u),u.v&&(d.clearTimeout(u.v),u.v=null),sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||R(),Ut||(Wt(),Ut=!0),D.add(m,u),u.D=0}}function ra(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(_(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new xn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),$(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=fu(this,P,m),v=Ee(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),gs(this,v),B&&(this.R?m="headers="+Di(wn(B))+"&"+m:this.u&&fs(v,this.u,B)),Eo(this.h,P),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),P.U=!0,ri(P,v,null)):ri(P,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||vo(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const T=Ee(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),gs(u,T),u.u&&u.o&&fs(T,u.u,u.o),v=new xn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,v),ri(v,T,m)}function gs(u,m){u.H&&Ct(u.H,function(v,T){Gt(m,T,v)}),u.l&&Ct({},function(v,T){Gt(m,T,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let At=-1;for(;;){const fe=["count="+v];At==-1?v>0?(At=P[0].g,fe.push("ofs="+At)):At=0:fe.push("ofs="+At);let jt=!0;for(let ae=0;ae<v;ae++){var B=P[ae].g;const Rn=P[ae].map;if(B-=At,B<0)At=Math.max(0,P[ae].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var W=Rn instanceof Map?Rn:Object.entries(Rn);for(const[pi,Hn]of W){let Fn=Hn;g(Hn)&&(Fn=nr(Hn)),fe.push(B+pi+"="+encodeURIComponent(Fn))}}catch(pi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(Rn)}}if(jt){W=fe.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||R(),Ut||(Wt(),Ut=!0),D.add(m,u),u.A=0}}function ps(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(_(u.Da,u),pu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),cr(this),mu(this))};function Vo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),gs(u,m),u.u&&u.o&&fs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=us(Ee(m)),v.u=null,v.R=!0,Zs(v,u)}s.Va=function(){this.C!=null&&(this.C=null,cr(this),ps(this),ye(19))};function sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){sa(u),Vo(u),u.g=null;var T=2}else if(ui(u.h,m))v=m.G,To(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Xs(),Ne(T,new ei(T,v)),mi(u)}else du(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&ps(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function pu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),us(T),P?Bn(T.toString(),v):Io(T.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),yu(u),ia(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var T=v instanceof dn?Ee(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ir(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new dn(null);T&&Le(B,T),m&&(B.g=m),P&&ir(B,P),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),gs(u,T),T}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new hi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function hr(){}hr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new ur(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}w(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){No(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=nr(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&mi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,We.Z.N.call(this)};function Tu(u){xe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Tu,xe);function Au(){An.call(this),this.status=1}w(Au,An);function Vi(u){this.g=u}w(Vi,Eu),Vi.prototype.ra=function(){Ne(this.g,"a")},Vi.prototype.qa=function(u){Ne(this.g,new Tu(u))},Vi.prototype.pa=function(u){Ne(this.g,new Au)},Vi.prototype.oa=function(){Ne(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,jE=function(){return new hr},qE=function(){return Xs()},BE=he,Jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,Vc=os,po.COMPLETE="complete",zE=po,tu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,El=tu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,xE=Xt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const ev="@firebase/firestore",nv="4.9.3";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let io="12.7.0";const zs=new vm("@firebase/firestore");function Pa(){return zs.logLevel}function it(s,...t){if(zs.logLevel<=Ot.DEBUG){const i=t.map(Am);zs.debug(`Firestore (${io}): ${s}`,...i)}}function Ji(s,...t){if(zs.logLevel<=Ot.ERROR){const i=t.map(Am);zs.error(`Firestore (${io}): ${s}`,...i)}}function Ka(s,...t){if(zs.logLevel<=Ot.WARN){const i=t.map(Am);zs.warn(`Firestore (${io}): ${s}`,...i)}}function Am(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,HE(s,a,i)}function HE(s,t,i){let a=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ji(a),new Error(a)}function Ft(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||HE(t,l,a)}function Et(s,t){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends tr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ls{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class FE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class yb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _b{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ls,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ls)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new FE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class vb{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Eb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new vb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new iv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ab(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Sm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Ab(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(s,t){return s<t?-1:s>t?1:0}function $d(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return xd(l)===xd(c)?Vt(l,c):xd(l)?1:-1}return Vt(s.length,t.length)}const Sb=55296,bb=57343;function xd(s){const t=s.charCodeAt(0);return t>=Sb&&t<=bb}function Ya(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const rv="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ti.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):$d(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class ee extends Ti{construct(t,i,a){return new ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new nt(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const wb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ti{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return wb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rv}static keyField(){return new Ge([rv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new nt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new nt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new nt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class ut{constructor(t){this.path=t}static fromPath(t){return new ut(ee.fromString(t))}static fromName(t){return new ut(ee.fromString(t).popFirst(5))}static empty(){return new ut(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new ee(t.slice()))}}function GE(s,t,i){if(!i)throw new nt(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Rb(s,t,i,a){if(t===!0&&a===!0)throw new nt(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function sv(s){if(!ut.isDocumentKey(s))throw new nt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function av(s){if(ut.isDocumentKey(s))throw new nt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function QE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function uh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function Fr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new nt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=uh(s);throw new nt(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ie(s,t){const i={typeString:s};return t&&(i.value=t),i}function jl(s,t){if(!QE(s))throw new nt(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new nt(Y.INVALID_ARGUMENT,i);return!0}const ov=-62135596800,lv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*lv);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<ov)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ov;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ie("string",re._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new re(0,0))}static max(){return new _t(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ol=-1;function Ib(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new Kr(l,ut.empty(),t)}function Cb(s){return new Kr(s.readTime,s.key,Ol)}class Kr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Kr(_t.min(),ut.empty(),Ol)}static max(){return new Kr(_t.max(),ut.empty(),Ol)}}function Db(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,t.documentKey),i!==0?i:Vt(s.largestBatchId,t.largestBatchId))}const Nb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ob{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ro(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==Nb)throw s;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++g,g===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Vb(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function so(s){return s.name==="IndexedDbTransactionError"}class ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ch.ce=-1;const bm=-1;function hh(s){return s==null}function Gc(s){return s===0&&1/s==-1/0}function Mb(s){return typeof s=="number"&&Number.isInteger(s)&&!Gc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const KE="";function Ub(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=uv(t)),t=Lb(s.get(i),t);return uv(t)}function Lb(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case KE:i+="";break;default:i+=c}}return i}function uv(s){return s+KE+""}function cv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Wr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function YE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(t){return new hv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class hv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new Ve(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new XE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Pb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const i=Pb.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Xr(s){return typeof s=="string"?Qe.fromBase64String(s):Qe.fromUint8Array(s)}const ZE="server_timestamp",JE="__type__",$E="__previous_value__",WE="__local_write_time__";function wm(s){return(s?.mapValue?.fields||{})[JE]?.stringValue===ZE}function fh(s){const t=s.mapValue.fields[$E];return wm(t)?fh(t):t}function Vl(s){const t=Yr(s.mapValue.fields[WE].timestampValue);return new re(t.seconds,t.nanos)}class kb{constructor(t,i,a,l,c,d,g,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Qc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Qc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}const tT="__type__",xb="__max__",Cc={mapValue:{}},eT="__vector__",Kc="value";function Zr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?wm(s)?4:Bb(s)?9007199254740991:zb(s)?10:11:gt(28295,{value:s})}function Ci(s,t){if(s===t)return!0;const i=Zr(s);if(i!==Zr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Vl(s).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Yr(l.timestampValue),g=Yr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Xr(l.bytesValue).isEqual(Xr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?Gc(d)===Gc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Ya(s.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(cv(d)!==cv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ci(d[y],g[y])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Ul(s,t){return(s.values||[]).find((i=>Ci(i,t)))!==void 0}function Xa(s,t){if(s===t)return 0;const i=Zr(s),a=Zr(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,t);case 3:return fv(s.timestampValue,t.timestampValue);case 4:return fv(Vl(s),Vl(t));case 5:return $d(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=Xr(c),y=Xr(d);return g.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=Vt(g[_],y[_]);if(A!==0)return A}return Vt(g.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Vt(ge(c.latitude),ge(d.latitude));return g!==0?g:Vt(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return dv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[Kc]?.arrayValue,A=y[Kc]?.arrayValue,w=Vt(_?.values?.length||0,A?.values?.length||0);return w!==0?w:dv(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let w=0;w<y.length&&w<A.length;++w){const M=$d(y[w],A[w]);if(M!==0)return M;const G=Xa(g[y[w]],_[A[w]]);if(G!==0)return G}return Vt(y.length,A.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function fv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const i=Yr(s),a=Yr(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function dv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Xa(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function Za(s){return Wd(s)}function Wd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Xr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ut.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Wd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Wd(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function Mc(s){switch(Zr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(s);return t?16+Mc(t):16;case 5:return 2*s.stringValue.length;case 6:return Xr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Mc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Wr(a.fields,((c,d)=>{l+=c.length+Mc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function mv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function tm(s){return!!s&&"integerValue"in s}function Rm(s){return!!s&&"arrayValue"in s}function gv(s){return!!s&&"nullValue"in s}function pv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uc(s){return!!s&&"mapValue"in s}function zb(s){return(s?.mapValue?.fields||{})[tT]?.stringValue===eT}function wl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Wr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=wl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wl(s.arrayValue.values[i]);return t}return{...s}}function Bb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===xb}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=wl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Wr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(wl(this.value))}}function nT(s){const t=[];return Wr(s.fields,((i,a)=>{const l=new Ge([i]);if(Uc(a)){const c=nT(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Tn(t)}class Ze{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,_t.min(),_t.min(),_t.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,_t.min(),_t.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,_t.min(),_t.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function yv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),i.key):a=Xa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function _v(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ci(s.position[i],t.position[i]))return!1;return!0}class Ll{constructor(t,i="asc"){this.field=t,this.dir=i}}function qb(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class iT{}class Re extends iT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Hb(t,i,a):i==="array-contains"?new Qb(t,a):i==="in"?new Kb(t,a):i==="not-in"?new Yb(t,a):i==="array-contains-any"?new Xb(t,a):new Re(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Fb(t,a):new Gb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&Zr(this.value)===Zr(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends iT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Jn(t,i)}matches(t){return rT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rT(s){return s.op==="and"}function sT(s){return jb(s)&&rT(s)}function jb(s){for(const t of s.filters)if(t instanceof Jn)return!1;return!0}function em(s){if(s instanceof Re)return s.field.canonicalString()+s.op.toString()+Za(s.value);if(sT(s))return s.filters.map((t=>em(t))).join(",");{const t=s.filters.map((i=>em(i))).join(",");return`${s.op}(${t})`}}function aT(s,t){return s instanceof Re?(function(a,l){return l instanceof Re&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(s,t):s instanceof Jn?(function(a,l){return l instanceof Jn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&aT(d,l.filters[g])),!0):!1})(s,t):void gt(19439)}function oT(s){return s instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(s):s instanceof Jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(oT).join(" ,")+"}"})(s):"Filter"}class Hb extends Re{constructor(t,i,a){super(t,i,a),this.key=ut.fromName(a.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class Fb extends Re{constructor(t,i){super(t,"in",i),this.keys=lT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Gb extends Re{constructor(t,i){super(t,"not-in",i),this.keys=lT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function lT(s,t){return(t.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class Qb extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Rm(i)&&Ul(i.arrayValue,this.value)}}class Kb extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class Yb extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class Xb extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Rm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}class Zb{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function vv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new Zb(s,t,i,a,l,c,d)}function Im(s){const t=Et(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>em(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),hh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Za(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Za(a))).join(",")),t.Te=i}return t.Te}function Cm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!qb(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!aT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!_v(s.startAt,t.startAt)&&_v(s.endAt,t.endAt)}function nm(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ao{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Jb(s,t,i,a,l,c,d,g){return new ao(s,t,i,a,l,c,d,g)}function Dm(s){return new ao(s)}function Ev(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function uT(s){return s.collectionGroup!==null}function Rl(s){const t=Et(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Ge.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ll(c,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Ll(Ge.keyField(),a))}return t.Ie}function Ai(s){const t=Et(s);return t.Ee||(t.Ee=$b(t,Rl(s))),t.Ee}function $b(s,t){if(s.limitType==="F")return vv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ll(l.field,c)}));const i=s.endAt?new Yc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Yc(s.startAt.position,s.startAt.inclusive):null;return vv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function im(s,t){const i=s.filters.concat([t]);return new ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function rm(s,t,i){return new ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function dh(s,t){return Cm(Ai(s),Ai(t))&&s.limitType===t.limitType}function cT(s){return`${Im(Ai(s))}|lt:${s.limitType}`}function ka(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>oT(l))).join(", ")}]`),hh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${a})`})(Ai(s))}; limitType=${s.limitType})`}function mh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ut.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Rl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,y){const _=yv(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,Rl(a),l)||a.endAt&&!(function(d,g,y){const _=yv(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,Rl(a),l))})(s,t)}function Wb(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function hT(s){return(t,i)=>{let a=!1;for(const l of Rl(s)){const c=tw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function tw(s,t,i){const a=s.field.isKeyField()?ut.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Xa(y,_):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}class js{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Wr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}const ew=new le(ut.comparator);function $i(){return ew}const fT=new le(ut.comparator);function Tl(...s){let t=fT;for(const i of s)t=t.insert(i.key,i);return t}function dT(s){let t=fT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Us(){return Il()}function mT(){return Il()}function Il(){return new js((s=>s.toString()),((s,t)=>s.isEqual(t)))}const nw=new le(ut.comparator),iw=new Ve(ut.comparator);function Mt(...s){let t=iw;for(const i of s)t=t.add(i);return t}const rw=new Ve(Vt);function sw(){return rw}function Nm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function gT(s){return{integerValue:""+s}}function aw(s,t){return Mb(t)?gT(t):Nm(s,t)}class gh{constructor(){this._=void 0}}function ow(s,t,i){return s instanceof Xc?(function(l,c){const d={fields:{[JE]:{stringValue:ZE},[WE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&wm(c)&&(c=fh(c)),c&&(d.fields[$E]=c),{mapValue:d}})(i,t):s instanceof Pl?yT(s,t):s instanceof kl?_T(s,t):(function(l,c){const d=pT(l,c),g=Tv(d)+Tv(l.Ae);return tm(d)&&tm(l.Ae)?gT(g):Nm(l.serializer,g)})(s,t)}function lw(s,t,i){return s instanceof Pl?yT(s,t):s instanceof kl?_T(s,t):i}function pT(s,t){return s instanceof Zc?(function(a){return tm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Xc extends gh{}class Pl extends gh{constructor(t){super(),this.elements=t}}function yT(s,t){const i=vT(t);for(const a of s.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class kl extends gh{constructor(t){super(),this.elements=t}}function _T(s,t){let i=vT(t);for(const a of s.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class Zc extends gh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Tv(s){return ge(s.integerValue||s.doubleValue)}function vT(s){return Rm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function uw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Pl&&l instanceof Pl||a instanceof kl&&l instanceof kl?Ya(a.elements,l.elements,Ci):a instanceof Zc&&l instanceof Zc?Ci(a.Ae,l.Ae):a instanceof Xc&&l instanceof Xc})(s.transform,t.transform)}class cw{constructor(t,i){this.version=t,this.transformResults=i}}class Zn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zn}static exists(t){return new Zn(void 0,t)}static updateTime(t){return new Zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class ph{}function ET(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Om(s.key,Zn.none()):new Hl(s.key,s.data,Zn.none());{const i=s.data,a=hn.empty();let l=new Ve(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ts(s.key,a,new Tn(l.toArray()),Zn.none())}}function hw(s,t,i){s instanceof Hl?(function(l,c,d){const g=l.value.clone(),y=Sv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof ts?(function(l,c,d){if(!Lc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Sv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(TT(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(s,t,i,a){return s instanceof Hl?(function(c,d,g,y){if(!Lc(c.precondition,d))return g;const _=c.value.clone(),A=bv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof ts?(function(c,d,g,y){if(!Lc(c.precondition,d))return g;const _=bv(c.fieldTransforms,y,d),A=d.data;return A.setAll(TT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,t,i,a):(function(c,d,g){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function fw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=pT(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function Av(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ya(a,l,((c,d)=>uw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Hl extends ph{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ts extends ph{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function TT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Sv(s,t,i){const a=new Map;Ft(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,lw(d,g,i[l]))}return a}function bv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,ow(c,d,t))}return a}class Om extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dw extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&hw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=mT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=ET(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,((i,a)=>Av(i,a)))&&Ya(this.baseMutations,t.baseMutations,((i,a)=>Av(i,a)))}}class Vm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return nw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Vm(t,i,a,l)}}class gw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class pw{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,kt;function yw(s){switch(s){case Y.OK:return gt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function AT(s){if(s===void 0)return Ji("GRPC error has no .code"),Y.UNKNOWN;switch(s){case we.OK:return Y.OK;case we.CANCELLED:return Y.CANCELLED;case we.UNKNOWN:return Y.UNKNOWN;case we.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case we.INTERNAL:return Y.INTERNAL;case we.UNAVAILABLE:return Y.UNAVAILABLE;case we.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case we.NOT_FOUND:return Y.NOT_FOUND;case we.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case we.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case we.ABORTED:return Y.ABORTED;case we.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case we.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case we.DATA_LOSS:return Y.DATA_LOSS;default:return gt(39323,{code:s})}}(kt=we||(we={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function _w(){return new TextEncoder}const vw=new Hr([4294967295,4294967295],0);function wv(s){const t=_w().encode(s),i=new kE;return i.update(t),new Uint8Array(i.digest())}function Rv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Hr([i,a],0),new Hr([l,c],0)]}class Mm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Al(`Invalid padding: ${i}`);if(a<0)throw new Al(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Al(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Hr.fromNumber(a)));return l.compare(vw)===1&&(l=new Hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=wv(t),[a,l]=Rv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Mm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=wv(t),[a,l]=Rv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new yh(_t.min(),l,new le(Vt),$i(),Mt())}}class Fl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Fl(a,i,Mt(),Mt(),Mt())}}class Pc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class ST{constructor(t,i){this.targetId=t,this.Ce=i}}class bT{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Iv{constructor(){this.ve=0,this.Fe=Cv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Fl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Cv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ew{constructor(t){this.Ge=t,this.ze=new Map,this.je=$i(),this.Je=Dc(),this.He=Dc(),this.Ye=new le(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(nm(c))if(a===0){const d=new ut(c.path);this.et(i,d,Ze.newNoDocument(d,_t.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Xr(a).toUint8Array()}catch(y){if(y instanceof XE)return Ka("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Mm(d,l,c)}catch(y){return Ka(y instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&nm(g.target)){const y=new ut(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Mt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new yh(t,i,this.Ye,this.je,a);return this.je=$i(),this.Je=Dc(),this.He=Dc(),this.Ye=new le(Vt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Iv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Iv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new le(ut.comparator)}function Cv(){return new le(ut.comparator)}const Tw={asc:"ASCENDING",desc:"DESCENDING"},Aw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sw={and:"AND",or:"OR"};class bw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(s,t){return s.useProto3Json||hh(t)?t:{value:t}}function Jc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function ww(s,t){return Jc(s,t.toTimestamp())}function Si(s){return Ft(!!s,49232),_t.fromTimestamp((function(i){const a=Yr(i);return new re(a.seconds,a.nanos)})(s))}function Um(s,t){return am(s,t).canonicalString()}function am(s,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function RT(s){const t=ee.fromString(s);return Ft(OT(t),10190,{key:t.toString()}),t}function om(s,t){return Um(s.databaseId,t.path)}function zd(s,t){const i=RT(t);if(i.get(1)!==s.databaseId.projectId)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut(CT(i))}function IT(s,t){return Um(s.databaseId,t)}function Rw(s){const t=RT(s);return t.length===4?ee.emptyPath():CT(t)}function lm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function CT(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Dv(s,t,i){return{name:om(s,t),fields:i.value.mapValue.fields}}function Iw(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:AT(_.code);return new nt(A,_.message||"")})(d);i=new bT(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=zd(s,a.document.name),c=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):_t.min(),g=new hn({mapValue:{fields:a.document.fields}}),y=Ze.newFoundDocument(l,c,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Pc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=zd(s,a.document),c=a.readTime?Si(a.readTime):_t.min(),d=Ze.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=zd(s,a.document),c=a.removedTargetIds||[];i=new Pc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new pw(l,c),g=a.targetId;i=new ST(g,d)}}return i}function Cw(s,t){let i;if(t instanceof Hl)i={update:Dv(s,t.key,t.value)};else if(t instanceof Om)i={delete:om(s,t.key)};else if(t instanceof ts)i={update:Dv(s,t.key,t.data),updateMask:kw(t.fieldMask)};else{if(!(t instanceof dw))return gt(16599,{Vt:t.type});i={verify:om(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Xc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Zc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:ww(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function Dw(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(_t.min())&&(d=Si(c)),new cw(d,l.transformResults||[])})(i,t)))):[]}function Nw(s,t){return{documents:[IT(s,t.path)]}}function Ow(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=IT(s,l);const c=(function(_){if(_.length!==0)return NT(Jn.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:xa(M.field),direction:Uw(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=sm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function Vw(s){let t=Rw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const M=DT(w);return M instanceof Jn&&sT(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(Z){return new Ll(za(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,hh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(w){const M=!!w.before,G=w.values||[];return new Yc(G,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,G=w.values||[];return new Yc(G,M)})(i.endAt)),Jb(t,l,d,c,g,"F",y,_)}function Mw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function DT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=za(i.unaryFilter.field);return Re.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Re.create(za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Jn.create(i.compositeFilter.filters.map((a=>DT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function Uw(s){return Tw[s]}function Lw(s){return Aw[s]}function Pw(s){return Sw[s]}function xa(s){return{fieldPath:s.canonicalString()}}function za(s){return Ge.fromServerFormat(s.fieldPath)}function NT(s){return s instanceof Re?(function(i){if(i.op==="=="){if(pv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NAN"}};if(gv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(pv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NAN"}};if(gv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(i.field),op:Lw(i.op),value:i.value}}})(s):s instanceof Jn?(function(i){const a=i.getFilters().map((l=>NT(l)));return a.length===1?a[0]:{compositeFilter:{op:Pw(i.op),filters:a}}})(s):gt(54877,{filter:s})}function kw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function OT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class zr{constructor(t,i,a,l,c=_t.min(),d=_t.min(),g=Qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class xw{constructor(t){this.yt=t}}function zw(s){const t=Vw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?rm(t,t.limit,"L"):t}class Bw{constructor(){this.Cn=new qw}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Kr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class qw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ee.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ee.comparator)).toArray()}}const Nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(VT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Ja{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}const Ov="LruGarbageCollector",jw=1048576;function Vv([s,t],[i,a]){const l=Vt(s,i);return l===0?Vt(t,a):l}class Hw{constructor(t){this.Ir=t,this.buffer=new Ve(Vv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Vv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Fw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(Ov,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){so(i)?it(Ov,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Vr(3e5)}))}}class Gw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ch.ce);const a=new Hw(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Nv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,g,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,g=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),Pa()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function Qw(s,t){return new Gw(s,t)}class Kw{constructor(){this.changes=new js((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Yw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Xw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Cl(a.mutation,l,Tn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=Us();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Tl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Us();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=$i();const d=Il(),g=(function(){return Il()})();return i.forEach(((y,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof ts)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Cl(A.mutation,_,A.mutation.getFieldMask(),re.now())):d.set(_.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new Yw(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Il();let l=new le(((d,g)=>d-g)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||Tn.empty();A=g.applyToLocalView(_,A),a.set(y,A);const w=(l.get(g.batchId)||Mt()).add(y);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,w=mT();A.forEach((M=>{if(!c.has(M)){const G=ET(i.get(M),a.get(M));G!==null&&w.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):uT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Us());let g=Ol,y=c;return d.next((_=>X.forEach(_,((A,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{y=y.insert(A,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Mt()))).next((A=>({batchId:g,changes:dT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(y=>{const _=(function(w,M){return new ao(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let g=Tl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Cl(A.mutation,_,Tn.empty(),re.now()),mh(i,_)&&(g=g.insert(y,_))})),g}))}}class Zw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:zw(l.bundledQuery),readTime:Si(l.readTime)}})(i)),X.resolve()}}class Jw{constructor(){this.overlays=new le(ut.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Us();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Us(),c=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=Us(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Us(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=l)););return X.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new gw(i,a));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class $w{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Lm{constructor(){this.Qr=new Ve(ke.$r),this.Ur=new Ve(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new ke(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new ke(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ut(new ee([])),a=new ke(i,t),l=new ke(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ut(new ee([])),a=new ke(i,t),l=new ke(i,t+1);let c=Mt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ke(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ut.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||ut.comparator(t.key,i.key)}}class Ww{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(ke.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mw(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new ke(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?bm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Vt);return i.forEach((l=>{const c=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ut.isDocumentKey(c)||(c=c.child(""));const d=new ke(new ut(c),0);let g=new Ve(Vt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new ke(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new ke(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class tR{constructor(t){this.ri=t,this.docs=(function(){return new le(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=$i();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=$i();const d=i.path,g=new ut(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Db(Cb(A),a)<=0||(l.has(A.key)||mh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new eR(this)}getSize(t){return X.resolve(this.size)}}class eR extends Kw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class nR{constructor(t){this.persistence=t,this.si=new js((i=>Im(i)),Cm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Lm,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class MT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new $w,this.referenceDelegate=t(this),this.Pi=new nR(this),this.indexManager=new Bw,this.remoteDocumentCache=(function(l){return new tR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new xw(i),this.Ii=new Zw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Jw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new Ww(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new iR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class iR extends Ob{constructor(t){super(),this.currentSequenceNumber=t}}class Pm{constructor(t){this.persistence=t,this.Ri=new Lm,this.Vi=null}static mi(t){return new Pm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=ut.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class $c{constructor(t,i){this.persistence=t,this.pi=new js((a=>Ub(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Qw(this,i)}static mi(t,i){return new $c(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class km{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new km(t,i.fromCache,a,l)}}class rR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class sR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZS()?8:Vb(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new rR;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Pa()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Pa()<=Ot.DEBUG&&it("QueryEngine","Query:",ka(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Pa()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):X.resolve())}ys(t,i){if(Ev(i))return X.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=rm(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,rm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return Ev(i)||l.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(Pa()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ka(i)),this.vs(t,d,i,Ib(l,Ol)).next((g=>g)))}))}Ds(t,i){let a=new Ve(hT(t));return i.forEach(((l,c)=>{mh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Pa()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ka(i)),this.ps.getDocumentsMatchingQuery(t,i,Kr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const xm="LocalStore",aR=3e8;class oR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Vt),this.xs=new js((c=>Im(c)),Cm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Xw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function lR(s,t,i,a){return new oR(s,t,i,a)}async function UT(s,t){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Mt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function uR(s,t){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,A){const w=_.batch,M=w.keys();let G=X.resolve();return M.forEach((Z=>{G=G.next((()=>A.getEntry(y,Z))).next((et=>{const J=_.docVersions.get(Z);Ft(J!==null,48541),et.version.compareTo(J)<0&&(w.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function LT(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function cR(s,t){const i=Et(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((A,w)=>{const M=l.get(w);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let G=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?G=G.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(w,G),(function(et,J,ct){return et.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=aR?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(M,G,A)&&g.push(i.Pi.updateTargetData(c,G))}));let y=$i(),_=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(hR(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function hR(s,t,i){let a=Mt(),l=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=$i();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):it(xm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function fR(s,t){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function dR(s,t){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new zr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function um(s,t,i){const a=Et(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!so(d))throw d;it(xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Mv(s,t,i){const a=Et(s);let l=_t.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const w=Et(y),M=w.xs.get(A);return M!==void 0?X.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,A)})(a,d,Ai(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Mt()))).next((g=>(mR(a,Wb(t),g),{documents:g,Qs:c})))))}function mR(s,t,i){let a=s.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class Uv{constructor(){this.activeTargetIds=sw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gR{constructor(){this.Mo=new Uv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Uv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class pR{Oo(t){}shutdown(){}}const Lv="ConnectivityMonitor";class Pv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(Lv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(Lv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function cm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const Bd="RestConnection",yR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _R{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Qc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=cm(),g=this.zo(t,i.toUriEncodedString());it(Bd,`Sending RPC '${t}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),A=eo(_);return this.Jo(t,g,y,a,A).then((w=>(it(Bd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Ka(Bd,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=yR[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class vR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class ER extends _R{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=cm();return new Promise(((g,y)=>{const _=new xE;_.setWithCredentials(!0),_.listenOnce(zE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Vc.NO_ERROR:const w=_.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case Vc.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),y(new nt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const M=_.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const et=(function(ct){const dt=ct.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(dt)>=0?dt:Y.UNKNOWN})(Z.status);y(new nt(et,Z.message))}else y(new nt(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new nt(Y.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=jE(),g=qE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,y);const w=d.createWebChannel(A,y);this.I_(w);let M=!1,G=!1;const Z=new vR({Yo:J=>{G?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(M||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),w.open(),M=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,J),w.send(J))},Zo:()=>w.close()}),et=(J,ct,dt)=>{J.listen(ct,(ht=>{try{dt(ht)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return et(w,El.EventType.OPEN,(()=>{G||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),et(w,El.EventType.CLOSE,(()=>{G||(G=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(w))})),et(w,El.EventType.ERROR,(J=>{G||(G=!0,Ka(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new nt(Y.UNAVAILABLE,"The operation could not be completed")))})),et(w,El.EventType.MESSAGE,(J=>{if(!G){const ct=J.data[0];Ft(!!ct,16349);const dt=ct,ht=dt?.error||dt[0]?.error;if(ht){it(Ye,`RPC '${t}' stream ${l} received error:`,ht);const qt=ht.status;let Wt=(function(R){const C=we[R];if(C!==void 0)return AT(C)})(qt),Ut=ht.message;Wt===void 0&&(Wt=Y.INTERNAL,Ut="Unknown error status: "+qt+" with message "+ht.message),G=!0,Z.a_(new nt(Wt,Ut)),w.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,ct),Z.u_(ct)}})),et(g,BE.STAT_EVENT,(J=>{J.stat===Jd.PROXY?it(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Jd.NOPROXY&&it(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}function _h(s){return new bw(s,!0)}class PT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const kv="PersistentStream";class kT{constructor(t,i,a,l,c,d,g,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Ji(i.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new nt(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TR extends kT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Iw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Si(d.readTime):_t.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=lm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=nm(y)?{documents:Nw(c,y)}:{query:Ow(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=wT(c,d.resumeToken);const _=sm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=Jc(c,d.snapshotVersion.toTimestamp());const _=sm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const a=Mw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=lm(this.serializer),i.removeTarget=t,this.q_(i)}}class AR extends kT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Dw(t.writeResults,t.commitTime),a=Si(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=lm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Cw(this.serializer,a)))};this.q_(i)}}class SR{}class bR extends SR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,am(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(Y.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,am(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Bs="RemoteStore";class RR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Hs(this)&&(it(Bs,"Restarting streams for network reachability change."),await(async function(y){const _=Et(y);_.Ea.add(4),await Gl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await vh(_)})(this))}))})),this.Ra=new wR(a,l)}}async function vh(s){if(Hs(s))for(const t of s.da)await t(!0)}async function Gl(s){for(const t of s.da)await t(!1)}function xT(s,t){const i=Et(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),jm(i)?qm(i):oo(i).O_()&&Bm(i,t))}function zm(s,t){const i=Et(s),a=oo(i);i.Ia.delete(t),a.O_()&&zT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Hs(i)&&i.Ra.set("Unknown"))}function Bm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}oo(s).Y_(t)}function zT(s,t){s.Va.Ue(t),oo(s).Z_(t)}function qm(s){s.Va=new Ew({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),oo(s).start(),s.Ra.ua()}function jm(s){return Hs(s)&&!oo(s).x_()&&s.Ia.size>0}function Hs(s){return Et(s).Ea.size===0}function BT(s){s.Va=void 0}async function IR(s){s.Ra.set("Online")}async function CR(s){s.Ia.forEach(((t,i)=>{Bm(s,t)}))}async function DR(s,t){BT(s),jm(s)?(s.Ra.ha(t),qm(s)):s.Ra.set("Unknown")}async function NR(s,t,i){if(s.Ra.set("Online"),t instanceof bT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(a){it(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Wc(s,a)}else if(t instanceof Pc?s.Va.Ze(t):t instanceof ST?s.Va.st(t):s.Va.tt(t),!i.isEqual(_t.min()))try{const a=await LT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),zT(c,y);const w=new zr(A.target,y,_,A.sequenceNumber);Bm(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){it(Bs,"Failed to raise snapshot:",a),await Wc(s,a)}}async function Wc(s,t,i){if(!so(t))throw t;s.Ea.add(1),await Gl(s),s.Ra.set("Offline"),i||(i=()=>LT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(Bs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await vh(s)}))}function qT(s,t){return t().catch((i=>Wc(s,i,t)))}async function Eh(s){const t=Et(s),i=Jr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bm;for(;OR(t);)try{const l=await fR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,VR(t,l)}catch(l){await Wc(t,l)}jT(t)&&HT(t)}function OR(s){return Hs(s)&&s.Ta.length<10}function VR(s,t){s.Ta.push(t);const i=Jr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function jT(s){return Hs(s)&&!Jr(s).x_()&&s.Ta.length>0}function HT(s){Jr(s).start()}async function MR(s){Jr(s).ra()}async function UR(s){const t=Jr(s);for(const i of s.Ta)t.ea(i.mutations)}async function LR(s,t,i){const a=s.Ta.shift(),l=Vm.from(a,t,i);await qT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Eh(s)}async function PR(s,t){t&&Jr(s).X_&&await(async function(a,l){if((function(d){return yw(d)&&d!==Y.ABORTED})(l.code)){const c=a.Ta.shift();Jr(a).B_(),await qT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Eh(a)}})(s,t),jT(s)&&HT(s)}async function xv(s,t){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),it(Bs,"RemoteStore received new credentials");const a=Hs(i);i.Ea.add(3),await Gl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await vh(i)}async function kR(s,t){const i=Et(s);t?(i.Ea.delete(2),await vh(i)):t||(i.Ea.add(2),await Gl(i),i.Ra.set("Unknown"))}function oo(s){return s.ma||(s.ma=(function(i,a,l){const c=Et(i);return c.sa(),new TR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:IR.bind(null,s),t_:CR.bind(null,s),r_:DR.bind(null,s),H_:NR.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),jm(s)?qm(s):s.Ra.set("Unknown")):(await s.ma.stop(),BT(s))}))),s.ma}function Jr(s){return s.fa||(s.fa=(function(i,a,l){const c=Et(i);return c.sa(),new AR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:MR.bind(null,s),r_:PR.bind(null,s),ta:UR.bind(null,s),na:LR.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Eh(s)):(await s.fa.stop(),s.Ta.length>0&&(it(Bs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Hm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new Hm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(s,t){if(Ji("AsyncQueue",`${t}: ${s}`),so(s))return new nt(Y.UNAVAILABLE,`${t}: ${s}`);throw s}class qa{static emptySet(t){return new qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ut.comparator(i.key,a.key):(i,a)=>ut.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class zv{constructor(){this.ga=new le(ut.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class $a{constructor(t,i,a,l,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new $a(t,i,qa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class xR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class zR{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=Bv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new nt(Y.ABORTED,"Firestore shutting down"))}}function Bv(){return new js((s=>cT(s)),dh)}async function BR(s,t){const i=Et(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new xR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Fm(d,`Initialization of query '${ka(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Gm(i)}async function qR(s,t){const i=Et(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function jR(s,t){const i=Et(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&Gm(i)}function HR(s,t,i){const a=Et(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Gm(s){s.Ca.forEach((t=>{t.next()}))}var hm,qv;(qv=hm||(hm={})).Ma="default",qv.Cache="cache";class FR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new $a(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=$a.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}class FT{constructor(t){this.key=t}}class GT{constructor(t){this.key=t}}class GR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=hT(t),this.tu=new qa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new zv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,w)=>{const M=l.get(A),G=mh(this.query,w)?w:null,Z=!!M&&this.mutatedKeys.has(M.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;M&&G?M.data.isEqual(G.data)?Z!==et&&(a.track({type:3,doc:G}),J=!0):this.su(M,G)||(a.track({type:2,doc:G}),J=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(g=!0)):!M&&G?(a.track({type:0,doc:G}),J=!0):M&&!G&&(a.track({type:1,doc:M}),J=!0,(y||_)&&(g=!0)),J&&(G?(d=d.add(G),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,w)=>(function(G,Z){const et=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:J})}};return et(G)-et(Z)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new $a(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new GT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new FT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return $a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qm="SyncEngine";class QR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class KR{constructor(t){this.key=t,this.hu=!1}}class YR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new js((g=>cT(g)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ut.comparator),this.Au=new Map,this.Ru=new Lm,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XR(s,t,i=!0){const a=JT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await QT(a,t,i,!0),l}async function ZR(s,t){const i=JT(s);await QT(i,t,!0,!1)}async function QT(s,t,i,a){const l=await dR(s.localStore,Ai(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await JR(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&xT(s.remoteStore,l),g}async function JR(s,t,i,a,l){s.pu=(w,M,G)=>(async function(et,J,ct,dt){let ht=J.view.ru(ct);ht.Cs&&(ht=await Mv(et.localStore,J.query,!1).then((({documents:D})=>J.view.ru(D,ht))));const qt=dt&&dt.targetChanges.get(J.targetId),Wt=dt&&dt.targetMismatches.get(J.targetId)!=null,Ut=J.view.applyChanges(ht,et.isPrimaryClient,qt,Wt);return Hv(et,J.targetId,Ut.au),Ut.snapshot})(s,w,M,G);const c=await Mv(s.localStore,t,!0),d=new GR(t,c.Qs),g=d.ru(c.documents),y=Fl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,y);Hv(s,i,_.au);const A=new QR(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function $R(s,t,i){const a=Et(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!dh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await um(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&zm(a.remoteStore,l.targetId),fm(a,l.targetId)})).catch(ro)):(fm(a,l.targetId),await um(a.localStore,l.targetId,!0))}async function WR(s,t){const i=Et(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),zm(i.remoteStore,a.targetId))}async function tI(s,t,i){const a=oI(s);try{const l=await(function(d,g){const y=Et(d),_=re.now(),A=g.reduce(((G,Z)=>G.add(Z.key)),Mt());let w,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=$i(),et=Mt();return y.Ns.getEntries(G,A).next((J=>{Z=J,Z.forEach(((ct,dt)=>{dt.isValidDocument()||(et=et.add(ct))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,Z))).next((J=>{w=J;const ct=[];for(const dt of g){const ht=fw(dt,w.get(dt.key).overlayedDocument);ht!=null&&ct.push(new ts(dt.key,ht,nT(ht.value.mapValue),Zn.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,ct,g)})).next((J=>{M=J;const ct=J.applyToLocalDocumentSet(w,et);return y.documentOverlayCache.saveOverlays(G,J.batchId,ct)}))})).then((()=>({batchId:M.batchId,changes:dT(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(Vt)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Ql(a,l.changes),await Eh(a.remoteStore)}catch(l){const c=Fm(l,"Failed to persist write");i.reject(c)}}async function KT(s,t){const i=Et(s);try{const a=await cR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Ql(i,a,t)}catch(a){await ro(a)}}function jv(s,t,i){const a=Et(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Et(d);y.onlineState=g;let _=!1;y.queries.forEach(((A,w)=>{for(const M of w.Sa)M.va(g)&&(_=!0)})),_&&Gm(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function eI(s,t,i){const a=Et(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ut.comparator);d=d.insert(c,Ze.newNoDocument(c,_t.min()));const g=Mt().add(c),y=new yh(_t.min(),new Map,new le(Vt),d,g);await KT(a,y),a.du=a.du.remove(c),a.Au.delete(t),Km(a)}else await um(a.localStore,t,!1).then((()=>fm(a,t,i))).catch(ro)}async function nI(s,t){const i=Et(s),a=t.batch.batchId;try{const l=await uR(i.localStore,t);XT(i,a,null),YT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ql(i,l)}catch(l){await ro(l)}}async function iI(s,t,i){const a=Et(s);try{const l=await(function(d,g){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next((w=>(Ft(w!==null,37113),A=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);XT(a,t,i),YT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Ql(a,l)}catch(l){await ro(l)}}function YT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function XT(s,t,i){const a=Et(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function fm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||ZT(s,a)}))}function ZT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(zm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Km(s))}function Hv(s,t,i){for(const a of i)a instanceof FT?(s.Ru.addReference(a.key,t),rI(s,a)):a instanceof GT?(it(Qm,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||ZT(s,a.key)):gt(19791,{wu:a})}function rI(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(it(Qm,"New document in limbo: "+i),s.Eu.add(a),Km(s))}function Km(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ut(ee.fromString(t)),a=s.fu.next();s.Au.set(a,new KR(i)),s.du=s.du.insert(i,a),xT(s.remoteStore,new zr(Ai(Dm(i.path)),a,"TargetPurposeLimboResolution",ch.ce))}}async function Ql(s,t,i){const a=Et(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=km.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const A=Et(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(_,(M=>X.forEach(M.Es,(G=>A.persistence.referenceDelegate.addReference(w,M.targetId,G))).next((()=>X.forEach(M.ds,(G=>A.persistence.referenceDelegate.removeReference(w,M.targetId,G)))))))))}catch(w){if(!so(w))throw w;it(xm,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const G=A.Ms.get(M),Z=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(M,et)}}})(a.localStore,c))}async function sI(s,t){const i=Et(s);if(!i.currentUser.isEqual(t)){it(Qm,"User change. New user:",t.toKey());const a=await UT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new nt(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Ql(i,a.Ls)}}function aI(s,t){const i=Et(s),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function JT(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=KT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eI.bind(null,t),t.Pu.H_=jR.bind(null,t.eventManager),t.Pu.yu=HR.bind(null,t.eventManager),t}function oI(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iI.bind(null,t),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return lR(this.persistence,new sR,t.initialUser,this.serializer)}Cu(t){return new MT(Pm.mi,this.serializer)}Du(t){return new gR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class lI extends th{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof $c,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Fw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new MT((a=>$c.mi(a,i)),this.serializer)}}class dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>jv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=sI.bind(null,this.syncEngine),await kR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zR})()}createDatastore(t){const i=_h(t.databaseInfo.databaseId),a=(function(c){return new ER(c)})(t.databaseInfo);return(function(c,d,g,y){return new bR(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new RR(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>jv(this.syncEngine,i,0)),(function(){return Pv.v()?new Pv:new pR})())}createSyncEngine(t,i){return(function(l,c,d,g,y,_,A){const w=new YR(l,c,d,g,y,_);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);it(Bs,"RemoteStore shutting down."),a.Ea.add(5),await Gl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};class uI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const $r="FirestoreClient";class cI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it($r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it($r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Fm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function jd(s,t){s.asyncQueue.verifyOperationInProgress(),it($r,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await UT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Fv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await hI(s);it($r,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>xv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>xv(t.remoteStore,l))),s._onlineComponents=t}async function hI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it($r,"Using user provided OfflineComponentProvider");try{await jd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await jd(s,new th)}}else it($r,"Using default OfflineComponentProvider"),await jd(s,new lI(void 0));return s._offlineComponents}async function $T(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it($r,"Using user provided OnlineComponentProvider"),await Fv(s,s._uninitializedComponentsProvider._online)):(it($r,"Using default OnlineComponentProvider"),await Fv(s,new dm))),s._onlineComponents}function fI(s){return $T(s).then((t=>t.syncEngine))}async function Gv(s){const t=await $T(s),i=t.eventManager;return i.onListen=XR.bind(null,t.syncEngine),i.onUnlisten=$R.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=ZR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=WR.bind(null,t.syncEngine),i}function WT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Qv=new Map;const t0="firestore.googleapis.com",Kv=!0;class Yv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t0,this.ssl=Kv}else this.host=t.host,this.ssl=t.ssl??Kv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jw)throw new nt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Rb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Th{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new pb;switch(a.type){case"firstParty":return new Eb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new nt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Qv.get(i);a&&(it("ComponentProvider","Removing Datastore"),Qv.delete(i),a.terminate())})(this),Promise.resolve()}}function dI(s,t,i,a={}){s=Fr(s,Th);const l=eo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(DE(`https://${g}`),NE("Firestore",!0)),c.host!==t0&&c.host!==g&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:a};if(!ks(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Xe.MOCK_USER;else{_=qS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new nt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(w)}s._authCredentials=new yb(new FE(_,A))}}class Fs{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Fs(this.firestore,t,this._query)}}class Ce{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(jl(i,Ce._jsonSchema))return new Ce(t,a||null,new ut(ee.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Ie("string",Ce._jsonSchemaVersion),referencePath:Ie("string")};class Gr extends Fs{constructor(t,i,a){super(t,i,Dm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new ut(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function Xv(s,t,...i){if(s=Me(s),GE("collection","path",t),s instanceof Th){const a=ee.fromString(t,...i);return av(a),new Gr(s,null,a)}{if(!(s instanceof Ce||s instanceof Gr))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(t,...i));return av(a),new Gr(s.firestore,null,a)}}function kc(s,t,...i){if(s=Me(s),arguments.length===1&&(t=Sm.newId()),GE("doc","path",t),s instanceof Th){const a=ee.fromString(t,...i);return sv(a),new Ce(s,null,new ut(a))}{if(!(s instanceof Ce||s instanceof Gr))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(t,...i));return sv(a),new Ce(s.firestore,s instanceof Gr?s.converter:null,new ut(a))}}const Zv="AsyncQueue";class Jv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PT(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&it(Zv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!so(t))throw t;it(Zv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",$v(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Hm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:$v(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function $v(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function Wv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Wa extends Th{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Jv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Jv(t),this._firestoreClient=void 0,await t}}}function mI(s,t){const i=typeof s=="object"?s:UE(),a=typeof s=="string"?s:Qc,l=Tm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=zS("firestore");c&&dI(l,...c)}return l}function e0(s){if(s._terminated)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||gI(s),s._firestoreClient}function gI(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new kb(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,WT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new cI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Qe.fromBase64String(t))}catch(i){throw new nt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ie("string",Ln._jsonSchemaVersion),bytes:Ie("string")};class Ah{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new nt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ym{constructor(t){this._methodName=t}}class bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new nt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new nt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(jl(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Ie("string",bi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jl(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new nt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ie("string",wi._jsonSchemaVersion),vectorValues:Ie("object")};const pI=/^__.*__$/;class yI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ts(t,this.data,this.fieldMask,i,this.fieldTransforms):new Hl(t,this.data,i,this.fieldTransforms)}}class n0{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ts(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function i0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class Xm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Xm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return eh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(i0(this.Ac)&&pI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class _I{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||_h(t)}Cc(t,i,a,l=!1){return new Xm({Ac:t,methodName:i,Dc:a,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zm(s){const t=s._freezeSettings(),i=_h(s._databaseId);return new _I(s._databaseId,!!t.ignoreUndefinedProperties,i)}function vI(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Jm("Data must be an object, but it was:",d,a);const g=r0(a,d);let y,_;if(c.merge)y=new Tn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const M=mm(t,w,i);if(!d.contains(M))throw new nt(Y.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);a0(A,M)||A.push(M)}y=new Tn(A),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new yI(new hn(g),y,_)}class Sh extends Ym{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Sh}}function EI(s,t,i,a){const l=s.Cc(1,t,i);Jm("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();Wr(a,((y,_)=>{const A=$m(t,y,i);_=Me(_);const w=l.yc(A);if(_ instanceof Sh)c.push(A);else{const M=Kl(_,w);M!=null&&(c.push(A),d.set(A,M))}}));const g=new Tn(c);return new n0(d,g,l.fieldTransforms)}function TI(s,t,i,a,l,c){const d=s.Cc(1,t,i),g=[mm(t,a,i)],y=[l];if(c.length%2!=0)throw new nt(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(mm(t,c[M])),y.push(c[M+1]);const _=[],A=hn.empty();for(let M=g.length-1;M>=0;--M)if(!a0(_,g[M])){const G=g[M];let Z=y[M];Z=Me(Z);const et=d.yc(G);if(Z instanceof Sh)_.push(G);else{const J=Kl(Z,et);J!=null&&(_.push(G),A.set(G,J))}}const w=new Tn(_);return new n0(A,w,d.fieldTransforms)}function AI(s,t,i,a=!1){return Kl(i,s.Cc(a?4:3,t))}function Kl(s,t){if(s0(s=Me(s)))return Jm("Unsupported field value:",t,s),r0(s,t);if(s instanceof Ym)return(function(a,l){if(!i0(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let y=Kl(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Me(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return aw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:Jc(l.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Jc(l.serializer,c)}}if(a instanceof bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:wT(l.serializer,a._byteString)};if(a instanceof Ce){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Um(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof wi)return(function(d,g){return{mapValue:{fields:{[tT]:{stringValue:eT},[Kc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Nm(g.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${uh(a)}`)})(s,t)}function r0(s,t){const i={};return YE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wr(s,((a,l)=>{const c=Kl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function s0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof bi||s instanceof Ln||s instanceof Ce||s instanceof Ym||s instanceof wi)}function Jm(s,t,i){if(!s0(i)||!QE(i)){const a=uh(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function mm(s,t,i){if((t=Me(t))instanceof Ah)return t._internalPath;if(typeof t=="string")return $m(s,t);throw eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const SI=new RegExp("[~\\*/\\[\\]]");function $m(s,t,i){if(t.search(SI)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ah(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function eh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new nt(Y.INVALID_ARGUMENT,g+s+y)}function a0(s,t){return s.some((i=>i.isEqual(t)))}class o0{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new bI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Wm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class bI extends o0{data(){return super.data()}}function Wm(s,t){return typeof t=="string"?$m(s,t):t instanceof Ah?t._internalPath:t._delegate._internalPath}function wI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new nt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class l0 extends tg{}function RI(s,t,...i){let a=[];t instanceof tg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof ng)).length,g=c.filter((y=>y instanceof eg)).length;if(d>1||d>0&&g>0)throw new nt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class eg extends l0{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new eg(t,i,a)}_apply(t){const i=this._parse(t);return u0(t._query,i),new Fs(t.firestore,t.converter,im(t._query,i))}_parse(t){const i=Zm(t.firestore);return(function(c,d,g,y,_,A,w){let M;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){eE(w,A);const Z=[];for(const et of w)Z.push(tE(y,c,et));M={arrayValue:{values:Z}}}else M=tE(y,c,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||eE(w,A),M=AI(g,d,w,A==="in"||A==="not-in");return Re.create(_,A,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class ng extends tg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ng(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Jn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)u0(d,y),d=im(d,y)})(t._query,i),new Fs(t.firestore,t.converter,im(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ig extends l0{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new ig(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new nt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new nt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ll(c,d)})(t._query,this._field,this._direction);return new Fs(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new ao(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function II(s,t="asc"){const i=t,a=Wm("orderBy",s);return ig._create(a,i)}function tE(s,t,i){if(typeof(i=Me(i))=="string"){if(i==="")throw new nt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uT(t)&&i.indexOf("/")!==-1)throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ee.fromString(i));if(!ut.isDocumentKey(a))throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return mv(s,new ut(a))}if(i instanceof Ce)return mv(s,i._key);throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(i)}.`)}function eE(s,t){if(!Array.isArray(s)||s.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function u0(s,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class CI{convertValue(t,i="none"){switch(Zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Wr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Kc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new wi(i)}convertGeoPoint(t){return new bi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=fh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=Yr(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ee.fromString(t);Ft(OT(a),9688,{name:t});const l=new Ml(a.get(1),a.get(3)),c=new ut(a.popFirst(5));return l.isEqual(i)||Ji(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function DI(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ps extends o0{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Wm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ps._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:Ie("string",Ps._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class xc extends Ps{data(t={}){return super.data(t)}}class ja{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new xc(this._firestore,this._userDataWriter,a.key,a,new Sl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new xc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new xc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:NI(g.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function NI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:Ie("string",ja._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class c0 extends CI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function nE(s,t,i,...a){s=Fr(s,Ce);const l=Fr(s.firestore,Wa),c=Zm(l);let d;return d=typeof(t=Me(t))=="string"||t instanceof Ah?TI(c,"updateDoc",s._key,t,i,a):EI(c,"updateDoc",s._key,t),rg(l,[d.toMutation(s._key,Zn.exists(!0))])}function OI(s){return rg(Fr(s.firestore,Wa),[new Om(s._key,Zn.none())])}function VI(s,t){const i=Fr(s.firestore,Wa),a=kc(s),l=DI(s.converter,t);return rg(i,[vI(Zm(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Zn.exists(!1))]).then((()=>a))}function MI(s,...t){s=Me(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Wv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Wv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Ce)d=Fr(s.firestore,Wa),g=Dm(s._key.path),c={next:y=>{t[a]&&t[a](UI(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Fr(s,Fs);d=Fr(y.firestore,Wa),g=y._query;const _=new c0(d);c={next:A=>{t[a]&&t[a](new ja(d,_,y,A))},error:t[a+1],complete:t[a+2]},wI(s._query)}return(function(_,A,w,M){const G=new uI(M),Z=new FR(A,G,w);return _.asyncQueue.enqueueAndForget((async()=>BR(await Gv(_),Z))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>qR(await Gv(_),Z)))}})(e0(d),g,l,c)}function rg(s,t){return(function(a,l){const c=new Ls;return a.asyncQueue.enqueueAndForget((async()=>tI(await fI(a),l,c))),c.promise})(e0(s),t)}function UI(s,t,i){const a=i.docs.get(t._key),l=new c0(s);return new Ps(s,l,t._key,a,new Sl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){io=l})(no),Qa(new xs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Wa(new _b(a.getProvider("auth-internal")),new Tb(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new nt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),jr(ev,nv,t),jr(ev,nv,"esm2020")})();function h0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LI=h0,f0=new Bl("auth","Firebase",h0());const nh=new vm("@firebase/auth");function PI(s,...t){nh.logLevel<=Ot.WARN&&nh.warn(`Auth (${no}): ${s}`,...t)}function zc(s,...t){nh.logLevel<=Ot.ERROR&&nh.error(`Auth (${no}): ${s}`,...t)}function $n(s,...t){throw sg(s,...t)}function Ri(s,...t){return sg(s,...t)}function d0(s,t,i){const a={...LI(),[t]:i};return new Bl("auth","Firebase",a).create(t,{appName:s.name})}function Qr(s){return d0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sg(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return f0.create(s,...t)}function mt(s,t,...i){if(!s)throw sg(t,...i)}function Yi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw zc(t),new Error(t)}function Wi(s,t){s||Yi(t)}function gm(){return typeof self<"u"&&self.location?.href||""}function kI(){return iE()==="http:"||iE()==="https:"}function iE(){return typeof self<"u"&&self.location?.protocol||null}function xI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kI()||KS()||"connection"in navigator)?navigator.onLine:!0}function zI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Yl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=FS()||YS()}get(){return xI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ag(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class m0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jI=new Yl(3e4,6e4);function Gs(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function es(s,t,i,a,l={}){return g0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=ql({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return QS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&eo(s.emulatorConfig.host)&&(_.credentials="include"),m0.fetch()(await p0(s,s.config.apiHost,i,g),_)})}async function g0(s,t,i){s._canInitEmulator=!1;const a={...BI,...t};try{const l=new FI(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Oc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Oc(s,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw d0(s,A,_);$n(s,A)}}catch(l){if(l instanceof tr)throw l;$n(s,"network-request-failed",{message:String(l)})}}async function bh(s,t,i,a,l={}){const c=await es(s,t,i,a,l);return"mfaPendingCredential"in c&&$n(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function p0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?ag(s.config,l):`${s.config.apiScheme}://${l}`;return qI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function HI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ri(this.auth,"network-request-failed")),jI.get())})}}function Oc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ri(s,t,a);return l.customData._tokenResponse=i,l}function rE(s){return s!==void 0&&s.enterprise!==void 0}class GI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return HI(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QI(s,t){return es(s,"GET","/v2/recaptchaConfig",Gs(s,t))}async function KI(s,t){return es(s,"POST","/v1/accounts:delete",t)}async function ih(s,t){return es(s,"POST","/v1/accounts:lookup",t)}function Dl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YI(s,t=!1){const i=Me(s),a=await i.getIdToken(t),l=og(a);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Dl(Hd(l.auth_time)),issuedAtTime:Dl(Hd(l.iat)),expirationTime:Dl(Hd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(s){return Number(s)*1e3}function og(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=wE(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function sE(s){const t=og(s);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function xl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof tr&&XI(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function XI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class ZI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(s){const t=s.auth,i=await s.getIdToken(),a=await xl(s,ih(t,{idToken:i}));mt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?y0(l.providerUserInfo):[],d=$I(s.providerData,c),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new pm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function JI(s){const t=Me(s);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $I(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function y0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function WI(s,t){const i=await g0(s,{},async()=>{const a=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await p0(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&eo(s.emulatorConfig.host)&&(y.credentials="include"),m0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function tC(s,t){return es(s,"POST","/v2/accounts:revokeToken",Gs(s,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=sE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await WI(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ha;return a&&(mt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Ur(s,t){mt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new ZI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new pm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await xl(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return YI(this,t)}reload(){return JI(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Qr(this.auth));const t=await this.getIdToken();return await xl(this,KI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:G,providerData:Z,stsTokenManager:et}=i;mt(w&&et,t,"internal-error");const J=Ha.fromJSON(this.name,et);mt(typeof w=="string",t,"internal-error"),Ur(a,t.name),Ur(l,t.name),mt(typeof M=="boolean",t,"internal-error"),mt(typeof G=="boolean",t,"internal-error"),Ur(c,t.name),Ur(d,t.name),Ur(g,t.name),Ur(y,t.name),Ur(_,t.name),Ur(A,t.name);const ct=new Xn({uid:w,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ct.providerData=Z.map(dt=>({...dt}))),y&&(ct._redirectEventId=y),ct}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ha;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await rh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?y0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ha;g.updateFromIdToken(a);const y=new Xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new pm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const aE=new Map;function Xi(s){Wi(s instanceof Function,"Expected a class definition");let t=aE.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,aE.set(s,t),t)}class _0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}_0.type="NONE";const oE=_0;function Bc(s,t,i){return`firebase:${s}:${t}:${i}`}class Fa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ih(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Fa(Xi(oE),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Xi(oE);const d=Bc(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let w;if(typeof A=="string"){const M=await ih(t,{idToken:A}).catch(()=>{});if(!M)break;w=await Xn._fromGetAccountInfoResponse(t,M,A)}else w=Xn._fromJSON(t,A);_!==c&&(g=w),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Fa(c,t,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Fa(c,t,a))}}function lE(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(A0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(v0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(b0(t))return"Blackberry";if(w0(t))return"Webos";if(E0(t))return"Safari";if((t.includes("chrome/")||T0(t))&&!t.includes("edge/"))return"Chrome";if(S0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function v0(s=Je()){return/firefox\//i.test(s)}function E0(s=Je()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function T0(s=Je()){return/crios\//i.test(s)}function A0(s=Je()){return/iemobile/i.test(s)}function S0(s=Je()){return/android/i.test(s)}function b0(s=Je()){return/blackberry/i.test(s)}function w0(s=Je()){return/webos/i.test(s)}function lg(s=Je()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function eC(s=Je()){return lg(s)&&!!window.navigator?.standalone}function nC(){return XS()&&document.documentMode===10}function R0(s=Je()){return lg(s)||S0(s)||w0(s)||b0(s)||/windows phone/i.test(s)||A0(s)}function I0(s,t=[]){let i;switch(s){case"Browser":i=lE(Je());break;case"Worker":i=`${lE(Je())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${a}`}class iC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function rC(s,t={}){return es(s,"GET","/v2/passwordPolicy",Gs(s,t))}const sC=6;class aC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??sC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class oC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new iC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ih(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Qr(this));const i=t?Me(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rC(this),i=new aC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await tC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=I0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&PI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function lo(s){return Me(s)}class uE{constructor(t){this.auth=t,this.observer=null,this.addObserver=i1(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lC(s){wh=s}function C0(s){return wh.loadJS(s)}function uC(){return wh.recaptchaEnterpriseScript}function cC(){return wh.gapiScript}function hC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class fC{constructor(){this.enterprise=new dC}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class dC{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const mC="recaptcha-enterprise",D0="NO_RECAPTCHA";class gC{constructor(t){this.type=mC,this.auth=lo(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{QI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new GI(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{g(y)})})}function l(c,d,g){const y=window.grecaptcha;rE(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(D0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(g=>{if(!i&&rE(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=uC();y.length!==0&&(y+=g),C0(y).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function cE(s,t,i,a=!1,l=!1){const c=new gC(s);let d;if(l)d=D0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function hE(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await cE(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await cE(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function pC(s,t){const i=Tm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ks(c,t??{}))return l;$n(l,"already-initialized")}return i.initialize({options:t})}function yC(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function _C(s,t,i){const a=lo(s);mt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=N0(t),{host:d,port:g}=vC(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){mt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),mt(ks(_,a.config.emulator)&&ks(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,eo(d)?(DE(`${c}//${d}${y}`),NE("Auth",!0)):EC()}function N0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function vC(s){const t=N0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:fE(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:fE(d)}}}function fE(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function EC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class ug{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function TC(s,t){return es(s,"POST","/v1/accounts:signUp",t)}async function AC(s,t){return bh(s,"POST","/v1/accounts:signInWithPassword",Gs(s,t))}async function SC(s,t){return bh(s,"POST","/v1/accounts:signInWithEmailLink",Gs(s,t))}async function bC(s,t){return bh(s,"POST","/v1/accounts:signInWithEmailLink",Gs(s,t))}class zl extends ug{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new zl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new zl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hE(t,i,"signInWithPassword",AC);case"emailLink":return SC(t,{email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hE(t,a,"signUpPassword",TC);case"emailLink":return bC(t,{idToken:i,email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ga(s,t){return bh(s,"POST","/v1/accounts:signInWithIdp",Gs(s,t))}const wC="http://localhost";class qs extends ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):$n("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new qs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ga(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ga(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ga(t,i)}buildRequest(){const t={requestUri:wC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}function RC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IC(s){const t=_l(vl(s)).link,i=t?_l(vl(t)).deep_link_id:null,a=_l(vl(s)).deep_link_id;return(a?_l(vl(a)).link:null)||a||i||t||s}class cg{constructor(t){const i=_l(vl(t)),a=i.apiKey??null,l=i.oobCode??null,c=RC(i.mode??null);mt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=IC(t);try{return new cg(i)}catch{return null}}}class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(t,i){return zl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=cg.parseLink(i);return mt(a,"argument-error"),zl._fromEmailAndCode(t,a.code,a.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class O0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xl extends O0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Lr extends Xl{constructor(){super("facebook.com")}static credential(t){return qs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class Pr extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return qs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Pr.credential(i,a)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";class kr extends Xl{constructor(){super("github.com")}static credential(t){return qs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";class xr extends Xl{constructor(){super("twitter.com")}static credential(t,i){return qs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return xr.credential(i,a)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";class to{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=dE(a);return new to({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=dE(a);return new to({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function dE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class sh extends tr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new sh(t,i,a,l)}}function V0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,t,a):c})}async function CC(s,t,i=!1){const a=await xl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return to._forOperation(s,"link",a)}async function DC(s,t,i=!1){const{auth:a}=s;if(Yn(a.app))return Promise.reject(Qr(a));const l="reauthenticate";try{const c=await xl(s,V0(a,l,t,s),i);mt(c.idToken,a,"internal-error");const d=og(c.idToken);mt(d,a,"internal-error");const{sub:g}=d;return mt(s.uid===g,a,"user-mismatch"),to._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&$n(a,"user-mismatch"),c}}async function M0(s,t,i=!1){if(Yn(s.app))return Promise.reject(Qr(s));const a="signIn",l=await V0(s,a,t),c=await to._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function NC(s,t){return M0(lo(s),t)}async function OC(s){const t=lo(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function VC(s,t,i){return Yn(s.app)?Promise.reject(Qr(s)):NC(Me(s),uo.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&OC(s),a})}function MC(s,t,i,a){return Me(s).onIdTokenChanged(t,i,a)}function UC(s,t,i){return Me(s).beforeAuthStateChanged(t,i)}function LC(s,t,i,a){return Me(s).onAuthStateChanged(t,i,a)}function PC(s){return Me(s).signOut()}const ah="__sak";class U0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const kC=1e3,xC=10;class L0 extends U0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);nC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,xC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},kC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}L0.type="LOCAL";const zC=L0;class P0 extends U0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}P0.type="SESSION";const k0=P0;function BC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Rh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await BC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];function hg(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class qC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=hg("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ii(){return window}function jC(s){Ii().location.href=s}function x0(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function HC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FC(){return navigator?.serviceWorker?.controller||null}function GC(){return x0()?self:null}const z0="firebaseLocalStorageDb",QC=1,oh="firebaseLocalStorage",B0="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ih(s,t){return s.transaction([oh],t?"readwrite":"readonly").objectStore(oh)}function KC(){const s=indexedDB.deleteDatabase(z0);return new Zl(s).toPromise()}function ym(){const s=indexedDB.open(z0,QC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(oh,{keyPath:B0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(oh)?t(a):(a.close(),await KC(),t(await ym()))})})}async function mE(s,t,i){const a=Ih(s,!0).put({[B0]:t,value:i});return new Zl(a).toPromise()}async function YC(s,t){const i=Ih(s,!1).get(t),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function gE(s,t){const i=Ih(s,!0).delete(t);return new Zl(i).toPromise()}const XC=800,ZC=3;class q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>ZC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(GC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HC(),!this.activeServiceWorker)return;this.sender=new qC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ym();return await mE(t,ah,"1"),await gE(t,ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>mE(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>YC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>gE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ih(l,!1).getAll();return new Zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q0.type="LOCAL";const JC=q0;new Yl(3e4,6e4);function $C(s,t){return t?Xi(t):(mt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class fg extends ug{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function WC(s){return M0(s.auth,new fg(s),s.bypassAuthState)}function t2(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),DC(i,new fg(s),s.bypassAuthState)}async function e2(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),CC(i,new fg(s),s.bypassAuthState)}class j0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return WC;case"linkViaPopup":case"linkViaRedirect":return e2;case"reauthViaPopup":case"reauthViaRedirect":return t2;default:$n(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const n2=new Yl(2e3,1e4);class Ba extends j0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,n2.get())};t()}}Ba.currentPopupAction=null;const i2="pendingRedirect",qc=new Map;class r2 extends j0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const a=await s2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s2(s,t){const i=l2(t),a=o2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function a2(s,t){qc.set(s._key(),t)}function o2(s){return Xi(s._redirectPersistence)}function l2(s){return Bc(i2,s.config.apiKey,s.name)}async function u2(s,t,i=!1){if(Yn(s.app))return Promise.reject(Qr(s));const a=lo(s),l=$C(a,t),d=await new r2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const c2=600*1e3;class h2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!f2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!H0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=c2&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(t))}saveEventToCache(t){this.cachedEventUids.add(pE(t)),this.lastProcessedEventTime=Date.now()}}function pE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function H0({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function f2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(s);default:return!1}}async function d2(s,t={}){return es(s,"GET","/v1/projects",t)}const m2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g2=/^https?/;async function p2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await d2(s);for(const i of t)try{if(y2(i))return}catch{}$n(s,"unauthorized-domain")}function y2(s){const t=gm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!g2.test(i))return!1;if(m2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const _2=new Yl(3e4,6e4);function yE(){const s=Ii().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function v2(s){return new Promise((t,i)=>{function a(){yE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{yE(),i(Ri(s,"network-request-failed"))},timeout:_2.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)a();else{const l=hC("iframefcb");return Ii()[l]=()=>{gapi.load?a():i(Ri(s,"network-request-failed"))},C0(`${cC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function E2(s){return jc=jc||v2(s),jc}const T2=new Yl(5e3,15e3),A2="__/auth/iframe",S2="emulator/auth/iframe",b2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R2(s){const t=s.config;mt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?ag(t,S2):`https://${s.config.authDomain}/${A2}`,a={apiKey:t.apiKey,appName:s.name,v:no},l=w2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ql(a).slice(1)}`}async function I2(s){const t=await E2(s),i=Ii().gapi;return mt(i,s,"internal-error"),t.open({where:document.body,url:R2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ri(s,"network-request-failed"),g=Ii().setTimeout(()=>{c(d)},T2.get());function y(){Ii().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const C2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D2=500,N2=600,O2="_blank",V2="http://localhost";class _E{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M2(s,t,i,a=D2,l=N2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...C2,width:a.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(g=T0(_)?O2:i),v0(_)&&(t=t||V2,y.scrollbars="yes");const A=Object.entries(y).reduce((M,[G,Z])=>`${M}${G}=${Z},`,"");if(eC(_)&&g!=="_self")return U2(t||"",g),new _E(null);const w=window.open(t||"",g,A);mt(w,s,"popup-blocked");try{w.focus()}catch{}return new _E(w)}function U2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const L2="__/auth/handler",P2="emulator/auth/handler",k2=encodeURIComponent("fac");async function vE(s,t,i,a,l,c){mt(s.config.authDomain,s,"auth-domain-config-required"),mt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:no,eventId:l};if(t instanceof O0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",n1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(t instanceof Xl){const A=t.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await s._getAppCheckToken(),_=y?`#${k2}=${encodeURIComponent(y)}`:"";return`${x2(s)}?${ql(g).slice(1)}${_}`}function x2({config:s}){return s.emulator?ag(s,P2):`https://${s.authDomain}/${L2}`}const Fd="webStorageSupport";class z2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k0,this._completeRedirectFn=u2,this._overrideRedirectResult=a2}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await vE(t,i,a,gm(),l);return M2(t,c,hg())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await vE(t,i,a,gm(),l);return jC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await I2(t),a=new h2(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Fd,{type:Fd},l=>{const c=l?.[0]?.[Fd];c!==void 0&&i(!!c),$n(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=p2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return R0()||E0()||lg()}}const B2=z2;var EE="@firebase/auth",TE="1.12.0";class q2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function j2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H2(s){Qa(new xs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I0(s)},_=new oC(a,l,c,y);return yC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new xs("auth-internal",t=>{const i=lo(t.getProvider("auth").getImmediate());return(a=>new q2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(EE,TE,j2(s)),jr(EE,TE,"esm2020")}const F2=300,G2=CE("authIdTokenMaxAge")||F2;let AE=null;const Q2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>G2)return;const l=i?.token;AE!==l&&(AE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function K2(s=UE()){const t=Tm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=pC(s,{popupRedirectResolver:B2,persistence:[JC,zC,k0]}),a=CE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Q2(c.toString());UC(i,d,()=>d(i.currentUser)),MC(i,g=>d(g))}}const l=RE("auth");return l&&_C(i,`http://${l}`),i}function Y2(){return document.getElementsByTagName("head")?.[0]??document}lC({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Y2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H2("Browser");const X2={apiKey:"AIzaSyAbIWMqgTOnkQ0jE02f7BpDm0JkhZYpjQk",authDomain:"bookclubbackend.firebaseapp.com",projectId:"bookclubbackend",storageBucket:"bookclubbackend.firebasestorage.app",messagingSenderId:"219050497346",appId:"1:219050497346:web:85e8c71bf341ca3c8164db",measurementId:"G-ZGKWVBZN6G"},F0=ME(X2),yl=mI(F0),Gd=K2(F0),Z2=["sharon@tutorshiba.com"],J2=()=>{const[s,t]=un.useState(null),[i,a]=un.useState(!1),[l,c]=un.useState(""),[d,g]=un.useState(""),[y,_]=un.useState("read"),[A,w]=un.useState(""),[M,G]=un.useState(""),[Z,et]=un.useState([]),[J,ct]=un.useState(!1),[dt,ht]=un.useState([]),qt=b=>b&&Z2.includes(b.email);un.useEffect(()=>{const b=LC(Gd,S=>{t(S)});return()=>b()},[]),un.useEffect(()=>{const b=RI(Xv(yl,"books"),II("sortDate","desc")),S=MI(b,Tt=>{const Yt=Tt.docs.map(j=>({...j.data(),key:j.id}));ht(Yt)});return()=>S()},[]),un.useEffect(()=>{(async()=>{if(dt.length===0)return;const S=dt.find(Tt=>!Tt.coverUrl&&!Tt.attemptedFetch&&Tt.title&&Tt.key);if(S)try{await new Promise(F=>setTimeout(F,300));let Tt=`intitle:${encodeURIComponent(S.title)}`;const Yt=S.author_name?.[0];Yt&&(Tt+=`+inauthor:${encodeURIComponent(Yt)}`);const ot=(await(await fetch(`https://www.googleapis.com/books/v1/volumes?q=${Tt}&maxResults=1`)).json()).items?.[0],Ct=ot?.volumeInfo?.imageLinks?.thumbnail?.replace("http:","https:")||null;let xt=null;if(ot?.volumeInfo?.industryIdentifiers){const F=ot.volumeInfo.industryIdentifiers.find($=>$.type==="ISBN_13")||ot.volumeInfo.industryIdentifiers.find($=>$.type==="ISBN_10");F&&(xt=F.identifier)}ht(F=>F.map($=>$.key===S.key?{...$,coverUrl:Ct,isbn:$.isbn||xt,attemptedFetch:!0}:$));const V=kc(yl,"books",S.key);await nE(V,{coverUrl:Ct,isbn:S.isbn||xt,attemptedFetch:!0})}catch(Tt){ht(j=>j.map(tt=>tt.key===S.key?{...tt,attemptedFetch:!0}:tt)),console.error("Error fetching cover",Tt);const Yt=kc(yl,"books",S.key);await nE(Yt,{attemptedFetch:!0})}})()},[dt]);const Wt=async b=>{b.preventDefault();try{await VC(Gd,l,d),a(!1),c(""),g("")}catch(S){alert("Login failed: "+S.message)}},Ut=async()=>{await PC(Gd)},D=async b=>{if(b.preventDefault(),!!A.trim()){ct(!0),_("search");try{const Yt=((await(await fetch(`https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(A)}`)).json()).items||[]).map(j=>({key:j.id,title:j.volumeInfo.title,author_name:j.volumeInfo.authors||["Unknown"],coverUrl:j.volumeInfo.imageLinks?.thumbnail?.replace("http:","https:")}));et(Yt)}catch(S){console.error("Error fetching books:",S),alert("Failed to search books. Please try again.")}finally{ct(!1)}}},R=async(b,S="suggested")=>{if(!s){alert("Please log in to add books!"),a(!0);return}if(S!=="suggested"&&!qt(s)){alert("Only admins can add to the Read or Scheduled lists.");return}if(window.confirm(`Add "${b.title}" to the ${S} list?`))try{await VI(Xv(yl,"books"),{title:b.title,author_name:b.author_name,coverUrl:b.coverUrl||null,status:S,sortDate:new Date().toISOString(),displayDate:S==="read"?new Date().toLocaleDateString():"",proposer:s.email.split("@")[0],goodreadsLink:`https://www.goodreads.com/search?q=${encodeURIComponent(b.title+" "+(Array.isArray(b.author_name)?b.author_name.join(" "):b.author_name))}`,wcclsLink:`https://wccls.bibliocommons.com/v2/search?query=${encodeURIComponent(b.title+" "+(Array.isArray(b.author_name)?b.author_name.join(" "):b.author_name))}&searchType=smart`,attemptedFetch:!!b.coverUrl}),alert("Book added!"),_(S),w("")}catch(Tt){console.error("Error adding book: ",Tt),alert("Error adding book.")}},C=async b=>{s&&window.confirm("Are you sure you want to delete this book?")&&await OI(kc(yl,"books",b))},U=b=>b.coverUrl?b.coverUrl:b.cover_i?`https://covers.openlibrary.org/b/id/${b.cover_i}-M.jpg`:"https://via.placeholder.com/180x280?text=No+Cover",N=()=>{let b=[];return y==="search"?b=Z:(b=dt.filter(S=>S.status===y&&(S.title.toLowerCase().includes(M.toLowerCase())||(Array.isArray(S.author_name)?S.author_name.join(" "):S.author_name||"").toLowerCase().includes(M.toLowerCase()))),y==="scheduled"?b.sort((S,Tt)=>new Date(S.sortDate)-new Date(Tt.sortDate)):b.sort((S,Tt)=>new Date(Tt.sortDate)-new Date(S.sortDate))),b};return yt.jsxs("div",{className:"app-container",children:[yt.jsxs("header",{children:[yt.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"10px"},children:s?yt.jsxs("div",{style:{fontSize:"0.9rem"},children:["Logged in as ",s.email," ",yt.jsx("button",{onClick:Ut,style:{marginLeft:"10px",cursor:"pointer"},children:"Logout"})]}):yt.jsx("button",{onClick:()=>a(!i),style:{cursor:"pointer"},children:"Member Login"})}),i&&!s&&yt.jsxs("form",{onSubmit:Wt,style:{marginBottom:"20px",padding:"15px",background:"#f0f0f0",borderRadius:"8px"},children:[yt.jsx("input",{type:"email",placeholder:"Email",value:l,onChange:b=>c(b.target.value),style:{marginRight:"10px",padding:"5px"}}),yt.jsx("input",{type:"password",placeholder:"Password",value:d,onChange:b=>g(b.target.value),style:{marginRight:"10px",padding:"5px"}}),yt.jsx("button",{type:"submit",style:{padding:"5px 10px"},children:"Login"})]}),yt.jsx("img",{src:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?auto=format&fit=crop&w=800&q=80",alt:"Books and coffee",className:"header-image"}),yt.jsx("h1",{children:" Book Club Tracker"}),yt.jsx("p",{children:"Books we've read, scheduled books, and suggested books."})]}),yt.jsxs("form",{onSubmit:D,className:"search-section",children:[yt.jsx("input",{type:"text",className:"search-input",placeholder:"Search Google Books...",value:A,onChange:b=>w(b.target.value)}),yt.jsx("button",{type:"submit",className:"search-btn",disabled:J,children:J?"Searching...":"Search"})]}),yt.jsxs("div",{className:"tabs",children:[yt.jsxs("button",{className:`tab-btn ${y==="read"?"active":""}`,onClick:()=>_("read"),children:["Read Books (",dt.filter(b=>b.status==="read").length,")"]}),yt.jsxs("button",{className:`tab-btn ${y==="scheduled"?"active":""}`,onClick:()=>_("scheduled"),children:[" Scheduled (",dt.filter(b=>b.status==="scheduled").length,")"]}),yt.jsxs("button",{className:`tab-btn ${y==="suggested"?"active":""}`,onClick:()=>_("suggested"),children:[" Suggested/Extras (",dt.filter(b=>b.status==="suggested").length,")"]}),Z.length>0&&yt.jsx("button",{className:`tab-btn ${y==="search"?"active":""}`,onClick:()=>_("search"),children:" Search Results"})]}),y!=="search"&&yt.jsx("input",{type:"text",className:"filter-input",placeholder:`Filter ${y} books...`,value:M,onChange:b=>G(b.target.value)}),yt.jsx("div",{className:"book-grid",children:N().length===0?yt.jsx("div",{className:"empty-state",children:y==="search"?"No results found. Try a different search.":"No books in this list yet."}):N().map(b=>yt.jsxs("div",{className:"book-card",children:[yt.jsx("img",{src:U(b),alt:b.title,className:"book-cover"}),yt.jsxs("div",{className:"book-info",children:[yt.jsx("h3",{className:"book-title",children:b.title}),yt.jsx("p",{className:"book-author",children:b.author_name?Array.isArray(b.author_name)?b.author_name.join(", "):b.author_name:"Unknown Author"}),b.displayDate&&yt.jsxs("p",{className:`book-date ${b.status==="scheduled"?"highlight":""}`,children:[" ",b.displayDate]}),b.proposer&&yt.jsxs("p",{className:"book-meta",children:[" Proposed by: ",b.proposer]}),b.comments&&yt.jsxs("p",{className:"book-comments",children:['"',b.comments,'"']}),b.goodreadsLink&&yt.jsx("a",{href:b.goodreadsLink,target:"_blank",rel:"noopener noreferrer",className:"book-link",style:{display:"block",marginTop:"0.5rem"},children:"View on Goodreads "}),(b.wcclsLink||b.title)&&yt.jsx("a",{href:b.wcclsLink||`https://wccls.bibliocommons.com/v2/search?query=${encodeURIComponent(b.title+(b.author_name?" "+(Array.isArray(b.author_name)?b.author_name.join(" "):b.author_name):""))}&searchType=smart`,target:"_blank",rel:"noopener noreferrer",className:"book-link",children:"View on WCCLS "}),yt.jsxs("div",{className:"actions",children:[y==="search"&&yt.jsxs(yt.Fragment,{children:[yt.jsx("button",{className:"action-btn btn-suggest",onClick:()=>R(b,"suggested"),children:"+ Add to Suggestions"}),qt(s)&&yt.jsxs(yt.Fragment,{children:[yt.jsx("button",{className:"action-btn btn-read",onClick:()=>R(b,"read"),style:{marginTop:"5px"},children:"+ Add to Read"}),yt.jsx("button",{className:"action-btn btn-suggest",style:{backgroundColor:"#8e44ad",marginTop:"5px"},onClick:()=>R(b,"scheduled"),children:"+ Add to Scheduled"})]})]}),s&&y!=="search"&&yt.jsx("button",{className:"action-btn btn-remove",onClick:()=>C(b.key),children:"Delete"})]})]})]},b.key))})]})};NS.createRoot(document.getElementById("root")).render(yt.jsx(un.StrictMode,{children:yt.jsx(J2,{})}));
