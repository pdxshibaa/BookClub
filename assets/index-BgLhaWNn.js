(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Cd={exports:{}},vl={};var k_;function SS(){if(k_)return vl;k_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var x_;function bS(){return x_||(x_=1,Cd.exports=SS()),Cd.exports}var mt=bS(),Dd={exports:{}},St={};var P_;function wS(){if(P_)return St;P_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function Q(w){return w===null||typeof w!="object"?null:(w=V&&w[V]||w["@@iterator"],typeof w=="function"?w:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,tt={};function ct(w,x,Z){this.props=w,this.context=x,this.refs=tt,this.updater=Z||W}ct.prototype.isReactComponent={},ct.prototype.setState=function(w,x){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,x,"setState")},ct.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function gt(){}gt.prototype=ct.prototype;function yt(w,x,Z){this.props=w,this.context=x,this.refs=tt,this.updater=Z||W}var Nt=yt.prototype=new gt;Nt.constructor=yt,it(Nt,ct.prototype),Nt.isPureReactComponent=!0;var te=Array.isArray;function kt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(w,x,Z){var J=Z.ref;return{$$typeof:r,type:w,key:x,ref:J!==void 0?J:null,props:Z}}function M(w,x){return C(w.type,x,w.props)}function N(w){return typeof w=="object"&&w!==null&&w.$$typeof===r}function k(w){var x={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Z){return x[Z]})}var R=/\/+/g;function ie(w,x){return typeof w=="object"&&w!==null&&w.key!=null?k(""+w.key):x.toString(36)}function me(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(kt,kt):(w.status="pending",w.then(function(x){w.status==="pending"&&(w.status="fulfilled",w.value=x)},function(x){w.status==="pending"&&(w.status="rejected",w.reason=x)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function G(w,x,Z,J,at){var ft=typeof w;(ft==="undefined"||ft==="boolean")&&(w=null);var _t=!1;if(w===null)_t=!0;else switch(ft){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(w.$$typeof){case r:case t:_t=!0;break;case A:return _t=w._init,G(_t(w._payload),x,Z,J,at)}}if(_t)return at=at(w),_t=J===""?"."+ie(w,0):J,te(at)?(Z="",_t!=null&&(Z=_t.replace(R,"$&/")+"/"),G(at,x,Z,"",function(ee){return ee})):at!=null&&(N(at)&&(at=M(at,Z+(at.key==null||w&&w.key===at.key?"":(""+at.key).replace(R,"$&/")+"/")+_t)),x.push(at)),1;_t=0;var Ft=J===""?".":J+":";if(te(w))for(var zt=0;zt<w.length;zt++)J=w[zt],ft=Ft+ie(J,zt),_t+=G(J,x,Z,ft,at);else if(zt=Q(w),typeof zt=="function")for(w=zt.call(w),zt=0;!(J=w.next()).done;)J=J.value,ft=Ft+ie(J,zt++),_t+=G(J,x,Z,ft,at);else if(ft==="object"){if(typeof w.then=="function")return G(me(w),x,Z,J,at);throw x=String(w),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.")}return _t}function rt(w,x,Z){if(w==null)return w;var J=[],at=0;return G(w,J,"","",function(ft){return x.call(Z,ft,at++)}),J}function L(w){if(w._status===-1){var x=w._result;x=x(),x.then(function(Z){(w._status===0||w._status===-1)&&(w._status=1,w._result=Z)},function(Z){(w._status===0||w._status===-1)&&(w._status=2,w._result=Z)}),w._status===-1&&(w._status=0,w._result=x)}if(w._status===1)return w._result.default;throw w._result}var et=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ht={map:rt,forEach:function(w,x,Z){rt(w,function(){x.apply(this,arguments)},Z)},count:function(w){var x=0;return rt(w,function(){x++}),x},toArray:function(w){return rt(w,function(x){return x})||[]},only:function(w){if(!N(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return St.Activity=S,St.Children=ht,St.Component=ct,St.Fragment=i,St.Profiler=l,St.PureComponent=yt,St.StrictMode=a,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,St.__COMPILER_RUNTIME={__proto__:null,c:function(w){return D.H.useMemoCache(w)}},St.cache=function(w){return function(){return w.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(w,x,Z){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var J=it({},w.props),at=w.key;if(x!=null)for(ft in x.key!==void 0&&(at=""+x.key),x)!b.call(x,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&x.ref===void 0||(J[ft]=x[ft]);var ft=arguments.length-2;if(ft===1)J.children=Z;else if(1<ft){for(var _t=Array(ft),Ft=0;Ft<ft;Ft++)_t[Ft]=arguments[Ft+2];J.children=_t}return C(w.type,at,J)},St.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},St.createElement=function(w,x,Z){var J,at={},ft=null;if(x!=null)for(J in x.key!==void 0&&(ft=""+x.key),x)b.call(x,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(at[J]=x[J]);var _t=arguments.length-2;if(_t===1)at.children=Z;else if(1<_t){for(var Ft=Array(_t),zt=0;zt<_t;zt++)Ft[zt]=arguments[zt+2];at.children=Ft}if(w&&w.defaultProps)for(J in _t=w.defaultProps,_t)at[J]===void 0&&(at[J]=_t[J]);return C(w,ft,at)},St.createRef=function(){return{current:null}},St.forwardRef=function(w){return{$$typeof:p,render:w}},St.isValidElement=N,St.lazy=function(w){return{$$typeof:A,_payload:{_status:-1,_result:w},_init:L}},St.memo=function(w,x){return{$$typeof:_,type:w,compare:x===void 0?null:x}},St.startTransition=function(w){var x=D.T,Z={};D.T=Z;try{var J=w(),at=D.S;at!==null&&at(Z,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(kt,et)}catch(ft){et(ft)}finally{x!==null&&Z.types!==null&&(x.types=Z.types),D.T=x}},St.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},St.use=function(w){return D.H.use(w)},St.useActionState=function(w,x,Z){return D.H.useActionState(w,x,Z)},St.useCallback=function(w,x){return D.H.useCallback(w,x)},St.useContext=function(w){return D.H.useContext(w)},St.useDebugValue=function(){},St.useDeferredValue=function(w,x){return D.H.useDeferredValue(w,x)},St.useEffect=function(w,x){return D.H.useEffect(w,x)},St.useEffectEvent=function(w){return D.H.useEffectEvent(w)},St.useId=function(){return D.H.useId()},St.useImperativeHandle=function(w,x,Z){return D.H.useImperativeHandle(w,x,Z)},St.useInsertionEffect=function(w,x){return D.H.useInsertionEffect(w,x)},St.useLayoutEffect=function(w,x){return D.H.useLayoutEffect(w,x)},St.useMemo=function(w,x){return D.H.useMemo(w,x)},St.useOptimistic=function(w,x){return D.H.useOptimistic(w,x)},St.useReducer=function(w,x,Z){return D.H.useReducer(w,x,Z)},St.useRef=function(w){return D.H.useRef(w)},St.useState=function(w){return D.H.useState(w)},St.useSyncExternalStore=function(w,x,Z){return D.H.useSyncExternalStore(w,x,Z)},St.useTransition=function(){return D.H.useTransition()},St.version="19.2.3",St}var z_;function Tm(){return z_||(z_=1,Dd.exports=wS()),Dd.exports}var dn=Tm(),Nd={exports:{}},El={},Od={exports:{}},Vd={};var B_;function RS(){return B_||(B_=1,(function(r){function t(G,rt){var L=G.length;G.push(rt);t:for(;0<L;){var et=L-1>>>1,ht=G[et];if(0<l(ht,rt))G[et]=rt,G[L]=ht,L=et;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var rt=G[0],L=G.pop();if(L!==rt){G[0]=L;t:for(var et=0,ht=G.length,w=ht>>>1;et<w;){var x=2*(et+1)-1,Z=G[x],J=x+1,at=G[J];if(0>l(Z,L))J<ht&&0>l(at,Z)?(G[et]=at,G[J]=L,et=J):(G[et]=Z,G[x]=L,et=x);else if(J<ht&&0>l(at,L))G[et]=at,G[J]=L,et=J;else break t}}return rt}function l(G,rt){var L=G.sortIndex-rt.sortIndex;return L!==0?L:G.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,S=null,V=3,Q=!1,W=!1,it=!1,tt=!1,ct=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Nt(G){for(var rt=i(_);rt!==null;){if(rt.callback===null)a(_);else if(rt.startTime<=G)a(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function te(G){if(it=!1,Nt(G),!W)if(i(y)!==null)W=!0,kt||(kt=!0,k());else{var rt=i(_);rt!==null&&me(te,rt.startTime-G)}}var kt=!1,D=-1,b=5,C=-1;function M(){return tt?!0:!(r.unstable_now()-C<b)}function N(){if(tt=!1,kt){var G=r.unstable_now();C=G;var rt=!0;try{t:{W=!1,it&&(it=!1,gt(D),D=-1),Q=!0;var L=V;try{e:{for(Nt(G),S=i(y);S!==null&&!(S.expirationTime>G&&M());){var et=S.callback;if(typeof et=="function"){S.callback=null,V=S.priorityLevel;var ht=et(S.expirationTime<=G);if(G=r.unstable_now(),typeof ht=="function"){S.callback=ht,Nt(G),rt=!0;break e}S===i(y)&&a(y),Nt(G)}else a(y);S=i(y)}if(S!==null)rt=!0;else{var w=i(_);w!==null&&me(te,w.startTime-G),rt=!1}}break t}finally{S=null,V=L,Q=!1}rt=void 0}}finally{rt?k():kt=!1}}}var k;if(typeof yt=="function")k=function(){yt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ie=R.port2;R.port1.onmessage=N,k=function(){ie.postMessage(null)}}else k=function(){ct(N,0)};function me(G,rt){D=ct(function(){G(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var rt=3;break;default:rt=V}var L=V;V=rt;try{return G()}finally{V=L}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var L=V;V=G;try{return rt()}finally{V=L}},r.unstable_scheduleCallback=function(G,rt,L){var et=r.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?et+L:et):L=et,G){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=L+ht,G={id:A++,callback:rt,priorityLevel:G,startTime:L,expirationTime:ht,sortIndex:-1},L>et?(G.sortIndex=L,t(_,G),i(y)===null&&G===i(_)&&(it?(gt(D),D=-1):it=!0,me(te,L-et))):(G.sortIndex=ht,t(y,G),W||Q||(W=!0,kt||(kt=!0,k()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var rt=V;return function(){var L=V;V=rt;try{return G.apply(this,arguments)}finally{V=L}}}})(Vd)),Vd}var j_;function IS(){return j_||(j_=1,Od.exports=RS()),Od.exports}var Md={exports:{}},Ze={};var q_;function CS(){if(q_)return Ze;q_=1;var r=Tm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ze.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Ze.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},Ze.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Ze.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ze.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:Q}):A==="script"&&a.d.X(y,{crossOrigin:S,integrity:V,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ze.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Ze.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ze.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Ze.requestFormReset=function(y){a.d.r(y)},Ze.unstable_batchedUpdates=function(y,_){return y(_)},Ze.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.3",Ze}var H_;function DS(){if(H_)return Md.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=CS(),Md.exports}var G_;function NS(){if(G_)return El;G_=1;var r=IS(),t=Tm(),i=DS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ct:return"Profiler";case tt:return"StrictMode";case te:return"Suspense";case kt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case yt:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case Nt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var me=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},et=[],ht=-1;function w(e){return{current:e}}function x(e){0>ht||(e.current=et[ht],et[ht]=null,ht--)}function Z(e,n){ht++,et[ht]=e.current,e.current=n}var J=w(null),at=w(null),ft=w(null),_t=w(null);function Ft(e,n){switch(Z(ft,n),Z(at,e),Z(J,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?s_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=s_(n),e=a_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}x(J),Z(J,e)}function zt(){x(J),x(at),x(ft)}function ee(e){e.memoizedState!==null&&Z(_t,e);var n=J.current,s=a_(n,e.type);n!==s&&(Z(at,e),Z(J,s))}function xe(e){at.current===e&&(x(J),x(at)),_t.current===e&&(x(_t),pl._currentValue=L)}var ki,Bt;function jn(e){if(ki===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ki=n&&n[1]||"",Bt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ki+e+Bt}var gn=!1;function sn(e,n){if(!e||gn)return"";gn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),B=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===B.length)for(o=I.length-1,h=B.length-1;1<=o&&0<=h&&I[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==B[h]){var F=`
`+I[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{gn=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?jn(s):""}function si(e,n){switch(e.tag){case 26:case 27:case 5:return jn(e.type);case 16:return jn("Lazy");case 13:return e.child!==n&&n!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return sn(e.type,!1);case 11:return sn(e.type.render,!1);case 1:return sn(e.type,!0);case 31:return jn("Activity");default:return""}}function cr(e){try{var n="",s=null;do n+=si(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var le=Object.prototype.hasOwnProperty,pe=r.unstable_scheduleCallback,ai=r.unstable_cancelCallback,vo=r.unstable_shouldYield,xi=r.unstable_requestPaint,Me=r.unstable_now,hr=r.unstable_getCurrentPriorityLevel,ds=r.unstable_ImmediatePriority,ms=r.unstable_UserBlockingPriority,fr=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,tu=r.unstable_IdlePriority,eu=r.log,nu=r.unstable_setDisableYieldValue,qn=null,qe=null;function In(e){if(typeof eu=="function"&&nu(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(qn,e)}catch{}}var ge=Math.clz32?Math.clz32:ru,iu=Math.log,na=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(iu(e)/na|0)|0}var oi=256,ps=262144,Te=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=li(o):(g&=E,g!==0?h=li(g):s||(s=E&~e,s!==0&&(h=li(s))))):(E=o&~f,E!==0?h=li(E):g!==0?h=li(g):s||(s=o&~e,s!==0&&(h=li(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Hn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function ci(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function gs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,B=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-ge(s),Y=1<<F;E[F]=0,I[F]=-1;var j=B[F];if(j!==null)for(B[F]=null,F=0;F<j.length;F++){var H=j[F];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&ys(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ys(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Eo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ge(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function To(e,n){var s=n&-n;return s=(s&42)!==0?1:_s(s),(s&(e.suspendedLanes|n))!==0?0:s}function _s(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:D_(e.type))}function Gn(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var Fn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Fn,Pe="__reactProps$"+Fn,hi="__reactContainer$"+Fn,ia="__reactEvents$"+Fn,Mh="__reactListeners$"+Fn,ou="__reactHandles$"+Fn,lu="__reactResources$"+Fn,fi="__reactMarker$"+Fn;function ra(e){delete e[Ae],delete e[Pe],delete e[ia],delete e[Mh],delete e[ou]}function di(e){var n=e[Ae];if(n)return n;for(var s=e.parentNode;s;){if(n=s[hi]||s[Ae]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=d_(e);e!==null;){if(s=e[Ae])return s;e=d_(e)}return n}e=s,s=e.parentNode}return null}function Cn(e){if(e=e[Ae]||e[hi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function mi(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(e){e[fi]=!0}var Ao=new Set,So={};function pi(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(So[e]=n,e=0;e<n.length;e++)Ao.add(n[e])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function uu(e){return le.call(Ro,e)?!0:le.call(wo,e)?!1:bo.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function sa(e,n,s){if(uu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function _n(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Io(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=dr(e)?"checked":"value";e._valueTracker=Io(e,n,""+e[n])}}function vs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=dr(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Es=/[\n"\\]/g;function an(e){return e.replace(Es,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Co(e,g,ze(n)):s!=null?Co(e,g,ze(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function cu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+ze(s):"",n=n!=null?""+ze(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function Co(e,n,s){n==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function mr(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ze(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,s){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ze(s):""}function pr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(me(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ze(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Kt(e)}function on(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||fu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function No(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Do(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Do(e,f,n[f])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return gr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var Oo=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yr=null,_i=null;function Ts(e){var n=Cn(e);if(n&&(e=n.stateNode)){var s=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(aa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Pe]||null;if(!h)throw Error(a(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&vs(o)}break t;case"textarea":hu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&mr(e,!!s.multiple,n,!1)}}}var ua=!1;function _r(e,n,s){if(ua)return e(n,s);ua=!0;try{var o=e(n);return o}finally{if(ua=!1,(yr!==null||_i!==null)&&(ac(),yr&&(n=yr,e=_i,_i=yr=null,Ts(n),e)))for(n=0;n<e.length;n++)Ts(e[n])}}function Kn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Pe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(Nn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){As=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{As=!1}var vi=null,Vo=null,Ss=null;function Mo(){if(Ss)return Ss;var e,n=Vo,s=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Ss=h.slice(e,1<o?1-o:void 0)}function bs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Yn(){return!1}function He(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Yn,this.isPropagationStopped=Yn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=He(Bi),vr=S({},Bi,{view:0,detail:0}),Uo=He(vr),Er,ca,Ti,ha=S({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Er=e.screenX-Ti.screenX,ca=e.screenY-Ti.screenY):ca=Er=0,Ti=e),Er)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),Lo=He(ha),ws=S({},ha,{dataTransfer:0}),mu=He(ws),pu=S({},vr,{relatedTarget:0}),Rs=He(pu),ko=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=He(ko),fa=S({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=He(fa),_u=S({},Bi,{data:0}),Ai=He(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function Tr(){return Au}var nn=S({},vr,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=He(nn),bu=S({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=He(bu),u=S({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),m=He(u),v=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=He(v),P=S({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=He(P),nt=S({},Bi,{newState:0,oldState:0}),wt=He(nt),ye=[9,13,27,32],Ht=Nn&&"CompositionEvent"in window,ue=null;Nn&&"documentMode"in document&&(ue=document.documentMode);var On=Nn&&"TextEvent"in window&&!ue,Si=Nn&&(!Ht||ue&&8<ue&&11>=ue),Xn=" ",$n=!1;function Is(e,n){switch(e){case"keyup":return ye.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function K0(e,n){switch(e){case"compositionend":return da(n);case"keypress":return n.which!==32?null:($n=!0,Xn);case"textInput":return e=n.data,e===Xn&&$n?null:e;default:return null}}function Y0(e,n){if(ma)return e==="compositionend"||!Ht&&Is(e,n)?(e=Mo(),Ss=Vo=vi=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!X0[e.type]:n==="textarea"}function yp(e,n,s,o){yr?_i?_i.push(o):_i=[o]:yr=o,n=dc(n,"onChange"),0<n.length&&(s=new Ei("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var xo=null,Po=null;function $0(e){Wy(e,0)}function wu(e){var n=yn(e);if(vs(n))return e}function _p(e,n){if(e==="change")return n}var vp=!1;if(Nn){var Uh;if(Nn){var Lh="oninput"in document;if(!Lh){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),Lh=typeof Ep.oninput=="function"}Uh=Lh}else Uh=!1;vp=Uh&&(!document.documentMode||9<document.documentMode)}function Tp(){xo&&(xo.detachEvent("onpropertychange",Ap),Po=xo=null)}function Ap(e){if(e.propertyName==="value"&&wu(Po)){var n=[];yp(n,Po,e,Dn(e)),_r($0,n)}}function Z0(e,n,s){e==="focusin"?(Tp(),xo=n,Po=s,xo.attachEvent("onpropertychange",Ap)):e==="focusout"&&Tp()}function J0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Po)}function W0(e,n){if(e==="click")return wu(n)}function tA(e,n){if(e==="input"||e==="change")return wu(n)}function eA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:eA;function zo(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!le.call(n,h)||!vn(e[h],n[h]))return!1}return!0}function Sp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bp(e,n){var s=Sp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Sp(s)}}function wp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?wp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Rp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=yi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=yi(e.document)}return n}function kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var nA=Nn&&"documentMode"in document&&11>=document.documentMode,pa=null,xh=null,Bo=null,Ph=!1;function Ip(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||pa==null||pa!==yi(o)||(o=pa,"selectionStart"in o&&kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&zo(Bo,o)||(Bo=o,o=dc(xh,"onSelect"),0<o.length&&(n=new Ei("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=pa)))}function Cs(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ga={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},zh={},Cp={};Nn&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Ds(e){if(zh[e])return zh[e];if(!ga[e])return e;var n=ga[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Cp)return zh[e]=n[s];return e}var Dp=Ds("animationend"),Np=Ds("animationiteration"),Op=Ds("animationstart"),iA=Ds("transitionrun"),rA=Ds("transitionstart"),sA=Ds("transitioncancel"),Vp=Ds("transitionend"),Mp=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Zn(e,n){Mp.set(e,n),pi(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vn=[],ya=0,jh=0;function Iu(){for(var e=ya,n=jh=ya=0;n<e;){var s=Vn[n];Vn[n++]=null;var o=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Up(s,h,f)}}function Cu(e,n,s,o){Vn[ya++]=e,Vn[ya++]=n,Vn[ya++]=s,Vn[ya++]=o,jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,s,o){return Cu(e,n,s,o),Du(e)}function Ns(e,n){return Cu(e,null,null,n),Du(e)}function Up(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ge(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Du(e){if(50<ll)throw ll=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _a={};function aA(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,s,o){return new aA(e,n,s,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var s=e.alternate;return s===null?(s=En(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Lp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=hS(e,s,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=En(31,s,n,h),e.elementType=C,e.lanes=f,e;case it:return Os(s.children,h,f,n);case tt:g=8,h|=24;break;case ct:return e=En(12,s,n,h|2),e.elementType=ct,e.lanes=f,e;case te:return e=En(13,s,n,h),e.elementType=te,e.lanes=f,e;case kt:return e=En(19,s,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:g=10;break t;case gt:g=9;break t;case Nt:g=11;break t;case D:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=En(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Os(e,n,s,o){return e=En(7,e,o,n),e.lanes=s,e}function Gh(e,n,s){return e=En(6,e,null,n),e.lanes=s,e}function kp(e){var n=En(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,s){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xp=new WeakMap;function Mn(e,n){if(typeof e=="object"&&e!==null){var s=xp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:cr(n)},xp.set(e,n),n)}return{value:e,source:n,stack:cr(n)}}var va=[],Ea=0,Ou=null,jo=0,Un=[],Ln=0,Ar=null,bi=1,wi="";function Hi(e,n){va[Ea++]=jo,va[Ea++]=Ou,Ou=e,jo=n}function Pp(e,n,s){Un[Ln++]=bi,Un[Ln++]=wi,Un[Ln++]=Ar,Ar=e;var o=bi;e=wi;var h=32-ge(o)-1;o&=~(1<<h),s+=1;var f=32-ge(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,bi=1<<32-ge(n)+h|s<<h|o,wi=f+e}else bi=1<<f|s<<h|o,wi=e}function Qh(e){e.return!==null&&(Hi(e,1),Pp(e,1,0))}function Kh(e){for(;e===Ou;)Ou=va[--Ea],va[Ea]=null,jo=va[--Ea],va[Ea]=null;for(;e===Ar;)Ar=Un[--Ln],Un[Ln]=null,wi=Un[--Ln],Un[Ln]=null,bi=Un[--Ln],Un[Ln]=null}function zp(e,n){Un[Ln++]=bi,Un[Ln++]=wi,Un[Ln++]=Ar,bi=n.id,wi=n.overflow,Ar=e}var Ge=null,se=null,xt=!1,Sr=null,kn=!1,Yh=Error(a(519));function br(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Mn(n,e)),Yh}function Bp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ae]=e,n[Pe]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<cl.length;s++)Dt(cl[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),pr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||i_(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||br(e,!0)}function jp(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ge=Ge.return}}function Ta(e){if(e!==Ge)return!1;if(!xt)return jp(e),xt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&se&&br(e),jp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=f_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=f_(e)}else n===27?(n=se,Pr(e.type)?(e=_d,_d=null,se=e):se=n):se=Ge?Pn(e.stateNode.nextSibling):null;return!0}function Vs(){se=Ge=null,xt=!1}function Xh(){var e=Sr;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Sr=null),e}function qo(e){Sr===null?Sr=[e]:Sr.push(e)}var $h=w(null),Ms=null,Gi=null;function wr(e,n,s){Z($h,n._currentValue),n._currentValue=s}function Fi(e){e._currentValue=$h.current,x($h)}function Zh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Jh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Zh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Zh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Aa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;vn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===_t.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&Jh(n,e,s,o),n.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Us(e){Ms=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return qp(Ms,e)}function Mu(e,n){return Ms===null&&Us(e),qp(e,n)}function qp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Gi===null){if(e===null)throw Error(a(308));Gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gi=Gi.next=n;return s}var oA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},lA=r.unstable_scheduleCallback,uA=r.unstable_NormalPriority,we={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new oA,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&lA(uA,function(){e.controller.abort()})}var Go=null,tf=0,Sa=0,ba=null;function cA(e,n){if(Go===null){var s=Go=[];tf=0,Sa=rd(),ba={status:"pending",value:void 0,then:function(o){s.push(o)}}}return tf++,n.then(Hp,Hp),n}function Hp(){if(--tf===0&&Go!==null){ba!==null&&(ba.status="fulfilled");var e=Go;Go=null,Sa=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function hA(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Gp=G.S;G.S=function(e,n){Iy=Me(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&cA(e,n),Gp!==null&&Gp(e,n)};var Ls=w(null);function ef(){var e=Ls.current;return e!==null?e:ne.pooledCache}function Uu(e,n){n===null?Z(Ls,Ls.current):Z(Ls,n.pool)}function Fp(){var e=ef();return e===null?null:{parent:we._currentValue,pool:e}}var wa=Error(a(460)),nf=Error(a(474)),Lu=Error(a(542)),ku={then:function(){}};function Qp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Qn,Qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xp(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xp(e),e}throw xs=n,wa}}function ks(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(xs=s,wa):s}}var xs=null;function Yp(){if(xs===null)throw Error(a(459));var e=xs;return xs=null,e}function Xp(e){if(e===wa||e===Lu)throw Error(a(483))}var Ra=null,Fo=0;function xu(e){var n=Fo;return Fo+=1,Ra===null&&(Ra=[]),Kp(Ra,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function $p(e){function n(U,O){if(e){var z=U.deletions;z===null?(U.deletions=[O],U.flags|=16):z.push(O)}}function s(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=qi(U,O),U.index=0,U.sibling=null,U}function f(U,O,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<O?(U.flags|=67108866,O):z):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,z,K){return O===null||O.tag!==6?(O=Gh(z,U.mode,K),O.return=U,O):(O=h(O,z),O.return=U,O)}function I(U,O,z,K){var dt=z.type;return dt===it?F(U,O,z.props.children,K,z.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&ks(dt)===O.type)?(O=h(O,z.props),Qo(O,z),O.return=U,O):(O=Nu(z.type,z.key,z.props,null,U.mode,K),Qo(O,z),O.return=U,O)}function B(U,O,z,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Fh(z,U.mode,K),O.return=U,O):(O=h(O,z.children||[]),O.return=U,O)}function F(U,O,z,K,dt){return O===null||O.tag!==7?(O=Os(z,U.mode,K,dt),O.return=U,O):(O=h(O,z),O.return=U,O)}function Y(U,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Gh(""+O,U.mode,z),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return z=Nu(O.type,O.key,O.props,null,U.mode,z),Qo(z,O),z.return=U,z;case W:return O=Fh(O,U.mode,z),O.return=U,O;case b:return O=ks(O),Y(U,O,z)}if(me(O)||k(O))return O=Os(O,U.mode,z,null),O.return=U,O;if(typeof O.then=="function")return Y(U,xu(O),z);if(O.$$typeof===yt)return Y(U,Mu(U,O),z);Pu(U,O)}return null}function j(U,O,z,K){var dt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return dt!==null?null:E(U,O,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return z.key===dt?I(U,O,z,K):null;case W:return z.key===dt?B(U,O,z,K):null;case b:return z=ks(z),j(U,O,z,K)}if(me(z)||k(z))return dt!==null?null:F(U,O,z,K,null);if(typeof z.then=="function")return j(U,O,xu(z),K);if(z.$$typeof===yt)return j(U,O,Mu(U,z),K);Pu(U,z)}return null}function H(U,O,z,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(z)||null,E(O,U,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return U=U.get(K.key===null?z:K.key)||null,I(O,U,K,dt);case W:return U=U.get(K.key===null?z:K.key)||null,B(O,U,K,dt);case b:return K=ks(K),H(U,O,z,K,dt)}if(me(K)||k(K))return U=U.get(z)||null,F(O,U,K,dt,null);if(typeof K.then=="function")return H(U,O,z,xu(K),dt);if(K.$$typeof===yt)return H(U,O,z,Mu(O,K),dt);Pu(O,K)}return null}function lt(U,O,z,K){for(var dt=null,jt=null,ut=O,It=O=0,Vt=null;ut!==null&&It<z.length;It++){ut.index>It?(Vt=ut,ut=null):Vt=ut.sibling;var qt=j(U,ut,z[It],K);if(qt===null){ut===null&&(ut=Vt);break}e&&ut&&qt.alternate===null&&n(U,ut),O=f(qt,O,It),jt===null?dt=qt:jt.sibling=qt,jt=qt,ut=Vt}if(It===z.length)return s(U,ut),xt&&Hi(U,It),dt;if(ut===null){for(;It<z.length;It++)ut=Y(U,z[It],K),ut!==null&&(O=f(ut,O,It),jt===null?dt=ut:jt.sibling=ut,jt=ut);return xt&&Hi(U,It),dt}for(ut=o(ut);It<z.length;It++)Vt=H(ut,U,It,z[It],K),Vt!==null&&(e&&Vt.alternate!==null&&ut.delete(Vt.key===null?It:Vt.key),O=f(Vt,O,It),jt===null?dt=Vt:jt.sibling=Vt,jt=Vt);return e&&ut.forEach(function(Hr){return n(U,Hr)}),xt&&Hi(U,It),dt}function vt(U,O,z,K){if(z==null)throw Error(a(151));for(var dt=null,jt=null,ut=O,It=O=0,Vt=null,qt=z.next();ut!==null&&!qt.done;It++,qt=z.next()){ut.index>It?(Vt=ut,ut=null):Vt=ut.sibling;var Hr=j(U,ut,qt.value,K);if(Hr===null){ut===null&&(ut=Vt);break}e&&ut&&Hr.alternate===null&&n(U,ut),O=f(Hr,O,It),jt===null?dt=Hr:jt.sibling=Hr,jt=Hr,ut=Vt}if(qt.done)return s(U,ut),xt&&Hi(U,It),dt;if(ut===null){for(;!qt.done;It++,qt=z.next())qt=Y(U,qt.value,K),qt!==null&&(O=f(qt,O,It),jt===null?dt=qt:jt.sibling=qt,jt=qt);return xt&&Hi(U,It),dt}for(ut=o(ut);!qt.done;It++,qt=z.next())qt=H(ut,U,It,qt.value,K),qt!==null&&(e&&qt.alternate!==null&&ut.delete(qt.key===null?It:qt.key),O=f(qt,O,It),jt===null?dt=qt:jt.sibling=qt,jt=qt);return e&&ut.forEach(function(AS){return n(U,AS)}),xt&&Hi(U,It),dt}function Wt(U,O,z,K){if(typeof z=="object"&&z!==null&&z.type===it&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:t:{for(var dt=z.key;O!==null;){if(O.key===dt){if(dt=z.type,dt===it){if(O.tag===7){s(U,O.sibling),K=h(O,z.props.children),K.return=U,U=K;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&ks(dt)===O.type){s(U,O.sibling),K=h(O,z.props),Qo(K,z),K.return=U,U=K;break t}s(U,O);break}else n(U,O);O=O.sibling}z.type===it?(K=Os(z.props.children,U.mode,K,z.key),K.return=U,U=K):(K=Nu(z.type,z.key,z.props,null,U.mode,K),Qo(K,z),K.return=U,U=K)}return g(U);case W:t:{for(dt=z.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){s(U,O.sibling),K=h(O,z.children||[]),K.return=U,U=K;break t}else{s(U,O);break}else n(U,O);O=O.sibling}K=Fh(z,U.mode,K),K.return=U,U=K}return g(U);case b:return z=ks(z),Wt(U,O,z,K)}if(me(z))return lt(U,O,z,K);if(k(z)){if(dt=k(z),typeof dt!="function")throw Error(a(150));return z=dt.call(z),vt(U,O,z,K)}if(typeof z.then=="function")return Wt(U,O,xu(z),K);if(z.$$typeof===yt)return Wt(U,O,Mu(U,z),K);Pu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(s(U,O.sibling),K=h(O,z),K.return=U,U=K):(s(U,O),K=Gh(z,U.mode,K),K.return=U,U=K),g(U)):s(U,O)}return function(U,O,z,K){try{Fo=0;var dt=Wt(U,O,z,K);return Ra=null,dt}catch(ut){if(ut===wa||ut===Lu)throw ut;var jt=En(29,ut,null,U.mode);return jt.lanes=K,jt.return=U,jt}}}var Ps=$p(!0),Zp=$p(!1),Rr=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(e),Up(e,null,s),n}return Cu(e,o,n,s),Du(e)}function Ko(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}function af(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var of=!1;function Yo(){if(of){var e=ba;if(e!==null)throw e}}function Xo(e,n,s,o){of=!1;var h=e.updateQueue;Rr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,B=I.next;I.next=null,g===null?f=B:g.next=B,g=I;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=B:E.next=B,F.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;g=0,F=B=I=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Ot&j)===j:(o&j)===j){j!==0&&j===Sa&&(of=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,vt=E;j=n;var Wt=s;switch(vt.tag){case 1:if(lt=vt.payload,typeof lt=="function"){Y=lt.call(Wt,Y,j);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=vt.payload,j=typeof lt=="function"?lt.call(Wt,Y,j):lt,j==null)break t;Y=S({},Y,j);break t;case 2:Rr=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(B=F=H,I=Y):F=F.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Mr|=g,e.lanes=g,e.memoizedState=Y}}function Jp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Wp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Jp(s[e],n)}var Ia=w(null),zu=w(0);function tg(e,n){e=tr,Z(zu,e),Z(Ia,n),tr=e|n.baseLanes}function lf(){Z(zu,tr),Z(Ia,Ia.current)}function uf(){tr=zu.current,x(Ia),x(zu)}var Tn=w(null),xn=null;function Dr(e){var n=e.alternate;Z(_e,_e.current&1),Z(Tn,e),xn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(xn=e)}function cf(e){Z(_e,_e.current),Z(Tn,e),xn===null&&(xn=e)}function eg(e){e.tag===22?(Z(_e,_e.current),Z(Tn,e),xn===null&&(xn=e)):Nr()}function Nr(){Z(_e,_e.current),Z(Tn,Tn.current)}function An(e){x(Tn),xn===e&&(xn=null),x(_e)}var _e=w(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||gd(s)||yd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,Rt=null,Zt=null,Re=null,ju=!1,Ca=!1,zs=!1,qu=0,$o=0,Da=null,fA=0;function fe(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!vn(e[s],n[s]))return!1;return!0}function ff(e,n,s,o,h,f){return Qi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Pg:If,zs=!1,f=s(o,h),zs=!1,Ca&&(f=ig(n,s,o,h)),ng(e),f}function ng(e){G.H=Wo;var n=Zt!==null&&Zt.next!==null;if(Qi=0,Re=Zt=Rt=null,ju=!1,$o=0,Da=null,n)throw Error(a(300));e===null||Ie||(e=e.dependencies,e!==null&&Vu(e)&&(Ie=!0))}function ig(e,n,s,o){Rt=e;var h=0;do{if(Ca&&(Da=null),$o=0,Ca=!1,25<=h)throw Error(a(301));if(h+=1,Re=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=zg,f=n(s,o)}while(Ca);return f}function dA(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Zo(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function df(){var e=qu!==0;return qu=0,e}function mf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function pf(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}Qi=0,Re=Zt=Rt=null,Ca=!1,$o=qu=0,Da=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Rt.memoizedState=Re=e:Re=Re.next=e,Re}function ve(){if(Zt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Re===null?Rt.memoizedState:Re.next;if(n!==null)Re=n,Zt=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Re===null?Rt.memoizedState=Re=e:Re=Re.next=e}return Re}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var n=$o;return $o+=1,Da===null&&(Da=[]),e=Kp(Da,e,n),n=Rt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Pg:If),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===yt)return Fe(e)}throw Error(a(438,String(e)))}function gf(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Hu(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Ki(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=ve();return yf(n,Zt,e)}function yf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,B=n,F=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(Ot&Y)===Y:(Qi&Y)===Y){var j=B.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Sa&&(F=!0);else if((Qi&j)===j){B=B.next,j===Sa&&(F=!0);continue}else Y={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(E=I=Y,g=f):I=I.next=Y,Rt.lanes|=j,Mr|=j;Y=B.action,zs&&s(f,Y),f=B.hasEagerState?B.eagerState:s(f,Y)}else j={lane:Y,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,Rt.lanes|=Y,Mr|=Y;B=B.next}while(B!==null&&B!==n);if(I===null?g=f:I.next=E,!vn(f,e.memoizedState)&&(Ie=!0,F&&(s=ba,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=ve(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);vn(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function rg(e,n,s){var o=Rt,h=ve(),f=xt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!vn((Zt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ie=!0),h=h.queue,Tf(og.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Na(9,{destroy:void 0},ag.bind(null,o,h,s,n),null),ne===null)throw Error(a(349));f||(Qi&127)!==0||sg(o,n,s)}return s}function sg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=Hu(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ag(e,n,s,o){n.value=s,n.getSnapshot=o,lg(n)&&ug(e)}function og(e,n,s){return s(function(){lg(n)&&ug(e)})}function lg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!vn(e,s)}catch{return!0}}function ug(e){var n=Ns(e,2);n!==null&&fn(n,e,2)}function vf(e){var n=rn();if(typeof e=="function"){var s=e;if(e=s(),zs){In(!0);try{s()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function cg(e,n,s,o){return e.baseState=s,yf(e,Zt,typeof o=="function"?o:Ki)}function mA(e,n,s,o,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,hg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function hg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),I=G.S;I!==null&&I(g,E),fg(e,n,E)}catch(B){Ef(e,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),fg(e,n,f)}catch(B){Ef(e,n,B)}}function fg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){dg(e,n,o)},function(o){return Ef(e,n,o)}):dg(e,n,s)}function dg(e,n,s){n.status="fulfilled",n.value=s,mg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,hg(e,s)))}function Ef(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,mg(n),n=n.next;while(n!==o)}e.action=null}function mg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pg(e,n){return n}function gg(e,n){if(xt){var s=ne.formState;if(s!==null){t:{var o=Rt;if(xt){if(se){e:{for(var h=se,f=kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=Pn(h.nextSibling),o=h.data==="F!";break t}}br(o)}o=!1}o&&(n=s[0])}}return s=rn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:n},s.queue=o,s=Lg.bind(null,Rt,o),o.dispatch=s,o=vf(!1),f=Rf.bind(null,Rt,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=mA.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function yg(e){var n=ve();return _g(n,Zt,e)}function _g(e,n,s){if(n=yf(e,n,pg)[0],e=Fu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(g){throw g===wa?Lu:g}else o=n;n=ve();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Na(9,{destroy:void 0},pA.bind(null,h,s),null)),[o,f,e]}function pA(e,n){e.action=n}function vg(e){var n=ve(),s=Zt;if(s!==null)return _g(n,s,e);ve(),n=n.memoizedState,s=ve();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Na(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Hu(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Eg(){return ve().memoizedState}function Qu(e,n,s,o){var h=rn();Rt.flags|=e,h.memoizedState=Na(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ku(e,n,s,o){var h=ve();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&hf(o,Zt.memoizedState.deps)?h.memoizedState=Na(n,f,s,o):(Rt.flags|=e,h.memoizedState=Na(1|n,f,s,o))}function Tg(e,n){Qu(8390656,8,e,n)}function Tf(e,n){Ku(2048,8,e,n)}function gA(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Hu(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Ag(e){var n=ve().memoizedState;return gA({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Sg(e,n){return Ku(4,2,e,n)}function bg(e,n){return Ku(4,4,e,n)}function wg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Rg(e,n,s){s=s!=null?s.concat([e]):null,Ku(4,4,wg.bind(null,n,e),s)}function Af(){}function Ig(e,n){var s=ve();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Cg(e,n){var s=ve();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),zs){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[o,n],o}function Sf(e,n,s){return s===void 0||(Qi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Dy(),Rt.lanes|=e,Mr|=e,s)}function Dg(e,n,s,o){return vn(s,n)?s:Ia.current!==null?(e=Sf(e,s,o),vn(e,n)||(Ie=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Ot&261930)===0?(Ie=!0,e.memoizedState=s):(e=Dy(),Rt.lanes|=e,Mr|=e,n)}function Ng(e,n,s,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Rf(e,!1,n,s);try{var I=h(),B=G.S;if(B!==null&&B(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=hA(I,o);Jo(e,n,F,wn(e))}else Jo(e,n,o,wn(e))}catch(Y){Jo(e,n,{then:function(){},status:"rejected",reason:Y},wn())}finally{rt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function yA(){}function bf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Og(e).queue;Ng(e,h,n,L,s===null?yA:function(){return Vg(e),s(o)})}function Og(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:L},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Vg(e){var n=Og(e);n.next===null&&(n=e.alternate.memoizedState),Jo(e,n.next.queue,{},wn())}function wf(){return Fe(pl)}function Mg(){return ve().memoizedState}function Ug(){return ve().memoizedState}function _A(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=wn();e=Ir(s);var o=Cr(n,e,s);o!==null&&(fn(o,n,s),Ko(o,n,s)),n={cache:Wh()},e.payload=n;return}n=n.return}}function vA(e,n,s){var o=wn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(e)?kg(n,s):(s=qh(e,n,s,o),s!==null&&(fn(s,e,o),xg(s,n,o)))}function Lg(e,n,s){var o=wn();Jo(e,n,s,o)}function Jo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))kg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,vn(E,g))return Cu(e,n,h,0),ne===null&&Iu(),!1}catch{}if(s=qh(e,n,h,o),s!==null)return fn(s,e,o),xg(s,n,o),!0}return!1}function Rf(e,n,s,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=qh(e,s,o,2),n!==null&&fn(n,e,2)}function Yu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function kg(e,n){Ca=ju=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function xg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}var Wo={readContext:Fe,use:Gu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};Wo.useEffectEvent=fe;var Pg={readContext:Fe,use:Gu,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:Tg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Qu(4194308,4,wg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var s=rn();n=n===void 0?null:n;var o=e();if(zs){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=rn();if(s!==void 0){var h=s(n);if(zs){In(!0);try{s(n)}finally{In(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=vA.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,s=Lg.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(e,n){var s=rn();return Sf(s,e,n)},useTransition:function(){var e=vf(!1);return e=Ng.bind(null,Rt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=rn();if(xt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ne===null)throw Error(a(349));(Ot&127)!==0||sg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Tg(og.bind(null,o,f,e),[e]),o.flags|=2048,Na(9,{destroy:void 0},ag.bind(null,o,f,s,n),null),s},useId:function(){var e=rn(),n=ne.identifierPrefix;if(xt){var s=wi,o=bi;s=(o&~(1<<32-ge(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=fA++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:gg,useActionState:gg,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:gf,useCacheRefresh:function(){return rn().memoizedState=_A.bind(null,Rt)},useEffectEvent:function(e){var n=rn(),s={impl:e};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},If={readContext:Fe,use:Gu,useCallback:Ig,useContext:Fe,useEffect:Tf,useImperativeHandle:Rg,useInsertionEffect:Sg,useLayoutEffect:bg,useMemo:Cg,useReducer:Fu,useRef:Eg,useState:function(){return Fu(Ki)},useDebugValue:Af,useDeferredValue:function(e,n){var s=ve();return Dg(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Fu(Ki)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:rg,useId:Mg,useHostTransitionStatus:wf,useFormState:yg,useActionState:yg,useOptimistic:function(e,n){var s=ve();return cg(s,Zt,e,n)},useMemoCache:gf,useCacheRefresh:Ug};If.useEffectEvent=Ag;var zg={readContext:Fe,use:Gu,useCallback:Ig,useContext:Fe,useEffect:Tf,useImperativeHandle:Rg,useInsertionEffect:Sg,useLayoutEffect:bg,useMemo:Cg,useReducer:_f,useRef:Eg,useState:function(){return _f(Ki)},useDebugValue:Af,useDeferredValue:function(e,n){var s=ve();return Zt===null?Sf(s,e,n):Dg(s,Zt.memoizedState,e,n)},useTransition:function(){var e=_f(Ki)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:rg,useId:Mg,useHostTransitionStatus:wf,useFormState:vg,useActionState:vg,useOptimistic:function(e,n){var s=ve();return Zt!==null?cg(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Ug};zg.useEffectEvent=Ag;function Cf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=wn(),h=Ir(o);h.payload=n,s!=null&&(h.callback=s),n=Cr(e,h,o),n!==null&&(fn(n,e,o),Ko(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=wn(),h=Ir(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Cr(e,h,o),n!==null&&(fn(n,e,o),Ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=wn(),o=Ir(s);o.tag=2,n!=null&&(o.callback=n),n=Cr(e,o,s),n!==null&&(fn(n,e,s),Ko(n,e,s))}};function Bg(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!zo(s,o)||!zo(h,f):!0}function jg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function Bs(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function qg(e){Ru(e)}function Hg(e){console.error(e)}function Gg(e){Ru(e)}function Xu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Fg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,s){return s=Ir(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(e,n)},s}function Qg(e){return e=Ir(e),e.tag=3,e}function Kg(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Fg(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Fg(n,s,o),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function EA(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Aa(n,s,h,!0),s=Tn.current,s!==null){switch(s.tag){case 31:case 13:return xn===null?oc():s.alternate===null&&de===0&&(de=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return s.flags|=65536,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ed(e,o,h)),!1}throw Error(a(435,s.tag))}return ed(e,o,h),oc(),!1}if(xt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(a(422),{cause:o}),qo(Mn(e,s)))):(o!==Yh&&(n=Error(a(423),{cause:o}),qo(Mn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Mn(o,s),h=Nf(e.stateNode,o,h),af(e,h),de!==4&&(de=2)),!1;var f=Error(a(520),{cause:o});if(f=Mn(f,s),ol===null?ol=[f]:ol.push(f),de!==4&&(de=2),n===null)return!0;o=Mn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Nf(s.stateNode,o,e),af(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ur===null||!Ur.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Qg(h),Kg(h,e,s,o),af(s,h),!1}s=s.return}while(s!==null);return!1}var Of=Error(a(461)),Ie=!1;function Qe(e,n,s,o){n.child=e===null?Zp(n,null,s,o):Ps(n,e.child,s,o)}function Yg(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Us(n),o=ff(e,n,s,g,f,h),E=df(),e!==null&&!Ie?(mf(e,n,h),Yi(e,n,h)):(xt&&E&&Qh(n),n.flags|=1,Qe(e,n,o,h),n.child)}function Xg(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,$g(e,n,f,o,h)):(e=Nu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:zo,s(g,o)&&e.ref===n.ref)return Yi(e,n,h)}return n.flags|=1,e=qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function $g(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===n.ref)if(Ie=!1,n.pendingProps=o=f,zf(e,h))(e.flags&131072)!==0&&(Ie=!0);else return n.lanes=e.lanes,Yi(e,n,h)}return Vf(e,n,s,o,h)}function Zg(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Jg(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?tg(n,f):lf(),eg(n);else return o=n.lanes=536870912,Jg(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Uu(n,f.cachePool),tg(n,f),Nr(),n.memoizedState=null):(e!==null&&Uu(n,null),lf(),Nr());return Qe(e,n,h,s),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Jg(e,n,s,o,h){var f=ef();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Uu(n,null),lf(),eg(n),e!==null&&Aa(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Wg(e,n,s){return Ps(n,e.child,null,s),e=$u(n,n.pendingProps),e.flags|=2,An(n),n.memoizedState=null,e}function TA(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(xt){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,tl(null,e);if(cf(n),(e=se)?(e=h_(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ar!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=kp(e),s.return=n,n.child=s,Ge=n,se=null)):e=null,e===null)throw br(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Wg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ie||Aa(e,n,s,!1),h=(s&e.childLanes)!==0,Ie||h){if(o=ne,o!==null&&(g=To(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ns(e,g),fn(o,e,g),Of;oc(),n=Wg(e,n,s)}else e=f.treeContext,se=Pn(g.nextSibling),Ge=n,xt=!0,Sr=null,kn=!1,e!==null&&zp(n,e),n=$u(n,o),n.flags|=4096;return n}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,o,h){return Us(n),s=ff(e,n,s,o,void 0,h),o=df(),e!==null&&!Ie?(mf(e,n,h),Yi(e,n,h)):(xt&&o&&Qh(n),n.flags|=1,Qe(e,n,s,h),n.child)}function ty(e,n,s,o,h,f){return Us(n),n.updateQueue=null,s=ig(n,o,s,h),ng(e),o=df(),e!==null&&!Ie?(mf(e,n,f),Yi(e,n,f)):(xt&&o&&Qh(n),n.flags|=1,Qe(e,n,s,f),n.child)}function ey(e,n,s,o,h){if(Us(n),n.stateNode===null){var f=_a,g=s.contextType;typeof g=="object"&&g!==null&&(f=Fe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Fe(g):_a,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Cf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Bs(s,E);f.props=I;var B=f.context,F=s.contextType;g=_a,typeof F=="object"&&F!==null&&(g=Fe(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&jg(n,f,o,g),Rr=!1;var j=n.memoizedState;f.state=j,Xo(n,o,f,h),Yo(),B=n.memoizedState,E||j!==B||Rr?(typeof Y=="function"&&(Cf(n,s,Y,o),B=n.memoizedState),(I=Rr||Bg(n,s,I,o,j,B,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,sf(e,n),g=n.memoizedProps,F=Bs(s,g),f.props=F,Y=n.pendingProps,j=f.context,B=s.contextType,I=_a,typeof B=="object"&&B!==null&&(I=Fe(B)),E=s.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==I)&&jg(n,f,o,I),Rr=!1,j=n.memoizedState,f.state=j,Xo(n,o,f,h),Yo();var H=n.memoizedState;g!==Y||j!==H||Rr||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof E=="function"&&(Cf(n,s,E,o),H=n.memoizedState),(F=Rr||Bg(n,s,F,o,j,H,I)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ps(n,e.child,null,h),n.child=Ps(n,null,s,h)):Qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Yi(e,n,h),e}function ny(e,n,s,o){return Vs(),n.flags|=256,Qe(e,n,s,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Fp()}}function Lf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=bn),e}function iy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(xt){if(h?Dr(n):Nr(),(e=se)?(e=h_(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ar!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=kp(e),s.return=n,n.child=s,Ge=n,se=null)):e=null,e===null)throw br(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Nr(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Os(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(e,g,s),n.memoizedState=Mf,tl(null,o)):(Dr(n),kf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Dr(n),n.flags&=-257,n=xf(e,n,s)):n.memoizedState!==null?(Nr(),n.child=e.child,n.flags|=128,n=null):(Nr(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Os(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ps(n,e.child,null,s),o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(e,g,s),n.memoizedState=Mf,n=tl(null,o));else if(Dr(n),yd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,o=Error(a(419)),o.stack="",o.digest=g,qo({value:o,source:null,stack:null}),n=xf(e,n,s)}else if(Ie||Aa(e,n,s,!1),g=(s&e.childLanes)!==0,Ie||g){if(g=ne,g!==null&&(o=To(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Ns(e,o),fn(g,e,o),Of;gd(E)||oc(),n=xf(e,n,s)}else gd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,se=Pn(E.nextSibling),Ge=n,xt=!0,Sr=null,kn=!1,e!==null&&zp(n,e),n=kf(n,o.children),n.flags|=4096);return n}return h?(Nr(),E=o.fallback,h=n.mode,I=e.child,B=I.sibling,o=qi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,B!==null?E=qi(B,E):(E=Os(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,tl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Uf(s):(h=E.cachePool,h!==null?(I=we._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Fp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Lf(e,g,s),n.memoizedState=Mf,tl(e.child,o)):(Dr(n),s=e.child,e=s.sibling,s=qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function kf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=En(22,e,null,n),e.lanes=0,e}function xf(e,n,s){return Ps(n,e.child,null,s),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ry(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zh(e.return,n,s)}function Pf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function sy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=_e.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,Z(_e,g),Qe(e,n,o,s),o=xt?jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,s,n);else if(e.tag===19)ry(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Bu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Pf(n,!0,s,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Yi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Mr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Aa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function AA(e,n,s){switch(n.tag){case 3:Ft(n,n.stateNode.containerInfo),wr(n,we,e.memoizedState.cache),Vs();break;case 27:case 5:ee(n);break;case 4:Ft(n,n.stateNode.containerInfo);break;case 10:wr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Dr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?iy(e,n,s):(Dr(n),e=Yi(e,n,s),e!==null?e.sibling:null);Dr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Aa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return sy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(_e,_e.current),o)break;return null;case 22:return n.lanes=0,Zg(e,n,s,n.pendingProps);case 24:wr(n,we,e.memoizedState.cache)}return Yi(e,n,s)}function ay(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ie=!0;else{if(!zf(e,s)&&(n.flags&128)===0)return Ie=!1,AA(e,n,s);Ie=(e.flags&131072)!==0}else Ie=!1,xt&&(n.flags&1048576)!==0&&Pp(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=ks(n.elementType),n.type=e,typeof e=="function")Hh(e)?(o=Bs(e,o),n.tag=1,n=ey(null,n,e,o,s)):(n.tag=0,n=Vf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Nt){n.tag=11,n=Yg(null,n,e,o,s);break t}else if(h===D){n.tag=14,n=Xg(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Bs(o,n.pendingProps),ey(e,n,o,h,s);case 3:t:{if(Ft(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),Xo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,wr(n,we,o),o!==f.cache&&Jh(n,[we],s,!0),Yo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ny(e,n,o,s);break t}else if(o!==h){h=Mn(Error(a(424)),n),qo(h),n=ny(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,se=Pn(e.firstChild),Ge=n,xt=!0,Sr=null,kn=!0,s=Zp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Vs(),o===h){n=Yi(e,n,s);break t}Qe(e,n,o,s)}n=n.child}return n;case 26:return Zu(e,n),e===null?(s=y_(n.type,null,n.pendingProps,null))?n.memoizedState=s:xt||(s=n.type,e=n.pendingProps,o=mc(ft.current).createElement(s),o[Ae]=n,o[Pe]=e,Ke(o,s,e),Se(o),n.stateNode=o):n.memoizedState=y_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ee(n),e===null&&xt&&(o=n.stateNode=m_(n.type,n.pendingProps,ft.current),Ge=n,kn=!0,h=se,Pr(n.type)?(_d=h,se=Pn(o.firstChild)):se=h),Qe(e,n,n.pendingProps.children,s),Zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&xt&&((h=o=se)&&(o=JA(o,n.type,n.pendingProps,kn),o!==null?(n.stateNode=o,Ge=n,se=Pn(o.firstChild),kn=!1,h=!0):h=!1),h||br(n)),ee(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,dA,null,null,s),pl._currentValue=h),Zu(e,n),Qe(e,n,o,s),n.child;case 6:return e===null&&xt&&((e=s=se)&&(s=WA(s,n.pendingProps,kn),s!==null?(n.stateNode=s,Ge=n,se=null,e=!0):e=!1),e||br(n)),null;case 13:return iy(e,n,s);case 4:return Ft(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ps(n,null,o,s):Qe(e,n,o,s),n.child;case 11:return Yg(e,n,n.type,n.pendingProps,s);case 7:return Qe(e,n,n.pendingProps,s),n.child;case 8:return Qe(e,n,n.pendingProps.children,s),n.child;case 12:return Qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,wr(n,n.type,o.value),Qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Us(n),h=Fe(h),o=o(h),n.flags|=1,Qe(e,n,o,s),n.child;case 14:return Xg(e,n,n.type,n.pendingProps,s);case 15:return $g(e,n,n.type,n.pendingProps,s);case 19:return sy(e,n,s);case 31:return TA(e,n,s);case 22:return Zg(e,n,s,n.pendingProps);case 24:return Us(n),o=Fe(we),e===null?(h=ef(),h===null&&(h=ne,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},rf(n),wr(n,we,h)):((e.lanes&s)!==0&&(sf(e,n),Xo(n,null,null,s),Yo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),wr(n,we,o)):(o=f.cache,wr(n,we,o),o!==h.cache&&Jh(n,[we],s,!0))),Qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Xi(e){e.flags|=4}function Bf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(My())e.flags|=8192;else throw xs=ku,nf}else e.flags&=-16777217}function oy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!A_(n))if(My())e.flags|=8192;else throw xs=ku,nf}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Ua|=n)}function el(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function SA(e,n,s){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fi(we),zt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?Xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),ae(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Xi(n),f!==null?(ae(n),oy(n,f)):(ae(n),Bf(n,h,null,o,s))):f?f!==e.memoizedState?(Xi(n),ae(n),oy(n,f)):(ae(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xi(n),ae(n),Bf(n,h,e,o,s)),null;case 27:if(xe(n),s=ft.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ae(n),null}e=J.current,Ta(n)?Bp(n):(e=m_(h,o,s),n.stateNode=e,Xi(n))}return ae(n),null;case 5:if(xe(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ae(n),null}if(f=J.current,Ta(n))Bp(n);else{var g=mc(ft.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ae]=n,f[Pe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ke(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Xi(n)}}return ae(n),Bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=ft.current,Ta(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ge,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||i_(e.nodeValue,s)),e||br(n,!0)}else e=mc(e).createTextNode(o),e[Ae]=n,n.stateNode=e}return ae(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ae]=n}else Vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),e=!1}else s=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ae(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ae]=n}else Vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),ae(n),null);case 4:return zt(),e===null&&ld(n.stateNode.containerInfo),ae(n),null;case 10:return Fi(n.type),ae(n),null;case 19:if(x(_e),o=n.memoizedState,o===null)return ae(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Lp(s,e),s=s.sibling;return Z(_e,_e.current&1|2),xt&&Hi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Me()>rc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!xt)return ae(n),null}else 2*Me()-o.renderingStartTime>rc&&s!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Me(),e.sibling=null,s=_e.current,Z(_e,h?s&1|2:s&1),xt&&Hi(n,o.treeForkCount),e):(ae(n),null);case 22:case 23:return An(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&x(Ls),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Fi(we),ae(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function bA(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fi(we),zt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return xe(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(a(340));Vs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(An(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Vs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return x(_e),null;case 4:return zt(),null;case 10:return Fi(n.type),null;case 22:case 23:return An(n),uf(),e!==null&&x(Ls),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fi(we),null;case 25:return null;default:return null}}function ly(e,n){switch(Kh(n),n.tag){case 3:Fi(we),zt();break;case 26:case 27:case 5:xe(n);break;case 4:zt();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:x(_e);break;case 10:Fi(n.type);break;case 22:case 23:An(n),uf(),e!==null&&x(Ls);break;case 24:Fi(we)}}function nl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Xt(n,n.return,E)}}function Or(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,B=E;try{B()}catch(F){Xt(h,I,F)}}}o=o.next}while(o!==f)}}catch(F){Xt(n,n.return,F)}}function uy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Wp(n,s)}catch(o){Xt(e,e.return,o)}}}function cy(e,n,s){s.props=Bs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Xt(e,n,o)}}function il(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Xt(e,n,h)}}function Ri(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function hy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function jf(e,n,s){try{var o=e.stateNode;QA(o,e.type,s,n),o[Pe]=n}catch(h){Xt(e,e.return,h)}}function fy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pr(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||fy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Qn));else if(o!==4&&(o===27&&Pr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,s),e=e.sibling;e!==null;)Hf(e,n,s),e=e.sibling}function tc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Pr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(tc(e,n,s),e=e.sibling;e!==null;)tc(e,n,s),e=e.sibling}function dy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ke(n,o,s),n[Ae]=e,n[Pe]=s}catch(f){Xt(e,e.return,f)}}var $i=!1,Ce=!1,Gf=!1,my=typeof WeakSet=="function"?WeakSet:Set,Be=null;function wA(e,n){if(e=e.containerInfo,hd=Tc,e=Rp(e),kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,B=0,F=0,Y=e,j=null;e:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(I=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===s&&++B===h&&(E=g),j===f&&++F===o&&(I=g),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:e,selectionRange:s},Tc=!1,Be=n;Be!==null;)if(n=Be,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Be=e;else for(;Be!==null;){switch(n=Be,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=Bs(s.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Xt(s,s.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)pd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Be=e;break}Be=n.return}}function py(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ji(e,s),o&4&&nl(5,s);break;case 1:if(Ji(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(s,s.return,g)}else{var h=Bs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(s,s.return,g)}}o&64&&uy(s),o&512&&il(s,s.return);break;case 3:if(Ji(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Wp(e,n)}catch(g){Xt(s,s.return,g)}}break;case 27:n===null&&o&4&&dy(s);case 26:case 5:Ji(e,s),n===null&&o&4&&hy(s),o&512&&il(s,s.return);break;case 12:Ji(e,s);break;case 31:Ji(e,s),o&4&&_y(e,s);break;case 13:Ji(e,s),o&4&&vy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=UA.bind(null,s),tS(e,s))));break;case 22:if(o=s.memoizedState!==null||$i,!o){n=n!==null&&n.memoizedState!==null||Ce,h=$i;var f=Ce;$i=o,(Ce=n)&&!f?Wi(e,s,(s.subtreeFlags&8772)!==0):Ji(e,s),$i=h,Ce=f}break;case 30:break;default:Ji(e,s)}}function gy(e){var n=e.alternate;n!==null&&(e.alternate=null,gy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,ln=!1;function Zi(e,n,s){for(s=s.child;s!==null;)yy(e,n,s),s=s.sibling}function yy(e,n,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(qn,s)}catch{}switch(s.tag){case 26:Ce||Ri(s,n),Zi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ce||Ri(s,n);var o=ce,h=ln;Pr(s.type)&&(ce=s.stateNode,ln=!1),Zi(e,n,s),fl(s.stateNode),ce=o,ln=h;break;case 5:Ce||Ri(s,n);case 6:if(o=ce,h=ln,ce=null,Zi(e,n,s),ce=o,ln=h,ce!==null)if(ln)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{ce.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:ce!==null&&(ln?(e=ce,u_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),qa(e)):u_(ce,s.stateNode));break;case 4:o=ce,h=ln,ce=s.stateNode.containerInfo,ln=!0,Zi(e,n,s),ce=o,ln=h;break;case 0:case 11:case 14:case 15:Or(2,s,n),Ce||Or(4,s,n),Zi(e,n,s);break;case 1:Ce||(Ri(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&cy(s,n,o)),Zi(e,n,s);break;case 21:Zi(e,n,s);break;case 22:Ce=(o=Ce)||s.memoizedState!==null,Zi(e,n,s),Ce=o;break;default:Zi(e,n,s)}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(s){Xt(n,n.return,s)}}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(s){Xt(n,n.return,s)}}function RA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new my),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new my),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var s=RA(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=LA.bind(null,e,o);o.then(h,h)}})}function un(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Pr(E.type)){ce=E.stateNode,ln=!1;break t}break;case 5:ce=E.stateNode,ln=!1;break t;case 3:case 4:ce=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(ce===null)throw Error(a(160));yy(f,g,h),ce=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ey(n,e),n=n.sibling}var Jn=null;function Ey(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(Or(3,e,e.return),nl(3,e),Or(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(Ce||s===null||Ri(s,s.return)),o&64&&$i&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Jn;if(un(n,e),cn(e),o&512&&(Ce||s===null||Ri(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ke(f,o,s),f[Ae]=e,Se(f),o=f;break t;case"link":var g=E_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,s),h.head.appendChild(f);break;case"meta":if(g=E_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ae]=e,Se(f),o=f}e.stateNode=o}else T_(h,e.type,e.stateNode);else e.stateNode=v_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?T_(h,e.type,e.stateNode):v_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&jf(e,e.memoizedProps,s.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(Ce||s===null||Ri(s,s.return)),s!==null&&o&4&&jf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(Ce||s===null||Ri(s,s.return)),e.flags&32){h=e.stateNode;try{on(h,"")}catch(lt){Xt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,jf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){Xt(e,e.return,lt)}}break;case 3:if(yc=null,h=Jn,Jn=pc(n.containerInfo),un(n,e),Jn=h,cn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(lt){Xt(e,e.return,lt)}Gf&&(Gf=!1,Ty(e));break;case 4:o=Jn,Jn=pc(e.stateNode.containerInfo),un(n,e),cn(e),Jn=o;break;case 12:un(n,e),cn(e);break;case 31:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=Me()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,B=$i,F=Ce;if($i=B||h,Ce=F||I,un(n,e),Ce=F,$i=B,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||$i||Ce||js(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Xt(I,I.return,lt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(lt){Xt(I,I.return,lt)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;h?c_(H,!0):c_(I.stateNode,!1)}catch(lt){Xt(I,I.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ec(e,s))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(fy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=qf(e);tc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(on(g,""),s.flags&=-33);var E=qf(e);tc(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,B=qf(e);Hf(e,B,I);break;default:throw Error(a(161))}}catch(F){Xt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(e,n.alternate,n),n=n.sibling}function js(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Or(4,n,n.return),js(n);break;case 1:Ri(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&cy(n,n.return,s),js(n);break;case 27:fl(n.stateNode);case 26:case 5:Ri(n,n.return),js(n);break;case 22:n.memoizedState===null&&js(n);break;case 30:js(n);break;default:js(n)}e=e.sibling}}function Wi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(h,f,s),nl(4,f);break;case 1:if(Wi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Xt(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Jp(I[h],E)}catch(B){Xt(o,o.return,B)}}s&&g&64&&uy(f),il(f,f.return);break;case 27:dy(f);case 26:case 5:Wi(h,f,s),s&&o===null&&g&4&&hy(f),il(f,f.return);break;case 12:Wi(h,f,s);break;case 31:Wi(h,f,s),s&&g&4&&_y(h,f);break;case 13:Wi(h,f,s),s&&g&4&&vy(h,f);break;case 22:f.memoizedState===null&&Wi(h,f,s),il(f,f.return);break;case 30:break;default:Wi(h,f,s)}n=n.sibling}}function Ff(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ho(s))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function Wn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ay(e,n,s,o),n=n.sibling}function Ay(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,s,o),h&2048&&nl(9,n);break;case 1:Wn(e,n,s,o);break;case 3:Wn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){Wn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Xt(n,n.return,I)}}else Wn(e,n,s,o);break;case 31:Wn(e,n,s,o);break;case 13:Wn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,s,o):rl(e,n):f._visibility&2?Wn(e,n,s,o):(f._visibility|=2,Oa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(g,n);break;case 24:Wn(e,n,s,o),h&2048&&Qf(n.alternate,n);break;default:Wn(e,n,s,o)}}function Oa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,B=g.flags;switch(g.tag){case 0:case 11:case 15:Oa(f,g,E,I,h),nl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Oa(f,g,E,I,h):rl(f,g):(F._visibility|=2,Oa(f,g,E,I,h)),h&&B&2048&&Ff(g.alternate,g);break;case 24:Oa(f,g,E,I,h),h&&B&2048&&Qf(g.alternate,g);break;default:Oa(f,g,E,I,h)}n=n.sibling}}function rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:rl(s,o),h&2048&&Ff(o.alternate,o);break;case 24:rl(s,o),h&2048&&Qf(o.alternate,o);break;default:rl(s,o)}n=n.sibling}}var sl=8192;function Va(e,n,s){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)Sy(e,n,s),e=e.sibling}function Sy(e,n,s){switch(e.tag){case 26:Va(e,n,s),e.flags&sl&&e.memoizedState!==null&&fS(s,Jn,e.memoizedState,e.memoizedProps);break;case 5:Va(e,n,s);break;case 3:case 4:var o=Jn;Jn=pc(e.stateNode.containerInfo),Va(e,n,s),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Va(e,n,s),sl=o):Va(e,n,s));break;default:Va(e,n,s)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Be=o,Ry(o,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wy(e),e=e.sibling}function wy(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Or(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):al(e);break;default:al(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Be=o,Ry(o,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Or(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Ry(e,n){for(;Be!==null;){var s=Be;switch(s.tag){case 0:case 11:case 15:Or(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Be=o;else t:for(s=e;Be!==null;){o=Be;var h=o.sibling,f=o.return;if(gy(o),o===s){Be=null;break t}if(h!==null){h.return=f,Be=h;break t}Be=f}}}var IA={getCacheForType:function(e){var n=Fe(we),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Fe(we).controller.signal}},CA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Ct=null,Ot=0,Yt=0,Sn=null,Vr=!1,Ma=!1,Kf=!1,tr=0,de=0,Mr=0,qs=0,Yf=0,bn=0,Ua=0,ol=null,hn=null,Xf=!1,ic=0,Iy=0,rc=1/0,sc=null,Ur=null,Ue=0,Lr=null,La=null,er=0,$f=0,Zf=null,Cy=null,ll=0,Jf=null;function wn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:G.T!==null?rd():au()}function Dy(){if(bn===0)if((Ot&536870912)===0||xt){var e=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),bn=e}else bn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),bn}function fn(e,n,s){(e===ne&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),kr(e,Ot,bn,!1)),gs(e,s),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&(qs|=s),de===4&&kr(e,Ot,bn,!1)),Ii(e))}function Ny(e,n,s){if((Gt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Hn(e,n),h=o?OA(e,n):td(e,n,!0),f=o;do{if(h===0){Ma&&!o&&kr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!DA(s)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ol;var I=E.current.memoizedState.isDehydrated;if(I&&(ka(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Kf&&!I){E.errorRecoveryDisabledLanes|=f,qs|=f,h=4;break t}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),kr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:kr(o,n,bn,!Vr);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-Me(),10<h)){if(kr(o,n,bn,!Vr),ui(o,0,!0)!==0)break t;er=n,o.timeoutHandle=o_(Oy.bind(null,o,s,hn,sc,Xf,n,bn,qs,Ua,Vr,f,"Throttled",-0,0),h);break t}Oy(o,s,hn,sc,Xf,n,bn,qs,Ua,Vr,f,null,-0,0)}}break}while(!0);Ii(e)}function Oy(e,n,s,o,h,f,g,E,I,B,F,Y,j,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Sy(n,f,Y);var lt=(f&62914560)===f?ic-Me():(f&4194048)===f?Iy-Me():0;if(lt=dS(Y,lt),lt!==null){er=f,e.cancelPendingCommit=lt(zy.bind(null,e,n,f,s,o,h,g,E,I,F,Y,null,j,H)),kr(e,f,g,!B);return}}zy(e,n,f,s,o,h,g,E,I)}function DA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function kr(e,n,s,o){n&=~Yf,n&=~qs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ge(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&ys(e,s,n)}function ac(){return(Gt&6)===0?(ul(0),!1):!0}function Wf(){if(Ct!==null){if(Yt===0)var e=Ct.return;else e=Ct,Gi=Ms=null,pf(e),Ra=null,Fo=0,e=Ct;for(;e!==null;)ly(e.alternate,e),e=e.return;Ct=null}}function ka(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,XA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),er=0,Wf(),ne=e,Ct=s=qi(e.current,null),Ot=n,Yt=0,Sn=null,Vr=!1,Ma=Hn(e,n),Kf=!1,Ua=bn=Yf=qs=Mr=de=0,hn=ol=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ge(o),f=1<<h;n|=e[h],o&=~f}return tr=n,Iu(),s}function Vy(e,n){Rt=null,G.H=Wo,n===wa||n===Lu?(n=Yp(),Yt=3):n===nf?(n=Yp(),Yt=4):Yt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Ct===null&&(de=1,Xu(e,Mn(n,e.current)))}function My(){var e=Tn.current;return e===null?!0:(Ot&4194048)===Ot?xn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===xn:!1}function Uy(){var e=G.H;return G.H=Wo,e===null?Wo:e}function Ly(){var e=G.A;return G.A=IA,e}function oc(){de=4,Vr||(Ot&4194048)!==Ot&&Tn.current!==null||(Ma=!0),(Mr&134217727)===0&&(qs&134217727)===0||ne===null||kr(ne,Ot,bn,!1)}function td(e,n,s){var o=Gt;Gt|=2;var h=Uy(),f=Ly();(ne!==e||Ot!==n)&&(sc=null,ka(e,n)),n=!1;var g=de;t:do try{if(Yt!==0&&Ct!==null){var E=Ct,I=Sn;switch(Yt){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var B=Yt;if(Yt=0,Sn=null,xa(e,E,I,B),s&&Ma){g=0;break t}break;default:B=Yt,Yt=0,Sn=null,xa(e,E,I,B)}}NA(),g=de;break}catch(F){Vy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Gi=Ms=null,Gt=o,G.H=h,G.A=f,Ct===null&&(ne=null,Ot=0,Iu()),g}function NA(){for(;Ct!==null;)ky(Ct)}function OA(e,n){var s=Gt;Gt|=2;var o=Uy(),h=Ly();ne!==e||Ot!==n?(sc=null,rc=Me()+500,ka(e,n)):Ma=Hn(e,n);t:do try{if(Yt!==0&&Ct!==null){n=Ct;var f=Sn;e:switch(Yt){case 1:Yt=0,Sn=null,xa(e,n,f,1);break;case 2:case 9:if(Qp(f)){Yt=0,Sn=null,xy(n);break}n=function(){Yt!==2&&Yt!==9||ne!==e||(Yt=7),Ii(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Qp(f)?(Yt=0,Sn=null,xy(n)):(Yt=0,Sn=null,xa(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?A_(g):E.stateNode.complete){Yt=0,Sn=null;var I=E.sibling;if(I!==null)Ct=I;else{var B=E.return;B!==null?(Ct=B,lc(B)):Ct=null}break e}}Yt=0,Sn=null,xa(e,n,f,5);break;case 6:Yt=0,Sn=null,xa(e,n,f,6);break;case 8:Wf(),de=6;break t;default:throw Error(a(462))}}VA();break}catch(F){Vy(e,F)}while(!0);return Gi=Ms=null,G.H=o,G.A=h,Gt=s,Ct!==null?0:(ne=null,Ot=0,Iu(),de)}function VA(){for(;Ct!==null&&!vo();)ky(Ct)}function ky(e){var n=ay(e.alternate,e,tr);e.memoizedProps=e.pendingProps,n===null?lc(e):Ct=n}function xy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ty(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=ty(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:pf(n);default:ly(s,n),n=Ct=Lp(n,tr),n=ay(s,n,tr)}e.memoizedProps=e.pendingProps,n===null?lc(e):Ct=n}function xa(e,n,s,o){Gi=Ms=null,pf(n),Ra=null,Fo=0;var h=n.return;try{if(EA(e,h,n,s,Ot)){de=1,Xu(e,Mn(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;de=1,Xu(e,Mn(s,e.current)),Ct=null;return}n.flags&32768?(xt||o===1?e=!0:Ma||(Ot&536870912)!==0?e=!1:(Vr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){Py(n,Vr);return}e=n.return;var s=SA(n.alternate,n,tr);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);de===0&&(de=5)}function Py(e,n){do{var s=bA(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);de=6,Ct=null}function zy(e,n,s,o,h,f,g,E,I){e.cancelPendingCommit=null;do uc();while(Ue!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jh,Vh(e,s,f,g,E,I),e===ne&&(Ct=ne=null,Ot=0),La=n,Lr=e,er=s,$f=f,Zf=h,Cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kA(fr,function(){return Gy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,g=Gt,Gt|=4;try{wA(e,n,s)}finally{Gt=g,rt.p=h,G.T=o}}Ue=1,By(),jy(),qy()}}function By(){if(Ue===1){Ue=0;var e=Lr,n=La,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Gt;Gt|=4;try{Ey(n,e);var f=fd,g=Rp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&wp(E.ownerDocument.documentElement,E)){if(I!==null&&kh(E)){var B=I.start,F=I.end;if(F===void 0&&(F=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),lt=E.textContent.length,vt=Math.min(I.start,lt),Wt=I.end===void 0?vt:Math.min(I.end,lt);!H.extend&&vt>Wt&&(g=Wt,Wt=vt,vt=g);var U=bp(E,vt),O=bp(E,Wt);if(U&&O&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var z=Y.createRange();z.setStart(U.node,U.offset),H.removeAllRanges(),vt>Wt?(H.addRange(z),H.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),H.addRange(z))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!hd,fd=hd=null}finally{Gt=h,rt.p=o,G.T=s}}e.current=n,Ue=2}}function jy(){if(Ue===2){Ue=0;var e=Lr,n=La,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Gt;Gt|=4;try{py(e,n.alternate,n)}finally{Gt=h,rt.p=o,G.T=s}}Ue=3}}function qy(){if(Ue===4||Ue===3){Ue=0,xi();var e=Lr,n=La,s=er,o=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,La=Lr=null,Hy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ur=null),Pi(s),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,rt.p=h}}(er&3)!==0&&uc(),Ii(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Jf?ll++:(ll=0,Jf=e):ll=0,ul(0)}}function Hy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function uc(){return By(),jy(),qy(),Gy()}function Gy(){if(Ue!==5)return!1;var e=Lr,n=$f;$f=0;var s=Pi(er),o=G.T,h=rt.p;try{rt.p=32>s?32:s,G.T=null,s=Zf,Zf=null;var f=Lr,g=er;if(Ue=0,La=Lr=null,er=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,wy(f.current),Ay(f,f.current,g,s),Gt=E,ul(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{rt.p=h,G.T=o,Hy(e,n)}}function Fy(e,n,s){n=Mn(s,n),n=Nf(e.stateNode,n,2),e=Cr(e,n,2),e!==null&&(gs(e,2),Ii(e))}function Xt(e,n,s){if(e.tag===3)Fy(e,e,s);else for(;n!==null;){if(n.tag===3){Fy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ur===null||!Ur.has(o))){e=Mn(s,e),s=Qg(2),o=Cr(n,s,2),o!==null&&(Kg(s,o,n,e),gs(o,2),Ii(o));break}}n=n.return}}function ed(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new CA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Kf=!0,h.add(s),e=MA.bind(null,e,n,s),n.then(e,e))}function MA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ne===e&&(Ot&s)===s&&(de===4||de===3&&(Ot&62914560)===Ot&&300>Me()-ic?(Gt&2)===0&&ka(e,0):Yf|=s,Ua===Ot&&(Ua=0)),Ii(e)}function Qy(e,n){n===0&&(n=su()),e=Ns(e,n),e!==null&&(gs(e,n),Ii(e))}function UA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Qy(e,s)}function LA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Qy(e,s)}function kA(e,n){return pe(e,n)}var cc=null,Pa=null,nd=!1,hc=!1,id=!1,xr=0;function Ii(e){e!==Pa&&e.next===null&&(Pa===null?cc=Pa=e:Pa=Pa.next=e),hc=!0,nd||(nd=!0,PA())}function ul(e,n){if(!id&&hc){id=!0;do for(var s=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ge(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,$y(o,f))}else f=Ot,f=ui(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(s=!0,$y(o,f));o=o.next}while(s);id=!1}}function xA(){Ky()}function Ky(){hc=nd=!1;var e=0;xr!==0&&YA()&&(e=xr);for(var n=Me(),s=null,o=cc;o!==null;){var h=o.next,f=Yy(o,n);f===0?(o.next=null,s===null?cc=h:s.next=h,h===null&&(Pa=s)):(s=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}Ue!==0&&Ue!==5||ul(e),xr!==0&&(xr=0)}function Yy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ge(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Oh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=ne,s=Ot,s=ui(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ai(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Hn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ai(o),Pi(s)){case 2:case 8:s=ms;break;case 32:s=fr;break;case 268435456:s=tu;break;default:s=fr}return o=Xy.bind(null,e),s=pe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ai(o),e.callbackPriority=2,e.callbackNode=null,2}function Xy(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(uc()&&e.callbackNode!==s)return null;var o=Ot;return o=ui(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ny(e,o,n),Yy(e,Me()),e.callbackNode!=null&&e.callbackNode===s?Xy.bind(null,e):null)}function $y(e,n){if(uc())return null;Ny(e,n,!0)}function PA(){$A(function(){(Gt&6)!==0?pe(ds,xA):Ky()})}function rd(){if(xr===0){var e=Sa;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),xr=e}return xr}function Zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function Jy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function zA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Zy((h[Pe]||null).action),g=o.submitter;g&&(n=(n=g[Pe]||null)?Zy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ei("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xr!==0){var I=g?Jy(h,g):new FormData(h);bf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Jy(h,g):new FormData(h),bf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var sd=0;sd<Bh.length;sd++){var ad=Bh[sd],BA=ad.toLowerCase(),jA=ad[0].toUpperCase()+ad.slice(1);Zn(BA,"on"+jA)}Zn(Dp,"onAnimationEnd"),Zn(Np,"onAnimationIteration"),Zn(Op,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(iA,"onTransitionRun"),Zn(rA,"onTransitionStart"),Zn(sA,"onTransitionCancel"),Zn(Vp,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function Wy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,B=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=B;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,B=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=B;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=I}}}}function Dt(e,n){var s=n[ia];s===void 0&&(s=n[ia]=new Set);var o=e+"__bubble";s.has(o)||(t_(n,e,2,!1),s.add(o))}function od(e,n,s){var o=0;n&&(o|=4),t_(s,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[fc]){e[fc]=!0,Ao.forEach(function(s){s!=="selectionchange"&&(qA.has(s)||od(s,!1,e),od(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,od("selectionchange",!1,n))}}function t_(e,n,s,o){switch(D_(n)){case 2:var h=gS;break;case 8:h=yS;break;default:h=Sd}s=h.bind(null,n,s,e),h=void 0,!As||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ud(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=di(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}_r(function(){var B=f,F=Dn(s),Y=[];t:{var j=Mp.get(e);if(j!==void 0){var H=Ei,lt=e;switch(e){case"keypress":if(bs(s)===0)break t;case"keydown":case"keyup":H=Su;break;case"focusin":lt="focus",H=Rs;break;case"focusout":lt="blur",H=Rs;break;case"beforeblur":case"afterblur":H=Rs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Dp:case Np:case Op:H=gu;break;case Vp:H=T;break;case"scroll":case"scrollend":H=Uo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ji;break;case"toggle":case"beforetoggle":H=wt}var vt=(n&4)!==0,Wt=!vt&&(e==="scroll"||e==="scrollend"),U=vt?j!==null?j+"Capture":null:j;vt=[];for(var O=B,z;O!==null;){var K=O;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||U===null||(K=Kn(O,U),K!=null&&vt.push(hl(O,K,z))),Wt)break;O=O.return}0<vt.length&&(j=new H(j,lt,null,s,F),Y.push({event:j,listeners:vt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==Oo&&(lt=s.relatedTarget||s.fromElement)&&(di(lt)||lt[hi]))break t;if((H||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,H?(lt=s.relatedTarget||s.toElement,H=B,lt=lt?di(lt):null,lt!==null&&(Wt=c(lt),vt=lt.tag,lt!==Wt||vt!==5&&vt!==27&&vt!==6)&&(lt=null)):(H=null,lt=B),H!==lt)){if(vt=Lo,K="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(vt=ji,K="onPointerLeave",U="onPointerEnter",O="pointer"),Wt=H==null?j:yn(H),z=lt==null?j:yn(lt),j=new vt(K,O+"leave",H,s,F),j.target=Wt,j.relatedTarget=z,K=null,di(F)===B&&(vt=new vt(U,O+"enter",lt,s,F),vt.target=z,vt.relatedTarget=Wt,K=vt),Wt=K,H&&lt)e:{for(vt=HA,U=H,O=lt,z=0,K=U;K;K=vt(K))z++;K=0;for(var dt=O;dt;dt=vt(dt))K++;for(;0<z-K;)U=vt(U),z--;for(;0<K-z;)O=vt(O),K--;for(;z--;){if(U===O||O!==null&&U===O.alternate){vt=U;break e}U=vt(U),O=vt(O)}vt=null}else vt=null;H!==null&&e_(Y,j,H,vt,!1),lt!==null&&Wt!==null&&e_(Y,Wt,lt,vt,!0)}}t:{if(j=B?yn(B):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var jt=_p;else if(gp(j))if(vp)jt=tA;else{jt=J0;var ut=Z0}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&oa(B.elementType)&&(jt=_p):jt=W0;if(jt&&(jt=jt(e,B))){yp(Y,jt,s,F);break t}ut&&ut(e,j,B),e==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Co(j,"number",j.value)}switch(ut=B?yn(B):window,e){case"focusin":(gp(ut)||ut.contentEditable==="true")&&(pa=ut,xh=B,Bo=null);break;case"focusout":Bo=xh=pa=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Ip(Y,s,F);break;case"selectionchange":if(nA)break;case"keydown":case"keyup":Ip(Y,s,F)}var It;if(Ht)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ma?Is(e,s)&&(Vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Vt="onCompositionStart");Vt&&(Si&&s.locale!=="ko"&&(ma||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ma&&(It=Mo()):(vi=F,Vo="value"in vi?vi.value:vi.textContent,ma=!0)),ut=dc(B,Vt),0<ut.length&&(Vt=new Ai(Vt,e,null,s,F),Y.push({event:Vt,listeners:ut}),It?Vt.data=It:(It=da(s),It!==null&&(Vt.data=It)))),(It=On?K0(e,s):Y0(e,s))&&(Vt=dc(B,"onBeforeInput"),0<Vt.length&&(ut=new Ai("onBeforeInput","beforeinput",null,s,F),Y.push({event:ut,listeners:Vt}),ut.data=It)),zA(Y,e,B,s,F)}Wy(Y,n)})}function hl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function dc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(e,s),h!=null&&o.unshift(hl(e,h,f)),h=Kn(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function HA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function e_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,B=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||B===null||(I=B,h?(B=Kn(s,f),B!=null&&g.unshift(hl(s,B,I))):h||(B=Kn(s,f),B!=null&&g.push(hl(s,B,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var GA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function n_(e){return(typeof e=="string"?e:""+e).replace(GA,`
`).replace(FA,"")}function i_(e,n){return n=n_(n),n_(e)===n}function Jt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||on(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&on(e,""+o);break;case"className":_n(e,"class",o);break;case"tabIndex":_n(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,s,o);break;case"style":No(e,o,f);break;case"data":if(n!=="object"){_n(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=la(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=la(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=la(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,sa(e,s,o))}}function cd(e,n,s,o,h,f){switch(s){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?on(e,o):(typeof o=="number"||typeof o=="bigint")&&on(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Pe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):sa(e,s,o)}}}function Ke(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,g,s,null)}}h&&Jt(e,n,"srcSet",s.srcSet,s,null),o&&Jt(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=g=h=null,I=null,B=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":I=F;break;case"defaultChecked":B=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Jt(e,n,o,F,s,null)}}cu(e,f,E,I,B,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Jt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?mr(e,!!o,n,!1):s!=null&&mr(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,g,E,s,null)}pr(e,o,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,I,o,s,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)Dt(cl[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(o=s[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,B,o,s,null)}return;default:if(oa(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&cd(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Jt(e,n,E,o,s,null))}function QA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,B=null,F=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(H)||Jt(e,n,H,null,o,Y)}}for(var j in o){var H=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":B=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&Jt(e,n,j,H,o,Y)}}aa(e,g,E,I,B,F,f,h);return;case"select":H=g=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Jt(e,n,h,f,o,I)}n=E,s=g,o=H,j!=null?mr(e,!!s,j,!1):!!o!=!!s&&(n!=null?mr(e,!!s,n,!0):mr(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,g,h,o,f)}hu(e,j,H);return;case"option":for(var lt in s)j=s[lt],s.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Jt(e,n,lt,null,o,j));for(I in o)j=o[I],H=s[I],o.hasOwnProperty(I)&&j!==H&&(j!=null||H!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Jt(e,n,I,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)j=s[vt],s.hasOwnProperty(vt)&&j!=null&&!o.hasOwnProperty(vt)&&Jt(e,n,vt,null,o,j);for(B in o)if(j=o[B],H=s[B],o.hasOwnProperty(B)&&j!==H&&(j!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Jt(e,n,B,j,o,H)}return;default:if(oa(n)){for(var Wt in s)j=s[Wt],s.hasOwnProperty(Wt)&&j!==void 0&&!o.hasOwnProperty(Wt)&&cd(e,n,Wt,void 0,o,j);for(F in o)j=o[F],H=s[F],!o.hasOwnProperty(F)||j===H||j===void 0&&H===void 0||cd(e,n,F,j,o,H);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&Jt(e,n,U,null,o,j);for(Y in o)j=o[Y],H=s[Y],!o.hasOwnProperty(Y)||j===H||j==null&&H==null||Jt(e,n,Y,j,o,H)}function r_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&r_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],B=I.startTime;if(B>E)break;var F=I.transferSize,Y=I.initiatorType;F&&r_(Y)&&(I=I.responseEnd,g+=F*(I<E?1:(E-B)/(I-B)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function s_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function YA(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,XA=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(e){return l_.resolve(null).then(e).catch(ZA)}:o_;function ZA(e){setTimeout(function(){throw e})}function Pr(e){return e==="head"}function u_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),qa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")fl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,fl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&fl(e.ownerDocument.body);s=h}while(s);qa(n)}function c_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function pd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pd(s),ra(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function JA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[fi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function WA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Pn(e.nextSibling),e===null))return null;return e}function h_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function f_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Pn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function d_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function m_(e,n,s){switch(n=mc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var zn=new Map,p_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nr=rt.d;rt.d={f:eS,r:nS,D:iS,C:rS,L:sS,m:aS,X:lS,S:oS,M:uS};function eS(){var e=nr.f(),n=ac();return e||n}function nS(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?Vg(n):nr.r(e)}var za=typeof document>"u"?null:document;function g_(e,n,s){var o=za;if(o&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),p_.has(h)||(p_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ke(n,"link",e),Se(n),o.head.appendChild(n)))}}function iS(e){nr.D(e),g_("dns-prefetch",e,null)}function rS(e,n){nr.C(e,n),g_("preconnect",e,n)}function sS(e,n,s){nr.L(e,n,s);var o=za;if(o&&e&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+an(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+an(s.imageSizes)+'"]')):h+='[href="'+an(e)+'"]';var f=h;switch(n){case"style":f=Ba(e);break;case"script":f=ja(e)}zn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),zn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Ke(n,"link",e),Se(n),o.head.appendChild(n)))}}function aS(e,n){nr.m(e,n);var s=za;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!zn.has(f)&&(e=S({rel:"modulepreload",href:e},n),zn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ml(f)))return}o=s.createElement("link"),Ke(o,"link",e),Se(o),s.head.appendChild(o)}}}function oS(e,n,s){nr.S(e,n,s);var o=za;if(o&&e){var h=mi(o).hoistableStyles,f=Ba(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(dl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=zn.get(f))&&vd(e,s);var I=g=o.createElement("link");Se(I),Ke(I,"link",e),I._p=new Promise(function(B,F){I.onload=B,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function lS(e,n){nr.X(e,n);var s=za;if(s&&e){var o=mi(s).hoistableScripts,h=ja(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=S({src:e,async:!0},n),(n=zn.get(h))&&Ed(e,n),f=s.createElement("script"),Se(f),Ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function uS(e,n){nr.M(e,n);var s=za;if(s&&e){var o=mi(s).hoistableScripts,h=ja(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=zn.get(h))&&Ed(e,n),f=s.createElement("script"),Se(f),Ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function y_(e,n,s,o){var h=(h=ft.current)?pc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ba(s.href),s=mi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ba(s.href);var f=mi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(dl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(e,s),f||cS(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(s),s=mi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ba(e){return'href="'+an(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function __(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function cS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ke(n,"link",s),Se(n),e.head.appendChild(n))}function ja(e){return'[src="'+an(e)+'"]'}function ml(e){return"script[async]"+e}function v_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+an(s.href)+'"]');if(o)return n.instance=o,Se(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),Ke(o,"style",h),gc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ba(s.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Se(f),f;o=__(s),(h=zn.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),Se(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Ke(f,"link",o),n.state.loading|=4,gc(f,s.precedence,e),n.instance=f;case"script":return f=ja(s.src),(h=e.querySelector(ml(f)))?(n.instance=h,Se(h),h):(o=s,(h=zn.get(f))&&(o=S({},s),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ke(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,s.precedence,e));return n.instance}function gc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function E_(e,n,s){if(yc===null){var o=new Map,h=yc=new Map;h.set(s,o)}else h=yc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[fi]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function T_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function hS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ba(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Se(f);return}f=n.ownerDocument||n,o=__(o),(h=zn.get(h))&&vd(o,h),f=f.createElement("link"),Se(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Ke(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=_c.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Td=0;function dS(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*KA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(mS,e),vc=null,_c.call(e))}function mS(e,n){if(!(n.state.loading&4)){var s=vc.get(e);if(s)var o=s.get(null);else{s=new Map,vc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var pl={$$typeof:yt,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function pS(e,n,s,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function S_(e,n,s,o,h,f,g,E,I,B,F,Y){return e=new pS(e,n,s,g,I,B,F,Y,E),n=1,f===!0&&(n|=24),f=En(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},rf(f),e}function b_(e){return e?(e=_a,e):_a}function w_(e,n,s,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ir(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Cr(e,o,n),s!==null&&(fn(s,e,n),Ko(s,e,n))}function R_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ad(e,n){R_(e,n),(e=e.alternate)&&R_(e,n)}function I_(e){if(e.tag===13||e.tag===31){var n=Ns(e,67108864);n!==null&&fn(n,e,67108864),Ad(e,67108864)}}function C_(e){if(e.tag===13||e.tag===31){var n=wn();n=_s(n);var s=Ns(e,n);s!==null&&fn(s,e,n),Ad(e,n)}}var Tc=!0;function gS(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,Sd(e,n,s,o)}finally{rt.p=f,G.T=h}}function yS(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,Sd(e,n,s,o)}finally{rt.p=f,G.T=h}}function Sd(e,n,s,o){if(Tc){var h=bd(o);if(h===null)ud(e,n,o,Ac,s),N_(e,o);else if(vS(h,e,n,s,o))o.stopPropagation();else if(N_(e,o),n&4&&-1<_S.indexOf(e)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=li(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-ge(g);E.entanglements[1]|=I,g&=~I}Ii(f),(Gt&6)===0&&(rc=Me()+500,ul(0))}}break;case 31:case 13:E=Ns(f,2),E!==null&&fn(E,f,2),ac(),Ad(f,2)}if(f=bd(o),f===null&&ud(e,n,o,Ac,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,s)}}function bd(e){return e=Dn(e),wd(e)}var Ac=null;function wd(e){if(Ac=null,e=di(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function D_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case ds:return 2;case ms:return 8;case fr:case Nh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Rd=!1,zr=null,Br=null,jr=null,gl=new Map,yl=new Map,qr=[],_S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(e,n){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&I_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function vS(e,n,s,o,h){switch(n){case"focusin":return zr=_l(zr,e,n,s,o,h),!0;case"dragenter":return Br=_l(Br,e,n,s,o,h),!0;case"mouseover":return jr=_l(jr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,_l(gl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,s,o,h)),!0}return!1}function O_(e){var n=di(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Gn(e.priority,function(){C_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Gn(e.priority,function(){C_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=bd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Oo=o,s.target.dispatchEvent(o),Oo=null}else return n=Cn(s),n!==null&&I_(n),e.blockedOn=s,!1;n.shift()}return!0}function V_(e,n,s){Sc(e)&&s.delete(n)}function ES(){Rd=!1,zr!==null&&Sc(zr)&&(zr=null),Br!==null&&Sc(Br)&&(Br=null),jr!==null&&Sc(jr)&&(jr=null),gl.forEach(V_),yl.forEach(V_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ES)))}var wc=null;function M_(e){wc!==e&&(wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||s)===null)continue;break}var f=Cn(s);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function qa(e){function n(I){return bc(I,e)}zr!==null&&bc(zr,e),Br!==null&&bc(Br,e),jr!==null&&bc(jr,e),gl.forEach(n),yl.forEach(n);for(var s=0;s<qr.length;s++){var o=qr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qr.length&&(s=qr[0],s.blockedOn===null);)O_(s),s.blockedOn===null&&qr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Pe]||null;if(typeof f=="function")g||M_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Pe]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),M_(s)}}}function U_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(e){this._internalRoot=e}Rc.prototype.render=Id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=wn();w_(s,o,e,n,null,null)},Rc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;w_(e.current,2,null,e,null,null),ac(),n[hi]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var s=0;s<qr.length&&n!==0&&n<qr[s].priority;s++);qr.splice(s,0,e),s===0&&O_(e)}};var L_=t.version;if(L_!=="19.2.3")throw Error(a(527,L_,"19.2.3"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var TS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{qn=Ic.inject(TS),qe=Ic}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=qg,f=Hg,g=Gg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=S_(e,1,!1,null,null,s,o,null,h,f,g,U_),e[hi]=n.current,ld(e),new Id(n)},El.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=qg,g=Hg,E=Gg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=S_(e,1,!0,n,s??null,o,h,I,f,g,E,U_),n.context=b_(null),s=n.current,o=wn(),o=_s(o),h=Ir(o),h.callback=null,Cr(s,h,o),s=o,n.current.lanes=s,gs(n,s),Ii(n),e[hi]=n.current,ld(e),new Rc(n)},El.version="19.2.3",El}var F_;function OS(){if(F_)return Nd.exports;F_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=NS(),Nd.exports}var VS=OS();const MS=()=>{};var Q_={};const wE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},US=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},RE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,Q=_&63;y||(Q=64,d||(V=64)),a.push(i[A],i[S],i[V],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(wE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):US(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new LS;const V=c<<2|p>>4;if(a.push(V),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),S!==64){const W=_<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class LS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kS=function(r){const t=wE(r);return RE.encodeByteArray(t,!0)},Fc=function(r){return kS(r).replace(/\./g,"")},IE=function(r){try{return RE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PS=()=>xS().__FIREBASE_DEFAULTS__,zS=()=>{if(typeof process>"u"||typeof Q_>"u")return;const r=Q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},BS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&IE(r[1]);return t&&JSON.parse(t)},ch=()=>{try{return MS()||PS()||zS()||BS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},CE=r=>ch()?.emulatorHosts?.[r],jS=r=>{const t=CE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},DE=()=>ch()?.config,NE=r=>ch()?.[`_${r}`];class qS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OE(r){return(await fetch(r,{credentials:"include"})).ok}function HS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Il={};function GS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?r.emulator.push(t):r.prod.push(t);return r}function FS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let K_=!1;function VE(r,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Il[r]===t||Il[r]||K_)return;Il[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=GS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,Q){V.setAttribute("width","24"),V.setAttribute("id",Q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{K_=!0,d()},V}function A(V,Q){V.setAttribute("id",Q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=FS(a),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),it=i("learnmore"),tt=document.getElementById(it)||document.createElement("a"),ct=i("preprendIcon"),gt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const yt=V.element;p(yt),A(tt,it);const Nt=_();y(gt,ct),yt.append(gt,W,tt,Nt),document.body.appendChild(yt)}c?(W.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function KS(){const r=ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZS(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function JS(){return!KS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WS(){try{return typeof indexedDB=="object"}catch{return!1}}function t1(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const e1="FirebaseError";class ur extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=e1,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?n1(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ur(l,p,a)}}function n1(r,t){return r.replace(i1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const i1=/\{\$([^}]+)}/g;function r1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ks(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(Y_(c)&&Y_(d)){if(!Ks(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Y_(r){return r!==null&&typeof r=="object"}function Gl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Tl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Al(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function s1(r,t){const i=new a1(r,t);return i.subscribe.bind(i)}class a1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");o1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o1(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function ke(r){return r&&r._delegate?r._delegate:r}class Ys{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Hs="[DEFAULT]";class l1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new qS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(c1(t))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Hs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hs){return this.instances.has(t)}getOptions(t=Hs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:u1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Hs){return this.component?this.component.multipleInstances?t:Hs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u1(r){return r===Hs?void 0:r}function c1(r){return r.instantiationMode==="EAGER"}class h1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new l1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const f1={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},d1=Mt.INFO,m1={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},p1=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=m1[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Am{constructor(t){this.name=t,this._logLevel=d1,this._logHandler=p1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?f1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const g1=(r,t)=>t.some(i=>r instanceof i);let X_,$_;function y1(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _1(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ME=new WeakMap,Xd=new WeakMap,UE=new WeakMap,Ld=new WeakMap,Sm=new WeakMap;function v1(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Zr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&ME.set(i,r)}).catch(()=>{}),Sm.set(t,r),t}function E1(r){if(Xd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,t)}let $d={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||UE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function T1(r){$d=r($d)}function A1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(kd(this),t,...i);return UE.set(a,t.sort?t.sort():[t]),Zr(a)}:_1().includes(r)?function(...t){return r.apply(kd(this),t),Zr(ME.get(this))}:function(...t){return Zr(r.apply(kd(this),t))}}function S1(r){return typeof r=="function"?A1(r):(r instanceof IDBTransaction&&E1(r),g1(r,y1())?new Proxy(r,$d):r)}function Zr(r){if(r instanceof IDBRequest)return v1(r);if(Ld.has(r))return Ld.get(r);const t=S1(r);return t!==r&&(Ld.set(r,t),Sm.set(t,r)),t}const kd=r=>Sm.get(r);function b1(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Zr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Zr(d.result),y.oldVersion,y.newVersion,Zr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const w1=["get","getKey","getAll","getAllKeys","count"],R1=["put","add","delete","clear"],xd=new Map;function Z_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(xd.get(t))return xd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=R1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||w1.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return xd.set(t,c),c}T1(r=>({...r,get:(t,i,a)=>Z_(t,i)||r.get(t,i,a),has:(t,i)=>!!Z_(t,i)||r.has(t,i)}));class I1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(C1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function C1(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",J_="0.14.6";const sr=new Am("@firebase/app"),D1="@firebase/app-compat",N1="@firebase/analytics-compat",O1="@firebase/analytics",V1="@firebase/app-check-compat",M1="@firebase/app-check",U1="@firebase/auth",L1="@firebase/auth-compat",k1="@firebase/database",x1="@firebase/data-connect",P1="@firebase/database-compat",z1="@firebase/functions",B1="@firebase/functions-compat",j1="@firebase/installations",q1="@firebase/installations-compat",H1="@firebase/messaging",G1="@firebase/messaging-compat",F1="@firebase/performance",Q1="@firebase/performance-compat",K1="@firebase/remote-config",Y1="@firebase/remote-config-compat",X1="@firebase/storage",$1="@firebase/storage-compat",Z1="@firebase/firestore",J1="@firebase/ai",W1="@firebase/firestore-compat",tb="firebase",eb="12.6.0";const Jd="[DEFAULT]",nb={[Zd]:"fire-core",[D1]:"fire-core-compat",[O1]:"fire-analytics",[N1]:"fire-analytics-compat",[M1]:"fire-app-check",[V1]:"fire-app-check-compat",[U1]:"fire-auth",[L1]:"fire-auth-compat",[k1]:"fire-rtdb",[x1]:"fire-data-connect",[P1]:"fire-rtdb-compat",[z1]:"fire-fn",[B1]:"fire-fn-compat",[j1]:"fire-iid",[q1]:"fire-iid-compat",[H1]:"fire-fcm",[G1]:"fire-fcm-compat",[F1]:"fire-perf",[Q1]:"fire-perf-compat",[K1]:"fire-rc",[Y1]:"fire-rc-compat",[X1]:"fire-gcs",[$1]:"fire-gcs-compat",[Z1]:"fire-fst",[W1]:"fire-fst-compat",[J1]:"fire-vertex","fire-js":"fire-js",[tb]:"fire-js-all"};const Qc=new Map,ib=new Map,Wd=new Map;function W_(r,t){try{r.container.addComponent(t)}catch(i){sr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function to(r){const t=r.name;if(Wd.has(t))return sr.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,r);for(const i of Qc.values())W_(i,r);for(const i of ib.values())W_(i,r);return!0}function bm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ti(r){return r==null?!1:r.settings!==void 0}const rb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new Hl("app","Firebase",rb);class sb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const co=eb;function LE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Jr.create("bad-app-name",{appName:String(l)});if(i||(i=DE()),!i)throw Jr.create("no-options");const c=Qc.get(l);if(c){if(Ks(i,c.options)&&Ks(a,c.config))return c;throw Jr.create("duplicate-app",{appName:l})}const d=new h1(l);for(const y of Wd.values())d.addComponent(y);const p=new sb(i,a,d);return Qc.set(l,p),p}function kE(r=Jd){const t=Qc.get(r);if(!t&&r===Jd&&DE())return LE();if(!t)throw Jr.create("no-app",{appName:r});return t}function Wr(r,t,i){let a=nb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),sr.warn(d.join(" "));return}to(new Ys(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const ab="firebase-heartbeat-database",ob=1,Ml="firebase-heartbeat-store";let Pd=null;function xE(){return Pd||(Pd=b1(ab,ob,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(r=>{throw Jr.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function lb(r){try{const i=(await xE()).transaction(Ml),a=await i.objectStore(Ml).get(PE(r));return await i.done,a}catch(t){if(t instanceof ur)sr.warn(t.message);else{const i=Jr.create("idb-get",{originalErrorMessage:t?.message});sr.warn(i.message)}}}async function tv(r,t){try{const a=(await xE()).transaction(Ml,"readwrite");await a.objectStore(Ml).put(t,PE(r)),await a.done}catch(i){if(i instanceof ur)sr.warn(i.message);else{const a=Jr.create("idb-set",{originalErrorMessage:i?.message});sr.warn(a.message)}}}function PE(r){return`${r.name}!${r.options.appId}`}const ub=1024,cb=30;class hb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new db(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ev();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>cb){const l=mb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){sr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ev(),{heartbeatsToSend:i,unsentEntries:a}=fb(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return sr.warn(t),""}}}function ev(){return new Date().toISOString().substring(0,10)}function fb(r,t=ub){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),nv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),nv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class db{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WS()?t1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function nv(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function mb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function pb(r){to(new Ys("platform-logger",t=>new I1(t),"PRIVATE")),to(new Ys("heartbeat",t=>new hb(t),"PRIVATE")),Wr(Zd,J_,r),Wr(Zd,J_,"esm2020"),Wr("fire-js","")}pb("");var gb="firebase",yb="12.7.0";Wr(gb,yb,"app");var iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ts,zE;(function(){var r;function t(D,b){function C(){}C.prototype=b.prototype,D.F=b.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(M,N,k){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return b.prototype[N].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,b,C){C||(C=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(N=0;N<16;++N)M[N]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=D.g[0],C=D.g[1],N=D.g[2];let k=D.g[3],R;R=b+(k^C&(N^k))+M[0]+3614090360&4294967295,b=C+(R<<7&4294967295|R>>>25),R=k+(N^b&(C^N))+M[1]+3905402710&4294967295,k=b+(R<<12&4294967295|R>>>20),R=N+(C^k&(b^C))+M[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(b^N&(k^b))+M[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(k^C&(N^k))+M[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=k+(N^b&(C^N))+M[5]+1200080426&4294967295,k=b+(R<<12&4294967295|R>>>20),R=N+(C^k&(b^C))+M[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(b^N&(k^b))+M[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(k^C&(N^k))+M[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=k+(N^b&(C^N))+M[9]+2336552879&4294967295,k=b+(R<<12&4294967295|R>>>20),R=N+(C^k&(b^C))+M[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(b^N&(k^b))+M[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(k^C&(N^k))+M[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=k+(N^b&(C^N))+M[13]+4254626195&4294967295,k=b+(R<<12&4294967295|R>>>20),R=N+(C^k&(b^C))+M[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(b^N&(k^b))+M[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(N^k&(C^N))+M[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(b^C))+M[6]+3225465664&4294967295,k=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(k^b))+M[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^b&(N^k))+M[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(N^k&(C^N))+M[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(b^C))+M[10]+38016083&4294967295,k=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(k^b))+M[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^b&(N^k))+M[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(N^k&(C^N))+M[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(b^C))+M[14]+3275163606&4294967295,k=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(k^b))+M[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^b&(N^k))+M[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(N^k&(C^N))+M[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(b^C))+M[2]+4243563512&4294967295,k=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(k^b))+M[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^b&(N^k))+M[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(C^N^k)+M[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=k+(b^C^N)+M[8]+2272392833&4294967295,k=b+(R<<11&4294967295|R>>>21),R=N+(k^b^C)+M[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^b)+M[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(C^N^k)+M[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=k+(b^C^N)+M[4]+1272893353&4294967295,k=b+(R<<11&4294967295|R>>>21),R=N+(k^b^C)+M[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^b)+M[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(C^N^k)+M[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=k+(b^C^N)+M[0]+3936430074&4294967295,k=b+(R<<11&4294967295|R>>>21),R=N+(k^b^C)+M[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^b)+M[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(C^N^k)+M[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=k+(b^C^N)+M[12]+3873151461&4294967295,k=b+(R<<11&4294967295|R>>>21),R=N+(k^b^C)+M[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^b)+M[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(N^(C|~k))+M[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=k+(C^(b|~N))+M[7]+1126891415&4294967295,k=b+(R<<10&4294967295|R>>>22),R=N+(b^(k|~C))+M[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~b))+M[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=b+(N^(C|~k))+M[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=k+(C^(b|~N))+M[3]+2399980690&4294967295,k=b+(R<<10&4294967295|R>>>22),R=N+(b^(k|~C))+M[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~b))+M[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=b+(N^(C|~k))+M[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=k+(C^(b|~N))+M[15]+4264355552&4294967295,k=b+(R<<10&4294967295|R>>>22),R=N+(b^(k|~C))+M[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~b))+M[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=b+(N^(C|~k))+M[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=k+(C^(b|~N))+M[11]+3174756917&4294967295,k=b+(R<<10&4294967295|R>>>22),R=N+(b^(k|~C))+M[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~b))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+k&4294967295}a.prototype.v=function(D,b){b===void 0&&(b=D.length);const C=b-this.blockSize,M=this.C;let N=this.h,k=0;for(;k<b;){if(N==0)for(;k<=C;)l(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<b;)if(M[N++]=D.charCodeAt(k++),N==this.blockSize){l(this,M),N=0;break}}else for(;k<b;)if(M[N++]=D[k++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=b},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)D[b++]=this.g[C]>>>M&255;return D};function c(D,b){var C=p;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=b(D)}function d(D,b){this.h=b;const C=[];let M=!0;for(let N=D.length-1;N>=0;N--){const k=D[N]|0;M&&k==b||(C[N]=k,M=!1)}this.g=C}var p={};function y(D){return-128<=D&&D<128?c(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return tt(_(-D));const b=[];let C=1;for(let M=0;D>=C;M++)b[M]=D/C|0,C*=4294967296;return new d(b,0)}function A(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return tt(A(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(b,8));let M=S;for(let k=0;k<D.length;k+=8){var N=Math.min(8,D.length-k);const R=parseInt(D.substring(k,k+N),b);N<8?(N=_(Math.pow(b,N)),M=M.j(N).add(_(R))):(M=M.j(C),M=M.add(_(R)))}return M}var S=y(0),V=y(1),Q=y(16777216);r=d.prototype,r.m=function(){if(it(this))return-tt(this).m();let D=0,b=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);D+=(M>=0?M:4294967296+M)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(W(this))return"0";if(it(this))return"-"+tt(this).toString(D);const b=_(Math.pow(D,6));var C=this;let M="";for(;;){const N=Nt(C,b).g;C=ct(C,N.j(b));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=N,W(C))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function W(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function it(D){return D.h==-1}r.l=function(D){return D=ct(this,D),it(D)?-1:W(D)?0:1};function tt(D){const b=D.g.length,C=[];for(let M=0;M<b;M++)C[M]=~D.g[M];return new d(C,~D.h).add(V)}r.abs=function(){return it(this)?tt(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),C=[];let M=0;for(let N=0;N<=b;N++){let k=M+(this.i(N)&65535)+(D.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);M=R>>>16,k&=65535,R&=65535,C[N]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ct(D,b){return D.add(tt(b))}r.j=function(D){if(W(this)||W(D))return S;if(it(this))return it(D)?tt(this).j(tt(D)):tt(tt(this).j(D));if(it(D))return tt(this.j(tt(D)));if(this.l(Q)<0&&D.l(Q)<0)return _(this.m()*D.m());const b=this.g.length+D.g.length,C=[];for(var M=0;M<2*b;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<D.g.length;N++){const k=this.i(M)>>>16,R=this.i(M)&65535,ie=D.i(N)>>>16,me=D.i(N)&65535;C[2*M+2*N]+=R*me,gt(C,2*M+2*N),C[2*M+2*N+1]+=k*me,gt(C,2*M+2*N+1),C[2*M+2*N+1]+=R*ie,gt(C,2*M+2*N+1),C[2*M+2*N+2]+=k*ie,gt(C,2*M+2*N+2)}for(D=0;D<b;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=b;D<2*b;D++)C[D]=0;return new d(C,0)};function gt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function yt(D,b){this.g=D,this.h=b}function Nt(D,b){if(W(b))throw Error("division by zero");if(W(D))return new yt(S,S);if(it(D))return b=Nt(tt(D),b),new yt(tt(b.g),tt(b.h));if(it(b))return b=Nt(D,tt(b)),new yt(tt(b.g),b.h);if(D.g.length>30){if(it(D)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var C=V,M=b;M.l(D)<=0;)C=te(C),M=te(M);var N=kt(C,1),k=kt(M,1);for(M=kt(M,2),C=kt(C,2);!W(M);){var R=k.add(M);R.l(D)<=0&&(N=N.add(C),k=R),M=kt(M,1),C=kt(C,1)}return b=ct(D,N.j(b)),new yt(N,b)}for(N=S;D.l(b)>=0;){for(C=Math.max(1,Math.floor(D.m()/b.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(C),R=k.j(b);it(R)||R.l(D)>0;)C-=M,k=_(C),R=k.j(b);W(k)&&(k=V),N=N.add(k),D=ct(D,R)}return new yt(N,D)}r.B=function(D){return Nt(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)&D.i(M);return new d(C,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)|D.i(M);return new d(C,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)^D.i(M);return new d(C,this.h^D.h)};function te(D){const b=D.g.length+1,C=[];for(let M=0;M<b;M++)C[M]=D.i(M)<<1|D.i(M-1)>>>31;return new d(C,D.h)}function kt(D,b){const C=b>>5;b%=32;const M=D.g.length-C,N=[];for(let k=0;k<M;k++)N[k]=b>0?D.i(k+C)>>>b|D.i(k+C+1)<<32-b:D.i(k+C);return new d(N,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,zE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,ts=d}).apply(typeof iv<"u"?iv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var BE,Sl,jE,Lc,tm,qE,HE,GE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var nt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)nt[wt-2]=arguments[wt];return m.prototype[P].apply(T,nt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let nt=0;nt<q;nt++)u[v+nt]=P[nt]}else u.push(P)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,v){const T=yt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new it(()=>new Nt,u=>u.reset());class Nt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,kt=!1,D=new gt,b=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(C)}};function C(){for(var u;u=ct();){try{u.h.call(u.g)}catch(v){tt(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,N),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function L(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function et(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function w(u){const m={};for(const v in u)m[v]=u[v];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<x.length;q++)v=x[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function J(u){this.src=u,this.g={},this.h=0}J.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=ft(u,m,T,P);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new rt(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function at(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(L(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ft(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var _t="closure_lm_"+(Math.random()*1e6|0),Ft={};function zt(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)zt(u,m[q],v,T,P);return null}return v=cr(v),u&&u[me]?u.J(m,v,p(T)?!!T.capture:!1,P):ee(u,m,v,!1,T,P)}function ee(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const nt=p(P)?!!P.capture:!!P;let wt=sn(u);if(wt||(u[_t]=wt=new J(u)),v=wt.add(m,v,T,nt,q),v.proxy)return v;if(T=xe(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(P=nt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function xe(){function u(v){return m.call(u.src,u.listener,v)}const m=gn;return u}function ki(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)ki(u,m[q],v,T,P);else T=p(T)?!!T.capture:!!T,v=cr(v),u&&u[me]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=ft(m,v,T,P),v>-1&&(L(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=sn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ft(m,v,T,P)),(v=u>-1?m[u]:null)&&Bt(v))}function Bt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])at(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(jn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=sn(m))?(at(v,u),v.h==0&&(v.src=null,m[_t]=null)):L(u)}}}function jn(u){return u in Ft?Ft[u]:Ft[u]="on"+u}function gn(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Bt(u),u=v.call(T,m)}return u}function sn(u){return u=u[_t],u instanceof J?u:null}var si="__closure_events_fn_"+(Math.random()*1e9>>>0);function cr(u){return typeof u=="function"?u:(u[si]||(u[si]=function(m){return u.handleEvent(m)}),u[si])}function le(){M.call(this),this.i=new J(this),this.M=this,this.G=null}S(le,M),le.prototype[me]=!0,le.prototype.removeEventListener=function(u,m,v,T){ki(this,u,m,v,T)};function pe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(T,u),Z(m,P)}P=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],P=ai(q,T,!0,m)&&P;if(q=m.g=u,P=ai(q,T,!0,m)&&P,P=ai(q,T,!1,m)&&P,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],P=ai(q,T,!1,m)&&P}le.prototype.N=function(){if(le.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)L(v[T]);delete u.g[m],u.h--}}this.G=null},le.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},le.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ai(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const wt=nt.listener,ye=nt.ha||nt.src;nt.fa&&at(u.i,nt),P=wt.call(ye,T)!==!1&&P}}return P&&!T.defaultPrevented}function vo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function xi(u){u.g=vo(()=>{u.g=null,u.i&&(u.i=!1,xi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Me extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(u){M.call(this),this.h=u,this.g={}}S(hr,M);var ds=[];function ms(u){et(u.g,function(m,v){this.g.hasOwnProperty(v)&&Bt(m)},u),u.g={}}hr.prototype.N=function(){hr.Z.N.call(this),ms(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=d.JSON.stringify,Nh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){N.call(this,"d")}S(qe,N);function In(){N.call(this,"c")}S(In,N);var ge={},iu=null;function na(){return iu=iu||new le}ge.Ia="serverreachability";function ru(u){N.call(this,ge.Ia,u)}S(ru,N);function oi(u){const m=na();pe(m,new ru(m))}ge.STAT_EVENT="statevent";function ps(u,m){N.call(this,ge.STAT_EVENT,u),this.stat=m}S(ps,N);function Te(u){const m=na();pe(m,new ps(m,u))}ge.Ja="timingevent";function li(u,m){N.call(this,ge.Ja,u),this.size=m}S(li,N);function ui(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var nt="",wt=q.split("&");for(let Ht=0;Ht<wt.length;Ht++){var ye=wt[Ht].split("=");if(ye.length>1){const ue=ye[0];ye=ye[1];const On=ue.split("_");nt=On.length>=2&&On[1]=="type"?nt+(ue+"="+ye+"&"):nt+(ue+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+nt})}function su(u,m,v,T,P,q,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+nt})}function ci(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(T?" "+T:"")})}function gs(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return fr(q)}catch{return m}}var ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function _s(){}S(_s,eu),_s.prototype.g=function(){return new XMLHttpRequest},To=new _s;function Pi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Gn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Ae={},Pe={};function hi(u,m,v){u.M=1,u.A=vs(be(m)),u.u=v,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),fi(u),u.B=be(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),oa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Fn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Me(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(ds[0]=P.toString()),P=ds);for(let q=0;q<P.length;q++){const nt=zt(v,P[q],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?w(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}Gn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Yn(this.g),ye=this.g.ya(),Ht=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||wt!=4||ye==7||(ye==8||Ht<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,Te(12),yn(this),Cn(this);break t}}if(this.R){u=!0;let ue;for(;!this.K&&this.C<v.length;)if(ue=lu(this,v),ue==Pe){wt==4&&(this.m=4,Te(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Ae){this.m=4,Te(15),ci(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,ue,null),mi(this,ue);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(nt),nt.P=!0,Te(11))}}else ci(this.i,this.l,v,null),mi(this,v);wt==4&&yn(this),this.o&&!this.K&&(wt==4?yu(this.j,this):(this.o=!1,fi(this)))}else Bi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),yn(this),Cn(this)}}}catch{}};function Mh(u){if(!ou(u))return u.g.la();const m=He(u.g);if(m==="")return"";let v="";const T=m.length,P=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Pe:(v=Number(m.substring(v,T)),isNaN(v)?Ae:(T+=1,T+v>m.length?Pe:(m=m.slice(T,T+v),u.C=T+v,m)))}Gn.prototype.cancel=function(){this.K=!0,yn(this)};function fi(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ui(_(u.aa,u),m)}function di(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gs(this.i,this.B),this.M!=2&&(oi(),Te(17)),yn(this),this.m=2,Cn(this)):ra(this,this.T-u)};function Cn(u){u.j.I==0||u.K||yu(u.j,u)}function yn(u){di(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ms(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function mi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||gi(v.h,u))){if(!u.L&&gi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fa(v),Er(v);else break t;Rs(v),Te(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(_(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((u.L||v.g==u)&&fa(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Ht=P[m];const ue=Ht[0];if(!(ue<=v.K))if(v.K=ue,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const On=Ht[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const Si=Ht[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Xn=Ht[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(T=1.5*Xn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const $n=u.g;if($n){const Is=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var q=T.h;q.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(bo(q,q.h),q.h=null))}if(T.G){const da=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(T.wa=da,Kt(T.J,T.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var nt=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),nt.L){wo(T.h,nt);var wt=nt,ye=T.O;ye&&(wt.H=ye),wt.D&&(di(wt),fi(wt)),T.g=nt}else pu(T);v.i.length>0&&Ti(v)}else Ht[0]!="stop"&&Ht[0]!="close"||Ai(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Ai(v,7):Uo(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}oi(4)}catch{}}var Se=class{constructor(u,m){this.g=u,this.map=m}};function Ao(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function gi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function bo(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof _n?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,dr(this,u.u),this.h=u.h,Io(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,ze(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),dr(this,m[4]),this.h=yi(m[5]||"",!0),Io(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new pr(null,this.l))}_n.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Es(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Es(m,aa,!0),"@"),u.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Es(v,v.charAt(0)=="/"?Co:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Es(v,hu)),u.join("")},_n.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)dr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let nt=0;nt<P.length;){const wt=P[nt++];wt=="."?T&&nt==P.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&nt==P.length&&q.push("")):(q.push(wt),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Io(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new _n(u)}function ze(u,m,v){u.j=v?yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function dr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Io(u,m,v){m instanceof pr?(u.i=m,la(u.i,u.l)):(v||(m=Es(m,mr)),u.i=new pr(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function vs(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Es(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,an),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,cu=/[#\?:]/g,Co=/[#\?]/g,mr=/[#\?@]/g,hu=/#/g;function pr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=pr.prototype,r.add=function(u,m){on(this),this.i=null,u=gr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){on(u),m=gr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Do(u,m){return on(u),m=gr(u,m),u.g.has(m)}r.forEach=function(u,m){on(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function No(u,m){on(u);let v=[];if(typeof m=="string")Do(u,m)&&(v=v.concat(u.g.get(gr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return on(this),this.i=null,u=gr(this,u),Do(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function oa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(gr(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Pi(v);v=No(this,v);for(let q=0;q<v.length;q++){let nt=P;v[q]!==""&&(nt+="="+Pi(v[q])),u.push(nt)}}return this.i=u.join("&")};function du(u){const m=new pr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function gr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(on(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(fu(this,T),oa(this,P,v))},u)),u.j=m}function Qn(u,m){const v=new Hn;if(d.Image){const T=new Image;T.onload=A(Dn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Dn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Dn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Dn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Oo(u,m){const v=new Hn,T=new AbortController,P=setTimeout(()=>{T.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Dn(v,"TestPingServer: error",!1,m)})}function Dn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function yr(){this.g=new tu}function _i(u){this.i=u.Sb||null,this.h=u.ab||!1}S(_i,eu),_i.prototype.g=function(){return new Ts(this.i,this.h)};function Ts(u,m){le.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ts,le),r=Ts.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?_r(this):Kn(this),this.readyState==3&&ua(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,_r(this))},r.Na=function(u){this.g&&(this.response=u,_r(this))},r.ga=function(){this.g&&_r(this)};function _r(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let m="";return et(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function As(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Nn(v),typeof u=="string"?v!=null&&Pi(v):Kt(u,m,v))}function $t(u){le.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($t,le);var vi=/^https?$/i,Vo=["POST","PUT"];r=$t.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ss(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ss(this,q)}};function Ss(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),zi(u)}function Mo(u){u.A||(u.A=!0,pe(u,"complete"),pe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,pe(this,"complete"),pe(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?bs(this):this.Xa())},r.Xa=function(){bs(this)};function bs(u){if(u.h&&typeof c<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(pe(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let nt=String(u.D).match(uu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!vi.test(nt?nt.toLowerCase():"")}v=T}if(v)pe(u,"complete"),pe(u,"success");else{u.o=6;try{var P=Yn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Mo(u)}}finally{zi(u)}}}}function zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||pe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function He(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=au(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function vr(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(u&&u.concurrentRequestLimit),this.Ba=new yr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=vr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Te(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Ti(this)};function Uo(u){if(ca(u),u.I==3){var m=u.V++,v=be(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),ws(u,v),m=new Gn(u,u.j,m),m.M=2,m.A=vs(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}vu(u)}function Er(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ca(u){Er(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||b(),kt||(te(),kt=!0),D.add(m,u),u.D=0}}function ha(u,m){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ui(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Gn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=w(q),Z(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,P,m),v=be(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),ws(this,v),q&&(this.R?m="headers="+Pi(Nn(q))+"&"+m:this.u&&As(v,this.u,q)),bo(this.h,P),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),P.U=!0,hi(P,v,null)):hi(P,v,m),this.I=2}}else this.I==3&&(u?Lo(this,u):this.i.length==0||So(this.h)||Lo(this))};function Lo(u,m){var v;m?v=m.l:v=u.V++;const T=be(u.J);Kt(T,"SID",u.M),Kt(T,"RID",v),Kt(T,"AID",u.K),ws(u,T),u.u&&u.o&&As(T,u.u,u.o),v=new Gn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),bo(u.h,v),hi(v,T,m)}function ws(u,m){u.H&&et(u.H,function(v,T){Kt(m,T,v)}),u.l&&et({},function(v,T){Kt(m,T,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let wt=-1;for(;;){const ye=["count="+v];wt==-1?v>0?(wt=P[0].g,ye.push("ofs="+wt)):wt=0:ye.push("ofs="+wt);let Ht=!0;for(let ue=0;ue<v;ue++){var q=P[ue].g;const On=P[ue].map;if(q-=wt,q<0)wt=Math.max(0,P[ue].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var nt=On instanceof Map?On:Object.entries(On);for(const[Si,Xn]of nt){let $n=Xn;p(Xn)&&($n=fr(Xn)),ye.push(q+Si+"="+encodeURIComponent($n))}}catch(Si){throw ye.push(q+"type="+encodeURIComponent("_badmap")),Si}}catch{T&&T(On)}}if(Ht){nt=ye.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||b(),kt||(te(),kt=!0),D.add(m,u),u.A=0}}function Rs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ui(_(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ui(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Er(this),gu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),ws(u,m),u.u&&u.o&&As(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=vs(be(m)),v.u=null,v.R=!0,ia(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Er(this),Rs(this),Te(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){fa(u),ko(u),u.g=null;var T=2}else if(gi(u.h,m))v=m.G,wo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=na(),pe(T,new li(T,v)),Ti(u)}else pu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ha(u,m)||T==2&&Rs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new _n(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),vs(T),P?Qn(T.toString(),v):Oo(T.toString(),v)}else Te(2);u.I=0,u.l&&u.l.pa(m),vu(u),ca(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof _n?be(v):new _n(v);if(T.g!="")m&&(T.g=m+"."+T.g),dr(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new _n(null);T&&ze(q,T),m&&(q.g=m),P&&dr(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Kt(T,v,m),Kt(T,"VER",u.ka),ws(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new _i({ab:v})):new $t(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Tr(){}Tr.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){le.call(this),this.g=new vr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ji(this)}S(nn,le),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Uo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=fr(u),u=v);m.i.push(new Se(m.Ya++,u)),m.I==3&&Ti(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,nn.Z.N.call(this)};function Su(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Su,qe);function bu(){In.call(this),this.status=1}S(bu,In);function ji(u){this.g=u}S(ji,Au),ji.prototype.ra=function(){pe(this.g,"a")},ji.prototype.qa=function(u){pe(this.g,new Su(u))},ji.prototype.pa=function(u){pe(this.g,new bu)},ji.prototype.oa=function(){pe(this.g,"b")},Tr.prototype.createWebChannel=Tr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,GE=function(){return new Tr},HE=function(){return na()},qE=ge,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,Lc=ys,Eo.COMPLETE="complete",jE=Eo,nu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",le.prototype.listen=le.prototype.J,Sl=nu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,BE=$t}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const rv="@firebase/firestore",sv="4.9.3";class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let ho="12.7.0";const Xs=new Am("@firebase/firestore");function Ha(){return Xs.logLevel}function ot(r,...t){if(Xs.logLevel<=Mt.DEBUG){const i=t.map(wm);Xs.debug(`Firestore (${ho}): ${r}`,...i)}}function ar(r,...t){if(Xs.logLevel<=Mt.ERROR){const i=t.map(wm);Xs.error(`Firestore (${ho}): ${r}`,...i)}}function eo(r,...t){if(Xs.logLevel<=Mt.WARN){const i=t.map(wm);Xs.warn(`Firestore (${ho}): ${r}`,...i)}}function wm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Tt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,FE(r,a,i)}function FE(r,t,i){let a=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ar(a),new Error(a)}function Qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||FE(t,l,a)}function bt(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ur{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class QE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _b{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(We.UNAUTHENTICATED)))}shutdown(){}}class vb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Eb{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new QE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class Tb{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ab{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Tb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=bb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ut(r,t){return r<t?-1:r>t?1:0}function em(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return zd(l)===zd(c)?Ut(l,c):zd(l)?1:-1}return Ut(r.length,t.length)}const wb=55296,Rb=57343;function zd(r){const t=r.charCodeAt(0);return t>=wb&&t<=Rb}function no(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const ov="__name__";class Ci{constructor(t,i,a){i===void 0?i=0:i>t.length&&Tt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Tt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ci.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Ci.isNumericId(t),l=Ci.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ts.fromString(t.substring(4,t.length-2))}}class re extends Ci{construct(t,i,a){return new re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new st(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const Ib=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ci{construct(t,i,a){return new Xe(t,i,a)}static isValidIdentifier(t){return Ib.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ov}static keyField(){return new Xe([ov])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new st(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new st(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new st(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(i)}static emptyPath(){return new Xe([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(re.fromString(t))}static fromName(t){return new pt(re.fromString(t).popFirst(5))}static empty(){return new pt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new re(t.slice()))}}function KE(r,t,i){if(!i)throw new st(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Cb(r,t,i,a){if(t===!0&&a===!0)throw new st(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function lv(r){if(!pt.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function uv(r){if(pt.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function YE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function hh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function es(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hh(r);throw new st(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Oe(r,t){const i={typeString:r};return t&&(i.value=t),i}function Fl(r,t){if(!YE(r))throw new st(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new st(X.INVALID_ARGUMENT,i);return!0}const cv=-62135596800,hv=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*hv);return new oe(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<cv)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Oe("string",oe._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new oe(0,0))}static max(){return new At(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function Db(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new oe(i+1,0):new oe(i,a));return new rs(l,pt.empty(),t)}function Nb(r){return new rs(r.readTime,r.key,Ul)}class rs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new rs(At.min(),pt.empty(),Ul)}static max(){return new rs(At.max(),pt.empty(),Ul)}}function Ob(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:Ut(r.largestBatchId,t.largestBatchId))}const Vb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==Vb)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Ub(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const Im=-1;function dh(r){return r==null}function Kc(r){return r===0&&1/r==-1/0}function Lb(r){return typeof r=="number"&&Number.isInteger(r)&&!Kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const XE="";function kb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=fv(t)),t=xb(r.get(i),t);return fv(t)}function xb(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case XE:i+="";break;default:i+=c}}return i}function fv(r){return r+XE+""}function dv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function cs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function $E(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class he{constructor(t,i){this.comparator=t,this.root=i||Ye.EMPTY}insert(t,i){return new he(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ye.RED,this.left=l??Ye.EMPTY,this.right=c??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ye(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ye.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ye(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(t){return new mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Le(this.comparator);return i.data=t,i}}class mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new Rn([])}unionWith(t){let i=new Le(Xe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Rn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class ZE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ZE("Invalid base64 string: "+c):c}})(t);return new $e(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new $e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const Pb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=Pb.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?$e.fromBase64String(r):$e.fromUint8Array(r)}const JE="server_timestamp",WE="__type__",tT="__previous_value__",eT="__local_write_time__";function Cm(r){return(r?.mapValue?.fields||{})[WE]?.stringValue===JE}function mh(r){const t=r.mapValue.fields[tT];return Cm(t)?mh(t):t}function Ll(r){const t=ss(r.mapValue.fields[eT].timestampValue);return new oe(t.seconds,t.nanos)}class zb{constructor(t,i,a,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Yc="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||Yc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}const nT="__type__",Bb="__max__",Nc={mapValue:{}},iT="__vector__",Xc="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cm(r)?4:qb(r)?9007199254740991:jb(r)?10:11:Tt(28295,{value:r})}function Li(r,t){if(r===t)return!0;const i=os(r);if(i!==os(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ll(r).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ss(l.timestampValue),p=ss(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return as(l.bytesValue).isEqual(as(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ee(l.geoPointValue.latitude)===Ee(c.geoPointValue.latitude)&&Ee(l.geoPointValue.longitude)===Ee(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ee(l.integerValue)===Ee(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ee(l.doubleValue),p=Ee(c.doubleValue);return d===p?Kc(d)===Kc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return no(r.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(dv(d)!==dv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Li(d[y],p[y])))return!1;return!0})(r,t);default:return Tt(52216,{left:r})}}function xl(r,t){return(r.values||[]).find((i=>Li(i,t)))!==void 0}function io(r,t){if(r===t)return 0;const i=os(r),a=os(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ee(c.integerValue||c.doubleValue),y=Ee(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return pv(r.timestampValue,t.timestampValue);case 4:return pv(Ll(r),Ll(t));case 5:return em(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=as(c),y=as(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Ut(p[_],y[_]);if(A!==0)return A}return Ut(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(Ee(c.latitude),Ee(d.latitude));return p!==0?p:Ut(Ee(c.longitude),Ee(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return gv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Xc]?.arrayValue,A=y[Xc]?.arrayValue,S=Ut(_?.values?.length||0,A?.values?.length||0);return S!==0?S:gv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const V=em(y[S],A[S]);if(V!==0)return V;const Q=io(p[y[S]],_[A[S]]);if(Q!==0)return Q}return Ut(y.length,A.length)})(r.mapValue,t.mapValue);default:throw Tt(23264,{he:i})}}function pv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const i=ss(r),a=ss(t),l=Ut(i.seconds,a.seconds);return l!==0?l:Ut(i.nanos,a.nanos)}function gv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=io(i[l],a[l]);if(c)return c}return Ut(i.length,a.length)}function ro(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ss(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return as(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=nm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${nm(i.fields[d])}`;return l+"}"})(r.mapValue):Tt(61005,{value:r})}function kc(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+kc(t):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return cs(a.fields,((c,d)=>{l+=c.length+kc(d)})),l})(r.mapValue);default:throw Tt(13486,{value:r})}}function yv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function im(r){return!!r&&"integerValue"in r}function Dm(r){return!!r&&"arrayValue"in r}function _v(r){return!!r&&"nullValue"in r}function vv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xc(r){return!!r&&"mapValue"in r}function jb(r){return(r?.mapValue?.fields||{})[nT]?.stringValue===iT}function Cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return cs(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Cl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(r.arrayValue.values[i]);return t}return{...r}}function qb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Bb}class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=Xe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Cl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){cs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new pn(Cl(this.value))}}function rT(r){const t=[];return cs(r.fields,((i,a)=>{const l=new Xe([i]);if(xc(a)){const c=rT(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Rn(t)}class tn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new tn(t,0,At.min(),At.min(),At.min(),pn.empty(),0)}static newFoundDocument(t,i,a,l){return new tn(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new tn(t,2,i,At.min(),At.min(),pn.empty(),0)}static newUnknownDocument(t,i){return new tn(t,3,i,At.min(),At.min(),pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(t,i){this.position=t,this.inclusive=i}}function Ev(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=io(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Tv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Li(r.position[i],t.position[i]))return!1;return!0}class Pl{constructor(t,i="asc"){this.field=t,this.dir=i}}function Hb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class sT{}class Ne extends sT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Fb(t,i,a):i==="array-contains"?new Yb(t,a):i==="in"?new Xb(t,a):i==="not-in"?new $b(t,a):i==="array-contains-any"?new Zb(t,a):new Ne(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Qb(t,a):new Kb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&os(this.value)===os(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends sT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ii(t,i)}matches(t){return aT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aT(r){return r.op==="and"}function oT(r){return Gb(r)&&aT(r)}function Gb(r){for(const t of r.filters)if(t instanceof ii)return!1;return!0}function rm(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(oT(r))return r.filters.map((t=>rm(t))).join(",");{const t=r.filters.map((i=>rm(i))).join(",");return`${r.op}(${t})`}}function lT(r,t){return r instanceof Ne?(function(a,l){return l instanceof Ne&&a.op===l.op&&a.field.isEqual(l.field)&&Li(a.value,l.value)})(r,t):r instanceof ii?(function(a,l){return l instanceof ii&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&lT(d,l.filters[p])),!0):!1})(r,t):void Tt(19439)}function uT(r){return r instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(uT).join(" ,")+"}"})(r):"Filter"}class Fb extends Ne{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Qb extends Ne{constructor(t,i){super(t,"in",i),this.keys=cT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Kb extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=cT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function cT(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class Yb extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Dm(i)&&xl(i.arrayValue,this.value)}}class Xb extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xl(this.value.arrayValue,i)}}class $b extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xl(this.value.arrayValue,i)}}class Zb extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>xl(this.value.arrayValue,a)))}}class Jb{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Av(r,t=null,i=[],a=[],l=null,c=null,d=null){return new Jb(r,t,i,a,l,c,d)}function Nm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ro(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ro(a))).join(",")),t.Te=i}return t.Te}function Om(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Hb(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!lT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Tv(r.startAt,t.startAt)&&Tv(r.endAt,t.endAt)}function sm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class po{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Wb(r,t,i,a,l,c,d,p){return new po(r,t,i,a,l,c,d,p)}function Vm(r){return new po(r)}function Sv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hT(r){return r.collectionGroup!==null}function Dl(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Le(Xe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Pl(c,a))})),i.has(Xe.keyField().canonicalString())||t.Ie.push(new Pl(Xe.keyField(),a))}return t.Ie}function Di(r){const t=bt(r);return t.Ee||(t.Ee=tw(t,Dl(r))),t.Ee}function tw(r,t){if(r.limitType==="F")return Av(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Pl(l.field,c)}));const i=r.endAt?new $c(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new $c(r.startAt.position,r.startAt.inclusive):null;return Av(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function am(r,t){const i=r.filters.concat([t]);return new po(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function om(r,t,i){return new po(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ph(r,t){return Om(Di(r),Di(t))&&r.limitType===t.limitType}function fT(r){return`${Nm(Di(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>uT(l))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${a})`})(Di(r))}; limitType=${r.limitType})`}function gh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Dl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Ev(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Dl(a),l)||a.endAt&&!(function(d,p,y){const _=Ev(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Dl(a),l))})(r,t)}function ew(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function dT(r){return(t,i)=>{let a=!1;for(const l of Dl(r)){const c=nw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function nw(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?io(y,_):Tt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Tt(19790,{direction:r.dir})}}class Js{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){cs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return $E(this.inner)}size(){return this.innerSize}}const iw=new he(pt.comparator);function or(){return iw}const mT=new he(pt.comparator);function bl(...r){let t=mT;for(const i of r)t=t.insert(i.key,i);return t}function pT(r){let t=mT;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Gs(){return Nl()}function gT(){return Nl()}function Nl(){return new Js((r=>r.toString()),((r,t)=>r.isEqual(t)))}const rw=new he(pt.comparator),sw=new Le(pt.comparator);function Lt(...r){let t=sw;for(const i of r)t=t.add(i);return t}const aw=new Le(Ut);function ow(){return aw}function Mm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(t)?"-0":t}}function yT(r){return{integerValue:""+r}}function lw(r,t){return Lb(t)?yT(t):Mm(r,t)}class yh{constructor(){this._=void 0}}function uw(r,t,i){return r instanceof Zc?(function(l,c){const d={fields:{[WE]:{stringValue:JE},[eT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Cm(c)&&(c=mh(c)),c&&(d.fields[tT]=c),{mapValue:d}})(i,t):r instanceof zl?vT(r,t):r instanceof Bl?ET(r,t):(function(l,c){const d=_T(l,c),p=bv(d)+bv(l.Ae);return im(d)&&im(l.Ae)?yT(p):Mm(l.serializer,p)})(r,t)}function cw(r,t,i){return r instanceof zl?vT(r,t):r instanceof Bl?ET(r,t):i}function _T(r,t){return r instanceof Jc?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Zc extends yh{}class zl extends yh{constructor(t){super(),this.elements=t}}function vT(r,t){const i=TT(t);for(const a of r.elements)i.some((l=>Li(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Bl extends yh{constructor(t){super(),this.elements=t}}function ET(r,t){let i=TT(t);for(const a of r.elements)i=i.filter((l=>!Li(l,a)));return{arrayValue:{values:i}}}class Jc extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function bv(r){return Ee(r.integerValue||r.doubleValue)}function TT(r){return Dm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function hw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof zl&&l instanceof zl||a instanceof Bl&&l instanceof Bl?no(a.elements,l.elements,Li):a instanceof Jc&&l instanceof Jc?Li(a.Ae,l.Ae):a instanceof Zc&&l instanceof Zc})(r.transform,t.transform)}class fw{constructor(t,i){this.version=t,this.transformResults=i}}class ni{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ni}static exists(t){return new ni(void 0,t)}static updateTime(t){return new ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class _h{}function AT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Um(r.key,ni.none()):new Ql(r.key,r.data,ni.none());{const i=r.data,a=pn.empty();let l=new Le(Xe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new hs(r.key,a,new Rn(l.toArray()),ni.none())}}function dw(r,t,i){r instanceof Ql?(function(l,c,d){const p=l.value.clone(),y=Rv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof hs?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Rv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(ST(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ol(r,t,i,a){return r instanceof Ql?(function(c,d,p,y){if(!Pc(c.precondition,d))return p;const _=c.value.clone(),A=Iv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof hs?(function(c,d,p,y){if(!Pc(c.precondition,d))return p;const _=Iv(c.fieldTransforms,y,d),A=d.data;return A.setAll(ST(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function mw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=_T(a.transform,l||null);c!=null&&(i===null&&(i=pn.empty()),i.set(a.field,c))}return i||null}function wv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&no(a,l,((c,d)=>hw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ql extends _h{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hs extends _h{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ST(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Rv(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,cw(d,p,i[l]))}return a}function Iv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,uw(c,d,t))}return a}class Um extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pw extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&dw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=gT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=AT(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,((i,a)=>wv(i,a)))&&no(this.baseMutations,t.baseMutations,((i,a)=>wv(i,a)))}}class Lm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return rw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Lm(t,i,a,l)}}class yw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _w{constructor(t,i){this.count=t,this.unchangedNames=i}}var De,Pt;function vw(r){switch(r){case X.OK:return Tt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function bT(r){if(r===void 0)return ar("GRPC error has no .code"),X.UNKNOWN;switch(r){case De.OK:return X.OK;case De.CANCELLED:return X.CANCELLED;case De.UNKNOWN:return X.UNKNOWN;case De.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case De.INTERNAL:return X.INTERNAL;case De.UNAVAILABLE:return X.UNAVAILABLE;case De.UNAUTHENTICATED:return X.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case De.NOT_FOUND:return X.NOT_FOUND;case De.ALREADY_EXISTS:return X.ALREADY_EXISTS;case De.PERMISSION_DENIED:return X.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case De.ABORTED:return X.ABORTED;case De.OUT_OF_RANGE:return X.OUT_OF_RANGE;case De.UNIMPLEMENTED:return X.UNIMPLEMENTED;case De.DATA_LOSS:return X.DATA_LOSS;default:return Tt(39323,{code:r})}}(Pt=De||(De={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function Ew(){return new TextEncoder}const Tw=new ts([4294967295,4294967295],0);function Cv(r){const t=Ew().encode(r),i=new zE;return i.update(t),new Uint8Array(i.digest())}function Dv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ts([i,a],0),new ts([l,c],0)]}class km{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(a<0)throw new wl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ts.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ts.fromNumber(a)));return l.compare(Tw)===1&&(l=new ts([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Cv(t),[a,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new km(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Cv(t),[a,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(At.min(),l,new he(Ut),or(),Lt())}}class Kl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Kl(a,i,Lt(),Lt(),Lt())}}class zc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class wT{constructor(t,i){this.targetId=t,this.Ce=i}}class RT{constructor(t,i,a=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Nv{constructor(){this.ve=0,this.Fe=Ov(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Tt(38017,{changeType:c})}})),new Kl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Ov()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Aw{constructor(t){this.Ge=t,this.ze=new Map,this.je=or(),this.Je=Oc(),this.He=Oc(),this.Ye=new he(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(sm(c))if(a===0){const d=new pt(c.path);this.et(i,d,tn.newNoDocument(d,At.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=as(a).toUint8Array()}catch(y){if(y instanceof ZE)return eo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new km(d,l,c)}catch(y){return eo(y instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&sm(p.target)){const y=new pt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,tn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Lt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new vh(t,i,this.Ye,this.je,a);return this.je=or(),this.Je=Oc(),this.He=Oc(),this.Ye=new he(Ut),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Nv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Le(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Le(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Nv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new he(pt.comparator)}function Ov(){return new he(pt.comparator)}const Sw={asc:"ASCENDING",desc:"DESCENDING"},bw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ww={and:"AND",or:"OR"};class Rw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function Wc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function IT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Iw(r,t){return Wc(r,t.toTimestamp())}function Ni(r){return Qt(!!r,49232),At.fromTimestamp((function(i){const a=ss(i);return new oe(a.seconds,a.nanos)})(r))}function xm(r,t){return um(r,t).canonicalString()}function um(r,t){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function CT(r){const t=re.fromString(r);return Qt(MT(t),10190,{key:t.toString()}),t}function cm(r,t){return xm(r.databaseId,t.path)}function Bd(r,t){const i=CT(t);if(i.get(1)!==r.databaseId.projectId)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(NT(i))}function DT(r,t){return xm(r.databaseId,t)}function Cw(r){const t=CT(r);return t.length===4?re.emptyPath():NT(t)}function hm(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NT(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Vv(r,t,i){return{name:cm(r,t),fields:i.value.mapValue.fields}}function Dw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Tt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Qt(A===void 0||typeof A=="string",58123),$e.fromBase64String(A||"")):(Qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),$e.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:bT(_.code);return new st(A,_.message||"")})(d);i=new RT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(r,a.document.name),c=Ni(a.document.updateTime),d=a.document.createTime?Ni(a.document.createTime):At.min(),p=new pn({mapValue:{fields:a.document.fields}}),y=tn.newFoundDocument(l,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new zc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Bd(r,a.document),c=a.readTime?Ni(a.readTime):At.min(),d=tn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Bd(r,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new _w(l,c),p=a.targetId;i=new wT(p,d)}}return i}function Nw(r,t){let i;if(t instanceof Ql)i={update:Vv(r,t.key,t.value)};else if(t instanceof Um)i={delete:cm(r,t.key)};else if(t instanceof hs)i={update:Vv(r,t.key,t.data),updateMask:zw(t.fieldMask)};else{if(!(t instanceof pw))return Tt(16599,{Vt:t.type});i={verify:cm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Zc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Tt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Iw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Tt(27497)})(r,t.precondition)),i}function Ow(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ni(l.updateTime):Ni(c);return d.isEqual(At.min())&&(d=Ni(c)),new fw(d,l.transformResults||[])})(i,t)))):[]}function Vw(r,t){return{documents:[DT(r,t.path)]}}function Mw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=DT(r,l);const c=(function(_){if(_.length!==0)return VT(ii.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(V){return{field:Fa(V.field),direction:kw(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=lm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function Uw(r){let t=Cw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const V=OT(S);return V instanceof ii&&oT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(W){return new Pl(Qa(W.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let V;return V=typeof S=="object"?S.value:S,dh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(S){const V=!!S.before,Q=S.values||[];return new $c(Q,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const V=!S.before,Q=S.values||[];return new $c(Q,V)})(i.endAt)),Wb(t,l,d,c,p,"F",y,_)}function Lw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function OT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return Ne.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ne.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ii.create(i.compositeFilter.filters.map((a=>OT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(i.compositeFilter.op))})(r):Tt(30097,{filter:r})}function kw(r){return Sw[r]}function xw(r){return bw[r]}function Pw(r){return ww[r]}function Fa(r){return{fieldPath:r.canonicalString()}}function Qa(r){return Xe.fromServerFormat(r.fieldPath)}function VT(r){return r instanceof Ne?(function(i){if(i.op==="=="){if(vv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(_v(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(vv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(_v(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:xw(i.op),value:i.value}}})(r):r instanceof ii?(function(i){const a=i.getFilters().map((l=>VT(l)));return a.length===1?a[0]:{compositeFilter:{op:Pw(i.op),filters:a}}})(r):Tt(54877,{filter:r})}function zw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function MT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class $r{constructor(t,i,a,l,c=At.min(),d=At.min(),p=$e.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new $r(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Bw{constructor(t){this.yt=t}}function jw(r){const t=Uw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?om(t,t.limit,"L"):t}class qw{constructor(){this.Cn=new Hw}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(rs.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(rs.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class Hw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Le(re.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Le(re.comparator)).toArray()}}const Mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(UT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class so{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}const Uv="LruGarbageCollector",Gw=1048576;function Lv([r,t],[i,a]){const l=Ut(r,i);return l===0?Ut(t,a):l}class Fw{constructor(t){this.Ir=t,this.buffer=new Le(Lv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Lv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Qw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(Uv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?ot(Uv,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Vr(3e5)}))}}class Kw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(fh.ce);const a=new Fw(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Mv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),Ha()<=Mt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function Yw(r,t){return new Kw(r,t)}class Xw{constructor(){this.changes=new Js((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $w{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Zw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ol(a.mutation,l,Rn.empty(),oe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Lt()){const l=Gs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=bl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Gs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Lt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=or();const d=Nl(),p=(function(){return Nl()})();return i.forEach(((y,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof hs)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Ol(A.mutation,_,A.mutation.getFieldMask(),oe.now())):d.set(_.key,Rn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new $w(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Nl();let l=new he(((d,p)=>d-p)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||Rn.empty();A=p.applyToLocalView(_,A),a.set(y,A);const S=(l.get(p.batchId)||Lt()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,S=gT();A.forEach((V=>{if(!c.has(V)){const Q=AT(i.get(V),a.get(V));Q!==null&&S.set(V,Q),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):hT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Gs());let p=Ul,y=c;return d.next((_=>$.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{y=y.insert(A,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Lt()))).next((A=>({batchId:p,changes:pT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=bl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=bl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const _=(function(S,V){return new po(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,tn.newInvalidDocument(A)))}));let p=bl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Ol(A.mutation,_,Rn.empty(),oe.now()),gh(i,_)&&(p=p.insert(y,_))})),p}))}}class Jw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ni(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:jw(l.bundledQuery),readTime:Ni(l.readTime)}})(i)),$.resolve()}}class Ww{constructor(){this.overlays=new he(pt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Gs();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Gs(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new he(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=Gs(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Gs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return $.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new yw(i,a));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class tR{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Pm{constructor(){this.Qr=new Le(je.$r),this.Ur=new Le(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new je(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new je(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new re([])),a=new je(i,t),l=new je(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new re([])),a=new je(i,t),l=new je(i,t+1);let c=Lt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new je(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class je{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class eR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Le(je.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new je(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Im:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new je(i,0),l=new je(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Le(Ut);return i.forEach((l=>{const c=new je(l,0),d=new je(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new je(new pt(c),0);let p=new Le(Ut);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new je(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new je(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class nR{constructor(t){this.ri=t,this.docs=(function(){return new he(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(t,i){let a=or();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():tn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=or();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Ob(Nb(A),a)<=0||(l.has(A.key)||gh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Tt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new iR(this)}getSize(t){return $.resolve(this.size)}}class iR extends Xw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class rR{constructor(t){this.persistence=t,this.si=new Js((i=>Nm(i)),Om),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=so.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new so(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class LT{constructor(t,i){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new tR,this.referenceDelegate=t(this),this.Pi=new rR(this),this.indexManager=new qw,this.remoteDocumentCache=(function(l){return new nR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Bw(i),this.Ii=new Jw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Ww,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new eR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new sR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class sR extends Mb{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new Pm,this.Vi=null}static mi(t){return new zm(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=pt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class th{constructor(t,i){this.persistence=t,this.pi=new Js((a=>kb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Yw(this,i)}static mi(t,i){return new th(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Bm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Bm(t,i.fromCache,a,l)}}class aR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class oR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JS()?8:Ub(en())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new aR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ha()<=Mt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ha()<=Mt.DEBUG&&ot("QueryEngine","Query:",Ga(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ha()<=Mt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(i))):$.resolve())}ys(t,i){if(Sv(i))return $.resolve(null);let a=Di(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),a=Di(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,om(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return Sv(i)||l.isEqual(At.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Ha()<=Mt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(i)),this.vs(t,d,i,Db(l,Ul)).next((p=>p)))}))}Ds(t,i){let a=new Le(dT(t));return i.forEach(((l,c)=>{gh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ha()<=Mt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ga(i)),this.ps.getDocumentsMatchingQuery(t,i,rs.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const jm="LocalStore",lR=3e8;class uR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new he(Ut),this.xs=new Js((c=>Nm(c)),Om),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Zw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function cR(r,t,i,a){return new uR(r,t,i,a)}async function kT(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Lt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function hR(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const S=_.batch,V=S.keys();let Q=$.resolve();return V.forEach((W=>{Q=Q.next((()=>A.getEntry(y,W))).next((it=>{const tt=_.docVersions.get(W);Qt(tt!==null,48541),it.version.compareTo(tt)<0&&(S.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Lt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function xT(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function fR(r,t){const i=bt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const V=l.get(S);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let Q=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken($e.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),l=l.insert(S,Q),(function(it,tt,ct){return it.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=lR?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(V,Q,A)&&p.push(i.Pi.updateTargetData(c,Q))}));let y=or(),_=Lt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(dR(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(At.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function dR(r,t,i){let a=Lt(),l=Lt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=or();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ot(jm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function mR(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Im),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function pR(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new $r(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function fm(r,t,i){const a=bt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;ot(jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function kv(r,t,i){const a=bt(r);let l=At.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=bt(y),V=S.xs.get(A);return V!==void 0?$.resolve(S.Ms.get(V)):S.Pi.getTargetData(_,A)})(a,d,Di(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:Lt()))).next((p=>(gR(a,ew(t),p),{documents:p,Qs:c})))))}function gR(r,t,i){let a=r.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class xv{constructor(){this.activeTargetIds=ow()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yR{constructor(){this.Mo=new xv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new xv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class _R{Oo(t){}shutdown(){}}const Pv="ConnectivityMonitor";class zv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(Pv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(Pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function dm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const jd="RestConnection",vR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ER{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Yc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=dm(),p=this.zo(t,i.toUriEncodedString());ot(jd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=uo(_);return this.Jo(t,p,y,a,A).then((S=>(ot(jd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw eo(jd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=vR[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class TR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class AR extends ER{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=dm();return new Promise(((p,y)=>{const _=new BE;_.setWithCredentials(!0),_.listenOnce(jE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lc.NO_ERROR:const S=_.getResponseJson();ot(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Lc.TIMEOUT:ot(Je,`RPC '${t}' ${d} timed out`),y(new st(X.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const V=_.getStatus();if(ot(Je,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const it=(function(ct){const gt=ct.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(gt)>=0?gt:X.UNKNOWN})(W.status);y(new st(it,W.message))}else y(new st(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new st(X.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(Je,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ot(Je,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=GE(),p=HE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");ot(Je,`Creating RPC '${t}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let V=!1,Q=!1;const W=new TR({Yo:tt=>{Q?ot(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(V||(ot(Je,`Opening RPC '${t}' stream ${l} transport.`),S.open(),V=!0),ot(Je,`RPC '${t}' stream ${l} sending:`,tt),S.send(tt))},Zo:()=>S.close()}),it=(tt,ct,gt)=>{tt.listen(ct,(yt=>{try{gt(yt)}catch(Nt){setTimeout((()=>{throw Nt}),0)}}))};return it(S,Sl.EventType.OPEN,(()=>{Q||(ot(Je,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),it(S,Sl.EventType.CLOSE,(()=>{Q||(Q=!0,ot(Je,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(S))})),it(S,Sl.EventType.ERROR,(tt=>{Q||(Q=!0,eo(Je,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),W.a_(new st(X.UNAVAILABLE,"The operation could not be completed")))})),it(S,Sl.EventType.MESSAGE,(tt=>{if(!Q){const ct=tt.data[0];Qt(!!ct,16349);const gt=ct,yt=gt?.error||gt[0]?.error;if(yt){ot(Je,`RPC '${t}' stream ${l} received error:`,yt);const Nt=yt.status;let te=(function(b){const C=De[b];if(C!==void 0)return bT(C)})(Nt),kt=yt.message;te===void 0&&(te=X.INTERNAL,kt="Unknown error status: "+Nt+" with message "+yt.message),Q=!0,W.a_(new st(te,kt)),S.close()}else ot(Je,`RPC '${t}' stream ${l} received:`,ct),W.u_(ct)}})),it(p,qE.STAT_EVENT,(tt=>{tt.stat===tm.PROXY?ot(Je,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===tm.NOPROXY&&ot(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}function Eh(r){return new Rw(r,!0)}class PT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Bv="PersistentStream";class zT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ar(i.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new st(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(Bv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(Bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SR extends zT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Dw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Ni(d.readTime):At.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=sm(y)?{documents:Vw(c,y)}:{query:Mw(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=IT(c,d.resumeToken);const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=Wc(c,d.snapshotVersion.toTimestamp());const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=Lw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.q_(i)}}class bR extends zT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Ow(t.writeResults,t.commitTime),a=Ni(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=hm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Nw(this.serializer,a)))};this.q_(i)}}class wR{}class RR extends wR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,um(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(X.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,um(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $s="RemoteStore";class CR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Ws(this)&&(ot($s,"Restarting streams for network reachability change."),await(async function(y){const _=bt(y);_.Ea.add(4),await Yl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Th(_)})(this))}))})),this.Ra=new IR(a,l)}}async function Th(r){if(Ws(r))for(const t of r.da)await t(!0)}async function Yl(r){for(const t of r.da)await t(!1)}function BT(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Fm(i)?Gm(i):go(i).O_()&&Hm(i,t))}function qm(r,t){const i=bt(r),a=go(i);i.Ia.delete(t),a.O_()&&jT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Ws(i)&&i.Ra.set("Unknown"))}function Hm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}go(r).Y_(t)}function jT(r,t){r.Va.Ue(t),go(r).Z_(t)}function Gm(r){r.Va=new Aw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),go(r).start(),r.Ra.ua()}function Fm(r){return Ws(r)&&!go(r).x_()&&r.Ia.size>0}function Ws(r){return bt(r).Ea.size===0}function qT(r){r.Va=void 0}async function DR(r){r.Ra.set("Online")}async function NR(r){r.Ia.forEach(((t,i)=>{Hm(r,t)}))}async function OR(r,t){qT(r),Fm(r)?(r.Ra.ha(t),Gm(r)):r.Ra.set("Unknown")}async function VR(r,t,i){if(r.Ra.set("Online"),t instanceof RT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){ot($s,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await eh(r,a)}else if(t instanceof zc?r.Va.Ze(t):t instanceof wT?r.Va.st(t):r.Va.tt(t),!i.isEqual(At.min()))try{const a=await xT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken($e.EMPTY_BYTE_STRING,A.snapshotVersion)),jT(c,y);const S=new $r(A.target,y,_,A.sequenceNumber);Hm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ot($s,"Failed to raise snapshot:",a),await eh(r,a)}}async function eh(r,t,i){if(!mo(t))throw t;r.Ea.add(1),await Yl(r),r.Ra.set("Offline"),i||(i=()=>xT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot($s,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Th(r)}))}function HT(r,t){return t().catch((i=>eh(r,i,t)))}async function Ah(r){const t=bt(r),i=ls(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Im;for(;MR(t);)try{const l=await mR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,UR(t,l)}catch(l){await eh(t,l)}GT(t)&&FT(t)}function MR(r){return Ws(r)&&r.Ta.length<10}function UR(r,t){r.Ta.push(t);const i=ls(r);i.O_()&&i.X_&&i.ea(t.mutations)}function GT(r){return Ws(r)&&!ls(r).x_()&&r.Ta.length>0}function FT(r){ls(r).start()}async function LR(r){ls(r).ra()}async function kR(r){const t=ls(r);for(const i of r.Ta)t.ea(i.mutations)}async function xR(r,t,i){const a=r.Ta.shift(),l=Lm.from(a,t,i);await HT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ah(r)}async function PR(r,t){t&&ls(r).X_&&await(async function(a,l){if((function(d){return vw(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();ls(a).B_(),await HT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ah(a)}})(r,t),GT(r)&&FT(r)}async function jv(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),ot($s,"RemoteStore received new credentials");const a=Ws(i);i.Ea.add(3),await Yl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function zR(r,t){const i=bt(r);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Yl(i),i.Ra.set("Unknown"))}function go(r){return r.ma||(r.ma=(function(i,a,l){const c=bt(i);return c.sa(),new SR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:DR.bind(null,r),t_:NR.bind(null,r),r_:OR.bind(null,r),H_:VR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Fm(r)?Gm(r):r.Ra.set("Unknown")):(await r.ma.stop(),qT(r))}))),r.ma}function ls(r){return r.fa||(r.fa=(function(i,a,l){const c=bt(i);return c.sa(),new bR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:LR.bind(null,r),r_:PR.bind(null,r),ta:kR.bind(null,r),na:xR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ah(r)):(await r.fa.stop(),r.Ta.length>0&&(ot($s,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Qm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Qm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Km(r,t){if(ar("AsyncQueue",`${t}: ${r}`),mo(r))return new st(X.UNAVAILABLE,`${t}: ${r}`);throw r}class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=bl(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Xa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class qv{constructor(){this.ga=new he(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ao{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ao(t,i,Xa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class BR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class jR{constructor(){this.queries=Hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=Hv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new st(X.ABORTED,"Firestore shutting down"))}}function Hv(){return new Js((r=>fT(r)),ph)}async function qR(r,t){const i=bt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new BR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Km(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Ym(i)}async function HR(r,t){const i=bt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function GR(r,t){const i=bt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Ym(i)}function FR(r,t,i){const a=bt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Ym(r){r.Ca.forEach((t=>{t.next()}))}var mm,Gv;(Gv=mm||(mm={})).Ma="default",Gv.Cache="cache";class QR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ao(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class QT{constructor(t){this.key=t}}class KT{constructor(t){this.key=t}}class KR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=dT(t),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new qv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const V=l.get(A),Q=gh(this.query,S)?S:null,W=!!V&&this.mutatedKeys.has(V.key),it=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let tt=!1;V&&Q?V.data.isEqual(Q.data)?W!==it&&(a.track({type:3,doc:Q}),tt=!0):this.su(V,Q)||(a.track({type:2,doc:Q}),tt=!0,(y&&this.eu(Q,y)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!V&&Q?(a.track({type:0,doc:Q}),tt=!0):V&&!Q&&(a.track({type:1,doc:V}),tt=!0,(y||_)&&(p=!0)),tt&&(Q?(d=d.add(Q),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(Q,W){const it=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:tt})}};return it(Q)-it(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new ao(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new KT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new QT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xm="SyncEngine";class YR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class XR{constructor(t){this.key=t,this.hu=!1}}class $R{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Js((p=>fT(p)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new he(pt.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZR(r,t,i=!0){const a=WT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await YT(a,t,i,!0),l}async function JR(r,t){const i=WT(r);await YT(i,t,!0,!1)}async function YT(r,t,i,a){const l=await pR(r.localStore,Di(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await WR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&BT(r.remoteStore,l),p}async function WR(r,t,i,a,l){r.pu=(S,V,Q)=>(async function(it,tt,ct,gt){let yt=tt.view.ru(ct);yt.Cs&&(yt=await kv(it.localStore,tt.query,!1).then((({documents:D})=>tt.view.ru(D,yt))));const Nt=gt&&gt.targetChanges.get(tt.targetId),te=gt&&gt.targetMismatches.get(tt.targetId)!=null,kt=tt.view.applyChanges(yt,it.isPrimaryClient,Nt,te);return Qv(it,tt.targetId,kt.au),kt.snapshot})(r,S,V,Q);const c=await kv(r.localStore,t,!0),d=new KR(t,c.Qs),p=d.ru(c.documents),y=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);Qv(r,i,_.au);const A=new YR(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function tI(r,t,i){const a=bt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&qm(a.remoteStore,l.targetId),pm(a,l.targetId)})).catch(fo)):(pm(a,l.targetId),await fm(a.localStore,l.targetId,!0))}async function eI(r,t){const i=bt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),qm(i.remoteStore,a.targetId))}async function nI(r,t,i){const a=uI(r);try{const l=await(function(d,p){const y=bt(d),_=oe.now(),A=p.reduce(((Q,W)=>Q.add(W.key)),Lt());let S,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=or(),it=Lt();return y.Ns.getEntries(Q,A).next((tt=>{W=tt,W.forEach(((ct,gt)=>{gt.isValidDocument()||(it=it.add(ct))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,W))).next((tt=>{S=tt;const ct=[];for(const gt of p){const yt=mw(gt,S.get(gt.key).overlayedDocument);yt!=null&&ct.push(new hs(gt.key,yt,rT(yt.value.mapValue),ni.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,_,ct,p)})).next((tt=>{V=tt;const ct=tt.applyToLocalDocumentSet(S,it);return y.documentOverlayCache.saveOverlays(Q,tt.batchId,ct)}))})).then((()=>({batchId:V.batchId,changes:pT(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new he(Ut)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Xl(a,l.changes),await Ah(a.remoteStore)}catch(l){const c=Km(l,"Failed to persist write");i.reject(c)}}async function XT(r,t){const i=bt(r);try{const a=await fR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await Xl(i,a,t)}catch(a){await fo(a)}}function Fv(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=bt(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,S)=>{for(const V of S.Sa)V.va(p)&&(_=!0)})),_&&Ym(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function iI(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new he(pt.comparator);d=d.insert(c,tn.newNoDocument(c,At.min()));const p=Lt().add(c),y=new vh(At.min(),new Map,new he(Ut),d,p);await XT(a,y),a.du=a.du.remove(c),a.Au.delete(t),$m(a)}else await fm(a.localStore,t,!1).then((()=>pm(a,t,i))).catch(fo)}async function rI(r,t){const i=bt(r),a=t.batch.batchId;try{const l=await hR(i.localStore,t);ZT(i,a,null),$T(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xl(i,l)}catch(l){await fo(l)}}async function sI(r,t,i){const a=bt(r);try{const l=await(function(d,p){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(Qt(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);ZT(a,t,i),$T(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xl(a,l)}catch(l){await fo(l)}}function $T(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function ZT(r,t,i){const a=bt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function pm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||JT(r,a)}))}function JT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(qm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),$m(r))}function Qv(r,t,i){for(const a of i)a instanceof QT?(r.Ru.addReference(a.key,t),aI(r,a)):a instanceof KT?(ot(Xm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||JT(r,a.key)):Tt(19791,{wu:a})}function aI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ot(Xm,"New document in limbo: "+i),r.Eu.add(a),$m(r))}function $m(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(re.fromString(t)),a=r.fu.next();r.Au.set(a,new XR(i)),r.du=r.du.insert(i,a),BT(r.remoteStore,new $r(Di(Vm(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Xl(r,t,i){const a=bt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Bm.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const A=bt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(V=>$.forEach(V.Es,(Q=>A.persistence.referenceDelegate.addReference(S,V.targetId,Q))).next((()=>$.forEach(V.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,V.targetId,Q)))))))))}catch(S){if(!mo(S))throw S;ot(jm,"Failed to update sequence numbers: "+S)}for(const S of _){const V=S.targetId;if(!S.fromCache){const Q=A.Ms.get(V),W=Q.snapshotVersion,it=Q.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(V,it)}}})(a.localStore,c))}async function oI(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){ot(Xm,"User change. New user:",t.toKey());const a=await kT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new st(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xl(i,a.Ls)}}function lI(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return Lt().add(a.key);{let l=Lt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function WT(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iI.bind(null,t),t.Pu.H_=GR.bind(null,t.eventManager),t.Pu.yu=FR.bind(null,t.eventManager),t}function uI(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sI.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return cR(this.persistence,new oR,t.initialUser,this.serializer)}Cu(t){return new LT(zm.mi,this.serializer)}Du(t){return new yR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class cI extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Qw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new LT((a=>th.mi(a,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Fv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=oI.bind(null,this.syncEngine),await zR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new jR})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=(function(c){return new AR(c)})(t.databaseInfo);return(function(c,d,p,y){return new RR(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new CR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Fv(this.syncEngine,i,0)),(function(){return zv.v()?new zv:new _R})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const S=new $R(l,c,d,p,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);ot($s,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class hI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ar("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const us="FirestoreClient";class fI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=We.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(us,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(us,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Km(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(us,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await kT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Kv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await dI(r);ot(us,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>jv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>jv(t.remoteStore,l))),r._onlineComponents=t}async function dI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(us,"Using user provided OfflineComponentProvider");try{await Hd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;eo("Error using user provided cache. Falling back to memory cache: "+i),await Hd(r,new nh)}}else ot(us,"Using default OfflineComponentProvider"),await Hd(r,new cI(void 0));return r._offlineComponents}async function t0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(us,"Using user provided OnlineComponentProvider"),await Kv(r,r._uninitializedComponentsProvider._online)):(ot(us,"Using default OnlineComponentProvider"),await Kv(r,new gm))),r._onlineComponents}function mI(r){return t0(r).then((t=>t.syncEngine))}async function Yv(r){const t=await t0(r),i=t.eventManager;return i.onListen=ZR.bind(null,t.syncEngine),i.onUnlisten=tI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=JR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=eI.bind(null,t.syncEngine),i}function e0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Xv=new Map;const n0="firestore.googleapis.com",$v=!0;class Zv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n0,this.ssl=$v}else this.host=t.host,this.ssl=t.ssl??$v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Gw)throw new st(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Cb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _b;switch(a.type){case"firstParty":return new Ab(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Xv.get(i);a&&(ot("ComponentProvider","Removing Datastore"),Xv.delete(i),a.terminate())})(this),Promise.resolve()}}function pI(r,t,i,a={}){r=es(r,Sh);const l=uo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(OE(`https://${p}`),VE("Firestore",!0)),c.host!==n0&&c.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Ks(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=We.MOCK_USER;else{_=HS(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new st(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new We(S)}r._authCredentials=new vb(new QE(_,A))}}class ta{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ta(this.firestore,t,this._query)}}class Ve{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fl(i,Ve._jsonSchema))return new Ve(t,a||null,new pt(re.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Oe("string",Ve._jsonSchemaVersion),referencePath:Oe("string")};class ns extends ta{constructor(t,i,a){super(t,i,Vm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new pt(t))}withConverter(t){return new ns(this.firestore,t,this._path)}}function Gd(r,t,...i){if(r=ke(r),KE("collection","path",t),r instanceof Sh){const a=re.fromString(t,...i);return uv(a),new ns(r,null,a)}{if(!(r instanceof Ve||r instanceof ns))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return uv(a),new ns(r.firestore,null,a)}}function Ka(r,t,...i){if(r=ke(r),arguments.length===1&&(t=Rm.newId()),KE("doc","path",t),r instanceof Sh){const a=re.fromString(t,...i);return lv(a),new Ve(r,null,new pt(a))}{if(!(r instanceof Ve||r instanceof ns))throw new st(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return lv(a),new Ve(r.firestore,r instanceof ns?r.converter:null,new pt(a))}}const Jv="AsyncQueue";class Wv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PT(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&ot(Jv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;ot(Jv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",tE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Qm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Tt(47125,{Pc:tE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function tE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function eE(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class oo extends Sh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Wv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Wv(t),this._firestoreClient=void 0,await t}}}function gI(r,t){const i=typeof r=="object"?r:kE(),a=typeof r=="string"?r:Yc,l=bm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=jS("firestore");c&&pI(l,...c)}return l}function i0(r){if(r._terminated)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yI(r),r._firestoreClient}function yI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new zb(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,e0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new fI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn($e.fromBase64String(t))}catch(i){throw new st(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Bn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Oe("string",Bn._jsonSchemaVersion),bytes:Oe("string")};class bh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Zm{constructor(t){this._methodName=t}}class Oi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Oe("string",Oi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class Vi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Vi(t.vectorValues);throw new st(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Oe("string",Vi._jsonSchemaVersion),vectorValues:Oe("object")};const _I=/^__.*__$/;class vI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new hs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}class r0{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new hs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function s0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:r})}}class Jm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Jm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(s0(this.Ac)&&_I.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class EI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}Cc(t,i,a,l=!1){return new Jm({Ac:t,methodName:i,Dc:a,path:Xe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wm(r){const t=r._freezeSettings(),i=Eh(r._databaseId);return new EI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function TI(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);tp("Data must be an object, but it was:",d,a);const p=a0(a,d);let y,_;if(c.merge)y=new Rn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const V=ym(t,S,i);if(!d.contains(V))throw new st(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);l0(A,V)||A.push(V)}y=new Rn(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new vI(new pn(p),y,_)}class wh extends Zm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wh}}function AI(r,t,i,a){const l=r.Cc(1,t,i);tp("Data must be an object, but it was:",l,a);const c=[],d=pn.empty();cs(a,((y,_)=>{const A=ep(t,y,i);_=ke(_);const S=l.yc(A);if(_ instanceof wh)c.push(A);else{const V=$l(_,S);V!=null&&(c.push(A),d.set(A,V))}}));const p=new Rn(c);return new r0(d,p,l.fieldTransforms)}function SI(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[ym(t,a,i)],y=[l];if(c.length%2!=0)throw new st(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(ym(t,c[V])),y.push(c[V+1]);const _=[],A=pn.empty();for(let V=p.length-1;V>=0;--V)if(!l0(_,p[V])){const Q=p[V];let W=y[V];W=ke(W);const it=d.yc(Q);if(W instanceof wh)_.push(Q);else{const tt=$l(W,it);tt!=null&&(_.push(Q),A.set(Q,tt))}}const S=new Rn(_);return new r0(A,S,d.fieldTransforms)}function bI(r,t,i,a=!1){return $l(i,r.Cc(a?4:3,t))}function $l(r,t){if(o0(r=ke(r)))return tp("Unsupported field value:",t,r),a0(r,t);if(r instanceof Zm)return(function(a,l){if(!s0(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=$l(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=ke(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=oe.fromDate(a);return{timestampValue:Wc(l.serializer,c)}}if(a instanceof oe){const c=new oe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wc(l.serializer,c)}}if(a instanceof Oi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bn)return{bytesValue:IT(l.serializer,a._byteString)};if(a instanceof Ve){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:xm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Vi)return(function(d,p){return{mapValue:{fields:{[nT]:{stringValue:iT},[Xc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Mm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${hh(a)}`)})(r,t)}function a0(r,t){const i={};return $E(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cs(r,((a,l)=>{const c=$l(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function o0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof oe||r instanceof Oi||r instanceof Bn||r instanceof Ve||r instanceof Zm||r instanceof Vi)}function tp(r,t,i){if(!o0(i)||!YE(i)){const a=hh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function ym(r,t,i){if((t=ke(t))instanceof bh)return t._internalPath;if(typeof t=="string")return ep(r,t);throw ih("Field path arguments must be of type string or ",r,!1,void 0,i)}const wI=new RegExp("[~\\*/\\[\\]]");function ep(r,t,i){if(t.search(wI)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new bh(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ih(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new st(X.INVALID_ARGUMENT,p+r+y)}function l0(r,t){return r.some((i=>i.isEqual(t)))}class u0{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(np("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class RI extends u0{data(){return super.data()}}function np(r,t){return typeof t=="string"?ep(r,t):t instanceof bh?t._internalPath:t._delegate._internalPath}function II(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ip{}class c0 extends ip{}function CI(r,t,...i){let a=[];t instanceof ip&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof sp)).length,p=c.filter((y=>y instanceof rp)).length;if(d>1||d>0&&p>0)throw new st(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class rp extends c0{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new rp(t,i,a)}_apply(t){const i=this._parse(t);return h0(t._query,i),new ta(t.firestore,t.converter,am(t._query,i))}_parse(t){const i=Wm(t.firestore);return(function(c,d,p,y,_,A,S){let V;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){iE(S,A);const W=[];for(const it of S)W.push(nE(y,c,it));V={arrayValue:{values:W}}}else V=nE(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||iE(S,A),V=bI(p,d,S,A==="in"||A==="not-in");return Ne.create(_,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class sp extends ip{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new sp(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ii.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)h0(d,y),d=am(d,y)})(t._query,i),new ta(t.firestore,t.converter,am(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ap extends c0{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new ap(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new st(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new st(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pl(c,d)})(t._query,this._field,this._direction);return new ta(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new po(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function DI(r,t="asc"){const i=t,a=np("orderBy",r);return ap._create(a,i)}function nE(r,t,i){if(typeof(i=ke(i))=="string"){if(i==="")throw new st(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hT(t)&&i.indexOf("/")!==-1)throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(re.fromString(i));if(!pt.isDocumentKey(a))throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return yv(r,new pt(a))}if(i instanceof Ve)return yv(r,i._key);throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(i)}.`)}function iE(r,t){if(!Array.isArray(r)||r.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function h0(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class NI{convertValue(t,i="none"){switch(os(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(as(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return cs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((a=>Ee(a.doubleValue)));return new Vi(i)}convertGeoPoint(t){return new Oi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=ss(t);return new oe(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=re.fromString(t);Qt(MT(a),9688,{name:t});const l=new kl(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||ar(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function OI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Rl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qs extends u0{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(np("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Qs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:Oe("string",Qs._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Bc extends Qs{data(t={}){return super.data(t)}}class $a{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Rl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Rl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Rl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Rl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:VI(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Oe("string",$a._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class f0 extends NI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function Mc(r,t,i,...a){r=es(r,Ve);const l=es(r.firestore,oo),c=Wm(l);let d;return d=typeof(t=ke(t))=="string"||t instanceof bh?SI(c,"updateDoc",r._key,t,i,a):AI(c,"updateDoc",r._key,t),op(l,[d.toMutation(r._key,ni.exists(!0))])}function MI(r){return op(es(r.firestore,oo),[new Um(r._key,ni.none())])}function rE(r,t){const i=es(r.firestore,oo),a=Ka(r),l=OI(r.converter,t);return op(i,[TI(Wm(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,ni.exists(!1))]).then((()=>a))}function UI(r,...t){r=ke(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||eE(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(eE(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ve)d=es(r.firestore,oo),p=Vm(r._key.path),c={next:y=>{t[a]&&t[a](LI(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=es(r,ta);d=es(y.firestore,oo),p=y._query;const _=new f0(d);c={next:A=>{t[a]&&t[a](new $a(d,_,y,A))},error:t[a+1],complete:t[a+2]},II(r._query)}return(function(_,A,S,V){const Q=new hI(V),W=new QR(A,Q,S);return _.asyncQueue.enqueueAndForget((async()=>qR(await Yv(_),W))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>HR(await Yv(_),W)))}})(i0(d),p,l,c)}function op(r,t){return(function(a,l){const c=new Fs;return a.asyncQueue.enqueueAndForget((async()=>nI(await mI(a),l,c))),c.promise})(i0(r),t)}function LI(r,t,i){const a=i.docs.get(t._key),l=new f0(r);return new Qs(r,l,t._key,a,new Rl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){ho=l})(co),to(new Ys("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new oo(new Eb(a.getProvider("auth-internal")),new Sb(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Wr(rv,sv,t),Wr(rv,sv,"esm2020")})();function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kI=d0,m0=new Hl("auth","Firebase",d0());const rh=new Am("@firebase/auth");function xI(r,...t){rh.logLevel<=Mt.WARN&&rh.warn(`Auth (${co}): ${r}`,...t)}function jc(r,...t){rh.logLevel<=Mt.ERROR&&rh.error(`Auth (${co}): ${r}`,...t)}function ri(r,...t){throw lp(r,...t)}function Mi(r,...t){return lp(r,...t)}function p0(r,t,i){const a={...kI(),[t]:i};return new Hl("auth","Firebase",a).create(t,{appName:r.name})}function is(r){return p0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lp(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return m0.create(r,...t)}function Et(r,t,...i){if(!r)throw lp(t,...i)}function ir(r){const t="INTERNAL ASSERTION FAILED: "+r;throw jc(t),new Error(t)}function lr(r,t){r||ir(t)}function _m(){return typeof self<"u"&&self.location?.href||""}function PI(){return sE()==="http:"||sE()==="https:"}function sE(){return typeof self<"u"&&self.location?.protocol||null}function zI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PI()||XS()||"connection"in navigator)?navigator.onLine:!0}function BI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,lr(i>t,"Short delay should be less than long delay!"),this.isMobile=QS()||$S()}get(){return zI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function up(r,t){lr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class g0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HI=new Zl(3e4,6e4);function ea(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function fs(r,t,i,a,l={}){return y0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Gl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return YS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(_.credentials="include"),g0.fetch()(await _0(r,r.config.apiHost,i,p),_)})}async function y0(r,t,i){r._canInitEmulator=!1;const a={...jI,...t};try{const l=new FI(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Uc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Uc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw p0(r,A,_);ri(r,A)}}catch(l){if(l instanceof ur)throw l;ri(r,"network-request-failed",{message:String(l)})}}async function Rh(r,t,i,a,l={}){const c=await fs(r,t,i,a,l);return"mfaPendingCredential"in c&&ri(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function _0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?up(r.config,l):`${r.config.apiScheme}://${l}`;return qI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function GI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Mi(this.auth,"network-request-failed")),HI.get())})}}function Uc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Mi(r,t,a);return l.customData._tokenResponse=i,l}function aE(r){return r!==void 0&&r.enterprise!==void 0}class QI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return GI(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KI(r,t){return fs(r,"GET","/v2/recaptchaConfig",ea(r,t))}async function YI(r,t){return fs(r,"POST","/v1/accounts:delete",t)}async function sh(r,t){return fs(r,"POST","/v1/accounts:lookup",t)}function Vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XI(r,t=!1){const i=ke(r),a=await i.getIdToken(t),l=cp(a);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Vl(Fd(l.auth_time)),issuedAtTime:Vl(Fd(l.iat)),expirationTime:Vl(Fd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(r){return Number(r)*1e3}function cp(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=IE(i);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function oE(r){const t=cp(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function jl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ur&&$I(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function $I({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class ZI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(r){const t=r.auth,i=await r.getIdToken(),a=await jl(r,sh(t,{idToken:i}));Et(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?v0(l.providerUserInfo):[],d=WI(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function JI(r){const t=ke(r);await ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function WI(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function v0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function tC(r,t){const i=await y0(r,{},async()=>{const a=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await _0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(y.credentials="include"),g0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function eC(r,t){return fs(r,"POST","/v2/accounts:revokeToken",ea(r,t))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):oE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=oE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await tC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Za;return a&&(Et(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return ir("not implemented")}}function Gr(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new ZI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await jl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return XI(this,t)}reload(){return JI(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await ah(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(is(this.auth));const t=await this.getIdToken();return await jl(this,YI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:Q,providerData:W,stsTokenManager:it}=i;Et(S&&it,t,"internal-error");const tt=Za.fromJSON(this.name,it);Et(typeof S=="string",t,"internal-error"),Gr(a,t.name),Gr(l,t.name),Et(typeof V=="boolean",t,"internal-error"),Et(typeof Q=="boolean",t,"internal-error"),Gr(c,t.name),Gr(d,t.name),Gr(p,t.name),Gr(y,t.name),Gr(_,t.name),Gr(A,t.name);const ct=new ei({uid:S,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(ct.providerData=W.map(gt=>({...gt}))),y&&(ct._redirectEventId=y),ct}static async _fromIdTokenResponse(t,i,a=!1){const l=new Za;l.updateFromServerResponse(i);const c=new ei({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await ah(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?v0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Za;p.updateFromIdToken(a);const y=new ei({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const lE=new Map;function rr(r){lr(r instanceof Function,"Expected a class definition");let t=lE.get(r);return t?(lr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,lE.set(r,t),t)}class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}E0.type="NONE";const uE=E0;function qc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ja{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await sh(this.auth,{idToken:t}).catch(()=>{});return i?ei._fromGetAccountInfoResponse(this.auth,i,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ja(rr(uE),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||rr(uE);const d=qc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const V=await sh(t,{idToken:A}).catch(()=>{});if(!V)break;S=await ei._fromGetAccountInfoResponse(t,V,A)}else S=ei._fromJSON(t,A);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ja(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ja(c,t,a))}}function cE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(b0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(T0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(R0(t))return"Blackberry";if(I0(t))return"Webos";if(A0(t))return"Safari";if((t.includes("chrome/")||S0(t))&&!t.includes("edge/"))return"Chrome";if(w0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function T0(r=en()){return/firefox\//i.test(r)}function A0(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function S0(r=en()){return/crios\//i.test(r)}function b0(r=en()){return/iemobile/i.test(r)}function w0(r=en()){return/android/i.test(r)}function R0(r=en()){return/blackberry/i.test(r)}function I0(r=en()){return/webos/i.test(r)}function hp(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function nC(r=en()){return hp(r)&&!!window.navigator?.standalone}function iC(){return ZS()&&document.documentMode===10}function C0(r=en()){return hp(r)||w0(r)||I0(r)||R0(r)||/windows phone/i.test(r)||b0(r)}function D0(r,t=[]){let i;switch(r){case"Browser":i=cE(en());break;case"Worker":i=`${cE(en())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class rC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function sC(r,t={}){return fs(r,"GET","/v2/passwordPolicy",ea(r,t))}const aC=6;class oC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??aC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class lC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hE(this),this.idTokenSubscription=new hE(this),this.beforeStateQueue=new rC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=rr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await sh(this,{idToken:t}),a=await ei._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ah(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(is(this));const i=t?ke(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sC(this),i=new oC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await eC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&rr(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[rr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=D0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&xI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function yo(r){return ke(r)}class hE{constructor(t){this.auth=t,this.observer=null,this.addObserver=s1(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uC(r){Ih=r}function N0(r){return Ih.loadJS(r)}function cC(){return Ih.recaptchaEnterpriseScript}function hC(){return Ih.gapiScript}function fC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class dC{constructor(){this.enterprise=new mC}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class mC{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const pC="recaptcha-enterprise",O0="NO_RECAPTCHA";class gC{constructor(t){this.type=pC,this.auth=yo(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{KI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new QI(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;aE(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(O0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&aE(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=cC();y.length!==0&&(y+=p),N0(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function fE(r,t,i,a=!1,l=!1){const c=new gC(r);let d;if(l)d=O0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function dE(r,t,i,a,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await fE(r,t,i,i==="getOobCode");return a(r,c)}else return a(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await fE(r,t,i,i==="getOobCode");return a(r,d)}else return Promise.reject(c)})}function yC(r,t){const i=bm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ks(c,t??{}))return l;ri(l,"already-initialized")}return i.initialize({options:t})}function _C(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(rr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function vC(r,t,i){const a=yo(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=V0(t),{host:d,port:p}=EC(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(Ks(_,a.config.emulator)&&Ks(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(OE(`${c}//${d}${y}`),VE("Auth",!0)):TC()}function V0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function EC(r){const t=V0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:mE(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:mE(d)}}}function mE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function TC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class fp{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ir("not implemented")}_getIdTokenResponse(t){return ir("not implemented")}_linkToIdToken(t,i){return ir("not implemented")}_getReauthenticationResolver(t){return ir("not implemented")}}async function AC(r,t){return fs(r,"POST","/v1/accounts:signUp",t)}async function SC(r,t){return Rh(r,"POST","/v1/accounts:signInWithPassword",ea(r,t))}async function bC(r,t){return Rh(r,"POST","/v1/accounts:signInWithEmailLink",ea(r,t))}async function wC(r,t){return Rh(r,"POST","/v1/accounts:signInWithEmailLink",ea(r,t))}class ql extends fp{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new ql(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new ql(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dE(t,i,"signInWithPassword",SC);case"emailLink":return bC(t,{email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dE(t,a,"signUpPassword",AC);case"emailLink":return wC(t,{idToken:i,email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Wa(r,t){return Rh(r,"POST","/v1/accounts:signInWithIdp",ea(r,t))}const RC="http://localhost";class Zs extends fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Zs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Zs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Wa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Wa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Wa(t,i)}buildRequest(){const t={requestUri:RC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Gl(i)}return t}}function IC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CC(r){const t=Tl(Al(r)).link,i=t?Tl(Al(t)).deep_link_id:null,a=Tl(Al(r)).deep_link_id;return(a?Tl(Al(a)).link:null)||a||i||t||r}class dp{constructor(t){const i=Tl(Al(t)),a=i.apiKey??null,l=i.oobCode??null,c=IC(i.mode??null);Et(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=CC(t);try{return new dp(i)}catch{return null}}}class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(t,i){return ql._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=dp.parseLink(i);return Et(a,"argument-error"),ql._fromEmailAndCode(t,a.code,a.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class M0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends M0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qr extends Jl{constructor(){super("facebook.com")}static credential(t){return Zs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";class Kr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Zs._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Kr.credential(i,a)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";class Yr extends Jl{constructor(){super("github.com")}static credential(t){return Zs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yr.credential(t.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";class Xr extends Jl{constructor(){super("twitter.com")}static credential(t,i){return Zs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Xr.credential(i,a)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";class lo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ei._fromIdTokenResponse(t,a,l),d=pE(a);return new lo({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=pE(a);return new lo({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function pE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class oh extends ur{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new oh(t,i,a,l)}}function U0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(r,c,t,a):c})}async function DC(r,t,i=!1){const a=await jl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return lo._forOperation(r,"link",a)}async function NC(r,t,i=!1){const{auth:a}=r;if(ti(a.app))return Promise.reject(is(a));const l="reauthenticate";try{const c=await jl(r,U0(a,l,t,r),i);Et(c.idToken,a,"internal-error");const d=cp(c.idToken);Et(d,a,"internal-error");const{sub:p}=d;return Et(r.uid===p,a,"user-mismatch"),lo._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ri(a,"user-mismatch"),c}}async function L0(r,t,i=!1){if(ti(r.app))return Promise.reject(is(r));const a="signIn",l=await U0(r,a,t),c=await lo._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function OC(r,t){return L0(yo(r),t)}async function VC(r){const t=yo(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function MC(r,t,i){return ti(r.app)?Promise.reject(is(r)):OC(ke(r),_o.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&VC(r),a})}function UC(r,t,i,a){return ke(r).onIdTokenChanged(t,i,a)}function LC(r,t,i){return ke(r).beforeAuthStateChanged(t,i)}function kC(r,t,i,a){return ke(r).onAuthStateChanged(t,i,a)}function xC(r){return ke(r).signOut()}const lh="__sak";class k0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const PC=1e3,zC=10;class x0 extends k0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);iC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,zC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}x0.type="LOCAL";const BC=x0;class P0 extends k0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}P0.type="SESSION";const z0=P0;function jC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await jC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function mp(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class qC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=mp("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function HC(r){Ui().location.href=r}function B0(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function GC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FC(){return navigator?.serviceWorker?.controller||null}function QC(){return B0()?self:null}const j0="firebaseLocalStorageDb",KC=1,uh="firebaseLocalStorage",q0="fbase_key";class Wl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Dh(r,t){return r.transaction([uh],t?"readwrite":"readonly").objectStore(uh)}function YC(){const r=indexedDB.deleteDatabase(j0);return new Wl(r).toPromise()}function Em(){const r=indexedDB.open(j0,KC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(uh,{keyPath:q0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(uh)?t(a):(a.close(),await YC(),t(await Em()))})})}async function gE(r,t,i){const a=Dh(r,!0).put({[q0]:t,value:i});return new Wl(a).toPromise()}async function XC(r,t){const i=Dh(r,!1).get(t),a=await new Wl(i).toPromise();return a===void 0?null:a.value}function yE(r,t){const i=Dh(r,!0).delete(t);return new Wl(i).toPromise()}const $C=800,ZC=3;class H0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>ZC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(QC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GC(),!this.activeServiceWorker)return;this.sender=new qC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Em();return await gE(t,lh,"1"),await yE(t,lh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>gE(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>XC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>yE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Dh(l,!1).getAll();return new Wl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H0.type="LOCAL";const JC=H0;new Zl(3e4,6e4);function WC(r,t){return t?rr(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class pp extends fp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Wa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function t2(r){return L0(r.auth,new pp(r),r.bypassAuthState)}function e2(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),NC(i,new pp(r),r.bypassAuthState)}async function n2(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),DC(i,new pp(r),r.bypassAuthState)}class G0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return t2;case"linkViaPopup":case"linkViaRedirect":return n2;case"reauthViaPopup":case"reauthViaRedirect":return e2;default:ri(this.auth,"internal-error")}}resolve(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const i2=new Zl(2e3,1e4);class Ya extends G0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const t=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,i2.get())};t()}}Ya.currentPopupAction=null;const r2="pendingRedirect",Hc=new Map;class s2 extends G0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Hc.get(this.auth._key());if(!t){try{const a=await a2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Hc.set(this.auth._key(),t)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a2(r,t){const i=u2(t),a=l2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function o2(r,t){Hc.set(r._key(),t)}function l2(r){return rr(r._redirectPersistence)}function u2(r){return qc(r2,r.config.apiKey,r.name)}async function c2(r,t,i=!1){if(ti(r.app))return Promise.reject(is(r));const a=yo(r),l=WC(a,t),d=await new s2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const h2=600*1e3;class f2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!d2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!F0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Mi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=h2&&this.cachedEventUids.clear(),this.cachedEventUids.has(_E(t))}saveEventToCache(t){this.cachedEventUids.add(_E(t)),this.lastProcessedEventTime=Date.now()}}function _E(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function F0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function d2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F0(r);default:return!1}}async function m2(r,t={}){return fs(r,"GET","/v1/projects",t)}const p2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g2=/^https?/;async function y2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await m2(r);for(const i of t)try{if(_2(i))return}catch{}ri(r,"unauthorized-domain")}function _2(r){const t=_m(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!g2.test(i))return!1;if(p2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const v2=new Zl(3e4,6e4);function vE(){const r=Ui().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function E2(r){return new Promise((t,i)=>{function a(){vE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vE(),i(Mi(r,"network-request-failed"))},timeout:v2.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)a();else{const l=fC("iframefcb");return Ui()[l]=()=>{gapi.load?a():i(Mi(r,"network-request-failed"))},N0(`${hC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Gc=null,t})}let Gc=null;function T2(r){return Gc=Gc||E2(r),Gc}const A2=new Zl(5e3,15e3),S2="__/auth/iframe",b2="emulator/auth/iframe",w2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?up(t,b2):`https://${r.config.authDomain}/${S2}`,a={apiKey:t.apiKey,appName:r.name,v:co},l=R2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Gl(a).slice(1)}`}async function C2(r){const t=await T2(r),i=Ui().gapi;return Et(i,r,"internal-error"),t.open({where:document.body,url:I2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Mi(r,"network-request-failed"),p=Ui().setTimeout(()=>{c(d)},A2.get());function y(){Ui().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const D2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N2=500,O2=600,V2="_blank",M2="http://localhost";class EE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U2(r,t,i,a=N2,l=O2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...D2,width:a.toString(),height:l.toString(),top:c,left:d},_=en().toLowerCase();i&&(p=S0(_)?V2:i),T0(_)&&(t=t||M2,y.scrollbars="yes");const A=Object.entries(y).reduce((V,[Q,W])=>`${V}${Q}=${W},`,"");if(nC(_)&&p!=="_self")return L2(t||"",p),new EE(null);const S=window.open(t||"",p,A);Et(S,r,"popup-blocked");try{S.focus()}catch{}return new EE(S)}function L2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const k2="__/auth/handler",x2="emulator/auth/handler",P2=encodeURIComponent("fac");async function TE(r,t,i,a,l,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:co,eventId:l};if(t instanceof M0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",r1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Jl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),_=y?`#${P2}=${encodeURIComponent(y)}`:"";return`${z2(r)}?${Gl(p).slice(1)}${_}`}function z2({config:r}){return r.emulator?up(r,x2):`https://${r.authDomain}/${k2}`}const Qd="webStorageSupport";class B2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=c2,this._overrideRedirectResult=o2}async _openPopup(t,i,a,l){lr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await TE(t,i,a,_m(),l);return U2(t,c,mp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await TE(t,i,a,_m(),l);return HC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(lr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await C2(t),a=new f2(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Qd,{type:Qd},l=>{const c=l?.[0]?.[Qd];c!==void 0&&i(!!c),ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=y2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return C0()||A0()||hp()}}const j2=B2;var AE="@firebase/auth",SE="1.12.0";class q2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function H2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G2(r){to(new Ys("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D0(r)},_=new lC(a,l,c,y);return _C(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),to(new Ys("auth-internal",t=>{const i=yo(t.getProvider("auth").getImmediate());return(a=>new q2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(AE,SE,H2(r)),Wr(AE,SE,"esm2020")}const F2=300,Q2=NE("authIdTokenMaxAge")||F2;let bE=null;const K2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Q2)return;const l=i?.token;bE!==l&&(bE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Y2(r=kE()){const t=bm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=yC(r,{popupRedirectResolver:j2,persistence:[JC,BC,z0]}),a=NE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=K2(c.toString());LC(i,d,()=>d(i.currentUser)),UC(i,p=>d(p))}}const l=CE("auth");return l&&vC(i,`http://${l}`),i}function X2(){return document.getElementsByTagName("head")?.[0]??document}uC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Mi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",X2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G2("Browser");const $2={apiKey:"AIzaSyAbIWMqgTOnkQ0jE02f7BpDm0JkhZYpjQk",authDomain:"bookclubbackend.firebaseapp.com",projectId:"bookclubbackend",storageBucket:"bookclubbackend.firebasestorage.app",messagingSenderId:"219050497346",appId:"1:219050497346:web:85e8c71bf341ca3c8164db",measurementId:"G-ZGKWVBZN6G"},Q0=LE($2),Fr=gI(Q0),Kd=Y2(Q0),Z2=["sharon@tutorshiba.com"],J2="https://docs.google.com/spreadsheets/d/1uVwfBjOxbpjiKBwH7-Rfakkgr3lu-krG3EcdzrMEmW4/export?format=csv",W2="pQLpMHVAOBKvdXVGdoigd7ZVHNu47E25cZoN2A40sGGSBRiX",Yd=r=>{if(!r)return new Date(0);let t=new Date(r);if(!isNaN(t.getTime()))return t;const i=r.trim().split(/[\s-]+/);if(i.length>=2){const a=i[0].toLowerCase().substring(0,3),l=parseInt(i[i.length-1]),c={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11};if(c[a]!==void 0&&!isNaN(l))return new Date(l,c[a],1)}return new Date(0)},tD=()=>{const[r,t]=dn.useState(null),[i,a]=dn.useState(!1),[l,c]=dn.useState(""),[d,p]=dn.useState(""),[y,_]=dn.useState("read"),[A,S]=dn.useState(""),[V,Q]=dn.useState(""),[W,it]=dn.useState([]),[tt,ct]=dn.useState(!1),[gt,yt]=dn.useState([]),Nt=L=>L&&Z2.some(et=>et.toLowerCase()===L.email.toLowerCase());dn.useEffect(()=>{const L=kC(Kd,et=>{t(et)});return()=>L()},[]),dn.useEffect(()=>{const L=CI(Gd(Fr,"books"),DI("sortDate","desc")),et=UI(L,ht=>{const w=ht.docs.map(x=>({...x.data(),key:x.id}));yt(w)});return()=>et()},[]),dn.useEffect(()=>{(async()=>{if(gt.length===0)return;const et=gt.find(x=>!x.coverUrl&&(x.attemptedSmartFetch||x.attemptedFetch)&&(x.isbn||x.cover_i));if(et){const x=et.cover_i?`https://covers.openlibrary.org/b/id/${et.cover_i}-M.jpg`:`https://covers.openlibrary.org/b/isbn/${et.isbn}-M.jpg`,Z=Ka(Fr,"books",et.key);await Mc(Z,{coverUrl:x});return}const ht=gt.filter(x=>(!x.coverUrl&&!x.attemptedV2||x.coverUrl&&typeof x.coverUrl=="string"&&x.coverUrl.includes("No+Cover"))&&x.title&&x.key);ht.sort((x,Z)=>{const J=at=>at==="read"?3:at==="scheduled"?2:1;return J(Z.status)-J(x.status)});const w=ht[0];if(w)try{await new Promise(ee=>setTimeout(ee,1500));let x=`intitle:${encodeURIComponent(w.title)}`;const Z=Array.isArray(w.author_name)?w.author_name[0]:w.author_name;Z&&(x+=`+inauthor:${encodeURIComponent(Z)}`);let J=await fetch(`https://www.googleapis.com/books/v1/volumes?q=${x}&maxResults=1`),at=await J.json();if(!at.items||at.items.length===0){const ee=`${encodeURIComponent(w.title)} ${Z?encodeURIComponent(Z):""}`;J=await fetch(`https://www.googleapis.com/books/v1/volumes?q=${ee}&maxResults=1`),at=await J.json()}const ft=at.items?.[0];let _t=ft?.volumeInfo?.imageLinks?.thumbnail?.replace("http:","https:")||null,Ft=null;if(ft?.volumeInfo?.industryIdentifiers){const ee=ft.volumeInfo.industryIdentifiers.find(xe=>xe.type==="ISBN_13")||ft.volumeInfo.industryIdentifiers.find(xe=>xe.type==="ISBN_10");ee&&(Ft=ee.identifier)}if(!_t){const ee=w.isbn||Ft;ee&&(_t=`https://covers.openlibrary.org/b/isbn/${ee}-M.jpg`)}yt(ee=>ee.map(xe=>xe.key===w.key?{...xe,coverUrl:_t,isbn:xe.isbn||Ft,attemptedV2:!0}:xe));const zt=Ka(Fr,"books",w.key);await Mc(zt,{coverUrl:_t,isbn:w.isbn||Ft,attemptedV2:!0})}catch(x){yt(J=>J.map(at=>at.key===w.key?{...at,attemptedV2:!0}:at)),console.error("Error fetching cover",x);const Z=Ka(Fr,"books",w.key);await Mc(Z,{attemptedV2:!0})}})()},[gt]);const te=async L=>{L.preventDefault();try{await MC(Kd,l,d),a(!1),c(""),p("")}catch(et){alert("Login failed: "+et.message)}},kt=async()=>{await xC(Kd)},D=async L=>{if(!L||!L.trim())return;ct(!0),_("search"),it([]);const et=new AbortController,ht=setTimeout(()=>et.abort(),15e3);try{const w=await fetch(`https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(L)}&maxResults=40&printType=books`,{signal:et.signal});if(clearTimeout(ht),!w.ok)throw w.status===429?new Error("Please wait a moment and try again."):new Error(`API Error: ${w.status} ${w.statusText}`);const Z=((await w.json()).items||[]).map(J=>{const at=J.volumeInfo.title,ft=J.volumeInfo.authors||["Unknown"],_t=ft.join(" ");let Ft=null;if(J.volumeInfo.industryIdentifiers){const zt=J.volumeInfo.industryIdentifiers.find(ee=>ee.type==="ISBN_13")||J.volumeInfo.industryIdentifiers.find(ee=>ee.type==="ISBN_10");zt&&(Ft=zt.identifier)}return{key:J.id,title:at,author_name:ft,coverUrl:J.volumeInfo.imageLinks?.thumbnail?.replace("http:","https:"),isbn:Ft,goodreadsLink:`https://www.goodreads.com/search?q=${encodeURIComponent(at+" "+_t)}`,wcclsLink:`https://wccls.bibliocommons.com/v2/search?query=${encodeURIComponent(at+" "+_t)}&searchType=smart`,multcolibLink:`https://multcolib.bibliocommons.com/v2/search?query=${encodeURIComponent(at+" "+_t)}&searchType=smart`}});it(Z)}catch(w){w.name==="AbortError"?(console.error("Search timed out:",w),alert("The book search timed out. Please try again.")):(console.error("Error fetching books:",w),alert(`Failed to search books: ${w.message}`)),it([])}finally{clearTimeout(ht),ct(!1)}},b=async L=>{L.preventDefault(),D(A)},C=L=>{S(L),D(L)},M=async L=>{ct(!0),_("search");try{const et=await fetch(`https://api.nytimes.com/svc/books/v3/lists/current/${L}.json?api-key=${W2.trim()}`);if(!et.ok)throw new Error(`API Error: ${et.status} ${et.statusText}`);const w=((await et.json()).results?.books||[]).map(x=>({key:x.primary_isbn13||x.primary_isbn10||x.title,title:x.title,author_name:[x.author],coverUrl:x.book_image||`https://covers.openlibrary.org/b/isbn/${x.primary_isbn13}-M.jpg`,isbn:x.primary_isbn13,goodreadsLink:`https://www.goodreads.com/search?q=${encodeURIComponent(x.title+" "+x.author)}`,wcclsLink:`https://wccls.bibliocommons.com/v2/search?query=${encodeURIComponent(x.title+" "+x.author)}&searchType=smart`,multcolibLink:`https://multcolib.bibliocommons.com/v2/search?query=${encodeURIComponent(x.title+" "+x.author)}&searchType=smart`}));it(w)}catch(et){console.error("Error fetching NYT list:",et),alert(`Failed to fetch NYT Bestsellers: ${et.message}`)}finally{ct(!1)}},N=async(L,et="suggested")=>{if(!r){alert("Please log in to add books!"),a(!0);return}if(et!=="suggested"&&!Nt(r)){alert("Only admins can add to the Read or Scheduled lists.");return}if(window.confirm(`Add "${L.title}" to the ${et} list?`)){let ht=et==="read"?new Date().toLocaleDateString():"",w=new Date().toISOString(),x=r.email.split("@")[0],Z="";const J=window.prompt("Enter Month/Year (e.g. 'January 2025'):",ht);if(J!==null){ht=J;const _t=Yd(ht);_t.getTime()!==new Date(0).getTime()&&(w=_t.toISOString())}const at=window.prompt("Enter Proposer Name:",x);at!==null&&(x=at);const ft=window.prompt("Enter Comments:","");ft!==null&&(Z=ft);try{await rE(Gd(Fr,"books"),{title:L.title,author_name:L.author_name,coverUrl:L.coverUrl||null,isbn:L.isbn||null,status:et,sortDate:w,displayDate:ht,proposer:x,comments:Z,goodreadsLink:`https://www.goodreads.com/search?q=${encodeURIComponent(L.title+" "+(Array.isArray(L.author_name)?L.author_name.join(" "):L.author_name))}`,wcclsLink:`https://wccls.bibliocommons.com/v2/search?query=${encodeURIComponent(L.title+" "+(Array.isArray(L.author_name)?L.author_name.join(" "):L.author_name))}&searchType=smart`,multcolibLink:`https://multcolib.bibliocommons.com/v2/search?query=${encodeURIComponent(L.title+" "+(Array.isArray(L.author_name)?L.author_name.join(" "):L.author_name))}&searchType=smart`,attemptedV2:!!L.coverUrl}),alert("Book added!"),_(et),S("")}catch(_t){console.error("Error adding book: ",_t),alert("Error adding book.")}}},k=async L=>{if(!r||!Nt(r))return;const et=window.prompt("Edit Date (Month/Year):",L.displayDate||"");if(et===null)return;const ht=window.prompt("Edit Proposer:",L.proposer||"");if(ht===null)return;const w=window.prompt("Edit Comments:",L.comments||"");if(w===null)return;let x=L.sortDate;if(et!==L.displayDate){const Z=Yd(et);Z.getTime()!==new Date(0).getTime()&&(x=Z.toISOString())}try{const Z=Ka(Fr,"books",L.key);await Mc(Z,{displayDate:et,proposer:ht,comments:w,sortDate:x})}catch(Z){console.error("Error updating book: ",Z),alert("Error updating book.")}},R=async L=>{!r||!Nt(r)||window.confirm("Are you sure you want to delete this book?")&&await MI(Ka(Fr,"books",L))},ie=async()=>{if(!(!r||!Nt(r))&&window.confirm("Import new books from Google Sheet?")){ct(!0);try{const ht=(await(await fetch(J2)).text()).split(`
`);if(ht.length<2)throw new Error("No data found");const w=ht[0].split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(Bt=>Bt.replace(/^"|"$/g,"").trim().toLowerCase()),x=w.findIndex(Bt=>Bt.includes("title")||Bt.includes("book")),Z=w.findIndex(Bt=>Bt.includes("author")),J=w.findIndex(Bt=>Bt.includes("month")||Bt.includes("read")||Bt.includes("year")),at=w.findIndex(Bt=>Bt.includes("proposer")||Bt.includes("host")),ft=w.findIndex(Bt=>Bt.includes("isbn")),_t=w.findIndex(Bt=>Bt.includes("comment")||Bt.includes("note")),Ft=x!==-1?x:0,zt=Z!==-1?Z:1;let ee=0;const xe=[],ki=new Set(gt.map(Bt=>Bt.title.toLowerCase().trim()));for(let Bt=1;Bt<ht.length;Bt++){const gn=ht[Bt].split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(ms=>ms.replace(/^"|"$/g,"").trim());if(gn.length<=Math.max(Ft,zt))continue;const sn=gn[Ft],si=gn[zt];if(!sn)continue;const cr=sn.toLowerCase().trim();if(ki.has(cr))continue;ki.add(cr);const le=J!==-1&&gn[J]||"",pe=at!==-1&&gn[at]||"",ai=ft!==-1?gn[ft]:null,vo=_t!==-1?gn[_t]:"";let xi=Yd(le),Me="read";/(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i.test(le)?xi>new Date&&(Me="scheduled"):Me="suggested",xi.setTime(xi.getTime()+Bt*1e3);const ds={title:sn,author_name:[si],isbn:ai,coverUrl:null,status:Me,sortDate:xi.toISOString(),displayDate:le,proposer:pe,comments:vo,goodreadsLink:`https://www.goodreads.com/search?q=${encodeURIComponent(sn+" "+si)}`,wcclsLink:`https://wccls.bibliocommons.com/v2/search?query=${encodeURIComponent(sn+" "+si)}&searchType=smart`,multcolibLink:`https://multcolib.bibliocommons.com/v2/search?query=${encodeURIComponent(sn+" "+si)}&searchType=smart`,attemptedV2:!1};xe.push(rE(Gd(Fr,"books"),ds)),ee++}await Promise.all(xe),alert(ee>0?`Successfully imported ${ee} new books!`:"No new books found to import.")}catch(L){console.error("Migration failed",L),alert("Migration failed: "+L.message)}finally{ct(!1)}}},me=L=>L.coverUrl?L.coverUrl.replace(/^http:/,"https:"):L.cover_i?`https://covers.openlibrary.org/b/id/${L.cover_i}-M.jpg`:L.isbn?`https://covers.openlibrary.org/b/isbn/${L.isbn.replace(/\D/g,"")}-M.jpg`:"https://via.placeholder.com/100x150?text=No+Cover",G=async(L,et)=>{L.target.onerror=null,L.target.src="https://via.placeholder.com/100x150?text=No+Cover"},rt=()=>{let L=[];return y==="search"?L=W:(L=gt.filter(et=>et.status===y&&(et.title.toLowerCase().includes(V.toLowerCase())||(Array.isArray(et.author_name)?et.author_name.join(" "):et.author_name||"").toLowerCase().includes(V.toLowerCase()))),y==="scheduled"?L.sort((et,ht)=>new Date(et.sortDate)-new Date(ht.sortDate)):L.sort((et,ht)=>new Date(ht.sortDate)-new Date(et.sortDate))),L};return mt.jsxs("div",{className:"app-container",children:[mt.jsxs("header",{children:[mt.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"10px"},children:r?mt.jsxs("div",{style:{fontSize:"0.9rem"},children:["Logged in as ",r.email,Nt(r)&&mt.jsx("button",{onClick:ie,style:{marginLeft:"10px",cursor:"pointer",backgroundColor:"#e67e22",color:"white",border:"none",borderRadius:"4px",padding:"2px 8px"},children:"Import CSV"}),mt.jsx("button",{onClick:kt,style:{marginLeft:"10px",cursor:"pointer"},children:"Logout"})]}):mt.jsx("button",{onClick:()=>a(!i),style:{cursor:"pointer"},children:"Member Login"})}),i&&!r&&mt.jsxs("form",{onSubmit:te,style:{marginBottom:"20px",padding:"15px",background:"#f0f0f0",borderRadius:"8px"},children:[mt.jsx("input",{type:"email",placeholder:"Email",value:l,onChange:L=>c(L.target.value),style:{marginRight:"10px",padding:"5px"}}),mt.jsx("input",{type:"password",placeholder:"Password",value:d,onChange:L=>p(L.target.value),style:{marginRight:"10px",padding:"5px"}}),mt.jsx("button",{type:"submit",style:{padding:"5px 10px"},children:"Login"})]}),mt.jsx("img",{src:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?auto=format&fit=crop&w=800&q=80",alt:"Books and coffee",className:"header-image"}),mt.jsx("h1",{children:" Book Club Tracker"}),mt.jsx("p",{children:"Books we've read, scheduled books, and suggested books."})]}),mt.jsxs("form",{onSubmit:b,className:"search-section",children:[mt.jsx("input",{type:"text",className:"search-input",placeholder:"Search Google Books...",value:A,onChange:L=>S(L.target.value)}),mt.jsx("button",{type:"submit",className:"search-btn",disabled:tt,children:tt?"Searching...":"Search"})]}),mt.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"20px",flexWrap:"wrap"},children:[mt.jsx("button",{onClick:()=>M("combined-print-and-e-book-fiction"),className:"tab-btn",style:{fontSize:"0.85rem",padding:"0.5rem 1rem",background:"#e1bee7",color:"#4a148c"},children:" Browse NYT Fiction"}),mt.jsx("button",{onClick:()=>M("combined-print-and-e-book-nonfiction"),className:"tab-btn",style:{fontSize:"0.85rem",padding:"0.5rem 1rem",background:"#e1bee7",color:"#4a148c"},children:" Browse NYT Non-Fiction"}),mt.jsx("button",{onClick:()=>M("trade-fiction-paperback"),className:"tab-btn",style:{fontSize:"0.85rem",padding:"0.5rem 1rem",background:"#e1bee7",color:"#4a148c"},children:" Browse Book Club Picks"}),mt.jsx("button",{onClick:()=>C("subject:mystery"),className:"tab-btn",style:{fontSize:"0.85rem",padding:"0.5rem 1rem",background:"#e1bee7",color:"#4a148c"},children:" Browse Mystery"}),mt.jsx("button",{onClick:()=>C("subject:biography"),className:"tab-btn",style:{fontSize:"0.85rem",padding:"0.5rem 1rem",background:"#e1bee7",color:"#4a148c"},children:" Browse Biographies"})]}),mt.jsxs("div",{className:"tabs",children:[mt.jsxs("button",{className:`tab-btn ${y==="read"?"active":""}`,onClick:()=>_("read"),children:["Books We've Read(",gt.filter(L=>L.status==="read").length,")"]}),mt.jsxs("button",{className:`tab-btn ${y==="scheduled"?"active":""}`,onClick:()=>_("scheduled"),children:[" Scheduled (",gt.filter(L=>L.status==="scheduled").length,")"]}),mt.jsxs("button",{className:`tab-btn ${y==="suggested"?"active":""}`,onClick:()=>_("suggested"),children:[" Suggested/Extras (",gt.filter(L=>L.status==="suggested").length,")"]}),(W.length>0||y==="search")&&mt.jsx("button",{className:`tab-btn ${y==="search"?"active":""}`,onClick:()=>_("search"),children:" Search Results"})]}),y!=="search"&&mt.jsx("input",{type:"text",className:"filter-input",placeholder:`Filter ${y} books...`,value:V,onChange:L=>Q(L.target.value)}),mt.jsx("div",{className:"book-grid",children:rt().length===0?mt.jsx("div",{className:"empty-state",children:y==="search"?tt?"Searching...":"No results found. Try a different search.":"No books in this list yet."}):rt().map(L=>mt.jsxs("div",{className:"book-card",children:[mt.jsx("img",{src:me(L),alt:L.title,className:"book-cover",style:{objectFit:"cover",borderRadius:"4px"},onError:et=>G(et),referrerPolicy:"no-referrer",loading:"lazy"}),mt.jsxs("div",{className:"book-info",children:[mt.jsx("h3",{className:"book-title",children:L.title}),mt.jsx("p",{className:"book-author",children:L.author_name?Array.isArray(L.author_name)?L.author_name.join(", "):L.author_name:"Unknown Author"}),L.displayDate&&mt.jsxs("p",{className:`book-date ${L.status==="scheduled"?"highlight":""}`,children:[" ",L.displayDate]}),L.proposer&&mt.jsxs("p",{className:"book-meta",children:[" Proposed by: ",L.proposer]}),L.comments&&mt.jsxs("p",{className:"book-comments",children:['"',L.comments,'"']}),L.goodreadsLink&&mt.jsx("a",{href:L.goodreadsLink,target:"_blank",rel:"noopener noreferrer",className:"book-link",style:{display:"block",marginTop:"0.5rem"},children:"View on Goodreads "}),(L.wcclsLink||L.title)&&mt.jsx("a",{href:L.wcclsLink||`https://wccls.bibliocommons.com/v2/search?query=${encodeURIComponent(L.title+(L.author_name?" "+(Array.isArray(L.author_name)?L.author_name.join(" "):L.author_name):""))}&searchType=smart`,target:"_blank",rel:"noopener noreferrer",className:"book-link",children:"View on WCCLS "}),(L.multcolibLink||L.title)&&mt.jsx("a",{href:L.multcolibLink||`https://multcolib.bibliocommons.com/v2/search?query=${encodeURIComponent(L.title+(L.author_name?" "+(Array.isArray(L.author_name)?L.author_name.join(" "):L.author_name):""))}&searchType=smart`,target:"_blank",rel:"noopener noreferrer",className:"book-link",children:"View on Multnomah "}),mt.jsxs("div",{className:"actions",children:[y==="search"&&mt.jsxs(mt.Fragment,{children:[mt.jsx("button",{className:"action-btn btn-suggest",onClick:()=>N(L,"suggested"),children:"+ Add to Suggestions"}),Nt(r)&&mt.jsxs(mt.Fragment,{children:[mt.jsx("button",{className:"action-btn btn-read",onClick:()=>N(L,"read"),style:{marginTop:"5px"},children:"+ Add to Read"}),mt.jsx("button",{className:"action-btn btn-suggest",style:{backgroundColor:"#8e44ad",marginTop:"5px"},onClick:()=>N(L,"scheduled"),children:"+ Add to Scheduled"})]})]}),Nt(r)&&y!=="search"&&mt.jsxs("div",{style:{display:"flex",gap:"5px",marginTop:"5px"},children:[mt.jsx("button",{className:"action-btn",style:{backgroundColor:"#2980b9",color:"white"},onClick:()=>k(L),children:"Edit"}),mt.jsx("button",{className:"action-btn btn-remove",onClick:()=>R(L.key),children:"Delete"})]})]})]})]},L.key))})]})};VS.createRoot(document.getElementById("root")).render(mt.jsx(dn.StrictMode,{children:mt.jsx(tD,{})}));
